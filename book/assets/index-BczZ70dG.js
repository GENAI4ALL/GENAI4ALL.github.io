var RM=Object.defineProperty;var OS=n=>{throw TypeError(n)};var NM=(n,e,t)=>e in n?RM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var z=(n,e,t)=>NM(n,typeof e!="symbol"?e+"":e,t),gw=(n,e,t)=>e.has(n)||OS("Cannot "+t);var a=(n,e,t)=>(gw(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?OS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),y=(n,e,t,r)=>(gw(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),E=(n,e,t)=>(gw(n,e,"access private method"),t);var ht=(n,e,t,r)=>({set _(s){y(n,e,s,t)},get _(){return a(n,e,r)}});function MM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function q1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var M_={exports:{}},_0={},D_={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=Symbol.for("react.element"),DM=Symbol.for("react.portal"),LM=Symbol.for("react.fragment"),IM=Symbol.for("react.strict_mode"),OM=Symbol.for("react.profiler"),FM=Symbol.for("react.provider"),jM=Symbol.for("react.context"),BM=Symbol.for("react.forward_ref"),zM=Symbol.for("react.suspense"),$M=Symbol.for("react.memo"),UM=Symbol.for("react.lazy"),FS=Symbol.iterator;function HM(n){return n===null||typeof n!="object"?null:(n=FS&&n[FS]||n["@@iterator"],typeof n=="function"?n:null)}var L_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I_=Object.assign,O_={};function Zh(n,e,t){this.props=n,this.context=e,this.refs=O_,this.updater=t||L_}Zh.prototype.isReactComponent={};Zh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Zh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function F_(){}F_.prototype=Zh.prototype;function X1(n,e,t){this.props=n,this.context=e,this.refs=O_,this.updater=t||L_}var Y1=X1.prototype=new F_;Y1.constructor=X1;I_(Y1,Zh.prototype);Y1.isPureReactComponent=!0;var jS=Array.isArray,j_=Object.prototype.hasOwnProperty,K1={current:null},B_={key:!0,ref:!0,__self:!0,__source:!0};function z_(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)j_.call(e,r)&&!B_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(r in l=n.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:vg,type:n,key:i,ref:o,props:s,_owner:K1.current}}function VM(n,e){return{$$typeof:vg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Q1(n){return typeof n=="object"&&n!==null&&n.$$typeof===vg}function WM(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var BS=/\/+/g;function yw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?WM(""+n.key):e.toString(36)}function by(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case vg:case DM:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+yw(o,0):r,jS(s)?(t="",n!=null&&(t=n.replace(BS,"$&/")+"/"),by(s,e,t,"",function(u){return u})):s!=null&&(Q1(s)&&(s=VM(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(BS,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",jS(n))for(var l=0;l<n.length;l++){i=n[l];var c=r+yw(i,l);o+=by(i,e,t,c,s)}else if(c=HM(n),typeof c=="function")for(n=c.call(n),l=0;!(i=n.next()).done;)i=i.value,c=r+yw(i,l++),o+=by(i,e,t,c,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fg(n,e,t){if(n==null)return n;var r=[],s=0;return by(n,r,"","",function(i){return e.call(t,i,s++)}),r}function GM(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Fn={current:null},Ay={transition:null},qM={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:Ay,ReactCurrentOwner:K1};function $_(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Fg,forEach:function(n,e,t){Fg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Fg(n,function(){e++}),e},toArray:function(n){return Fg(n,function(e){return e})||[]},only:function(n){if(!Q1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ye.Component=Zh;ye.Fragment=LM;ye.Profiler=OM;ye.PureComponent=X1;ye.StrictMode=IM;ye.Suspense=zM;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qM;ye.act=$_;ye.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=I_({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=K1.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)j_.call(e,c)&&!B_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vg,type:n.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(n){return n={$$typeof:jM,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:FM,_context:n},n.Consumer=n};ye.createElement=z_;ye.createFactory=function(n){var e=z_.bind(null,n);return e.type=n,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(n){return{$$typeof:BM,render:n}};ye.isValidElement=Q1;ye.lazy=function(n){return{$$typeof:UM,_payload:{_status:-1,_result:n},_init:GM}};ye.memo=function(n,e){return{$$typeof:$M,type:n,compare:e===void 0?null:e}};ye.startTransition=function(n){var e=Ay.transition;Ay.transition={};try{n()}finally{Ay.transition=e}};ye.unstable_act=$_;ye.useCallback=function(n,e){return Fn.current.useCallback(n,e)};ye.useContext=function(n){return Fn.current.useContext(n)};ye.useDebugValue=function(){};ye.useDeferredValue=function(n){return Fn.current.useDeferredValue(n)};ye.useEffect=function(n,e){return Fn.current.useEffect(n,e)};ye.useId=function(){return Fn.current.useId()};ye.useImperativeHandle=function(n,e,t){return Fn.current.useImperativeHandle(n,e,t)};ye.useInsertionEffect=function(n,e){return Fn.current.useInsertionEffect(n,e)};ye.useLayoutEffect=function(n,e){return Fn.current.useLayoutEffect(n,e)};ye.useMemo=function(n,e){return Fn.current.useMemo(n,e)};ye.useReducer=function(n,e,t){return Fn.current.useReducer(n,e,t)};ye.useRef=function(n){return Fn.current.useRef(n)};ye.useState=function(n){return Fn.current.useState(n)};ye.useSyncExternalStore=function(n,e,t){return Fn.current.useSyncExternalStore(n,e,t)};ye.useTransition=function(){return Fn.current.useTransition()};ye.version="18.3.1";D_.exports=ye;var _=D_.exports;const G=q1(_),Z1=MM({__proto__:null,default:G},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XM=_,YM=Symbol.for("react.element"),KM=Symbol.for("react.fragment"),QM=Object.prototype.hasOwnProperty,ZM=XM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JM={key:!0,ref:!0,__self:!0,__source:!0};function U_(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QM.call(e,r)&&!JM.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:YM,type:n,key:i,ref:o,props:s,_owner:ZM.current}}_0.Fragment=KM;_0.jsx=U_;_0.jsxs=U_;M_.exports=_0;var b=M_.exports,H_={exports:{}},Mr={},V_={exports:{}},W_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,F){var H=L.length;L.push(F);e:for(;0<H;){var ne=H-1>>>1,V=L[ne];if(0<s(V,F))L[ne]=F,L[H]=V,H=ne;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],H=L.pop();if(H!==F){L[0]=H;e:for(var ne=0,V=L.length,X=V>>>1;ne<X;){var re=2*(ne+1)-1,me=L[re],be=re+1,te=L[be];if(0>s(me,H))be<V&&0>s(te,me)?(L[ne]=te,L[be]=H,ne=be):(L[ne]=me,L[re]=H,ne=re);else if(be<V&&0>s(te,H))L[ne]=te,L[be]=H,ne=be;else break e}}return F}function s(L,F){var H=L.sortIndex-F.sortIndex;return H!==0?H:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(L){for(var F=t(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=L)r(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=t(u)}}function C(L){if(m=!1,A(L),!v)if(t(c)!==null)v=!0,j(T);else{var F=t(u);F!==null&&B(C,F.startTime-L)}}function T(L,F){v=!1,m&&(m=!1,g(R),R=-1),p=!0;var H=f;try{for(A(F),h=t(c);h!==null&&(!(h.expirationTime>F)||L&&!M());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var V=ne(h.expirationTime<=F);F=n.unstable_now(),typeof V=="function"?h.callback=V:h===t(c)&&r(c),A(F)}else r(c);h=t(c)}if(h!==null)var X=!0;else{var re=t(u);re!==null&&B(C,re.startTime-F),X=!1}return X}finally{h=null,f=H,p=!1}}var k=!1,P=null,R=-1,N=5,D=-1;function M(){return!(n.unstable_now()-D<N)}function O(){if(P!==null){var L=n.unstable_now();D=L;var F=!0;try{F=P(!0,L)}finally{F?$():(k=!1,P=null)}}else k=!1}var $;if(typeof w=="function")$=function(){w(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=O,$=function(){W.postMessage(null)}}else $=function(){x(O,0)};function j(L){P=L,k||(k=!0,$())}function B(L,F){R=x(function(){L(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,j(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var H=f;f=F;try{return L()}finally{f=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=f;f=L;try{return F()}finally{f=H}},n.unstable_scheduleCallback=function(L,F,H){var ne=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,L){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,L={id:d++,callback:F,priorityLevel:L,startTime:H,expirationTime:V,sortIndex:-1},H>ne?(L.sortIndex=H,e(u,L),t(c)===null&&L===t(u)&&(m?(g(R),R=-1):m=!0,B(C,H-ne))):(L.sortIndex=V,e(c,L),v||p||(v=!0,j(T))),L},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(L){var F=f;return function(){var H=f;f=F;try{return L.apply(this,arguments)}finally{f=H}}}})(W_);V_.exports=W_;var eD=V_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD=_,Rr=eD;function U(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G_=new Set,op={};function du(n,e){zh(n,e),zh(n+"Capture",e)}function zh(n,e){for(op[n]=e,n=0;n<e.length;n++)G_.add(e[n])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hx=Object.prototype.hasOwnProperty,nD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zS={},$S={};function rD(n){return hx.call($S,n)?!0:hx.call(zS,n)?!1:nD.test(n)?$S[n]=!0:(zS[n]=!0,!1)}function sD(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function iD(n,e,t,r){if(e===null||typeof e>"u"||sD(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){on[n]=new jn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];on[e]=new jn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){on[n]=new jn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){on[n]=new jn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){on[n]=new jn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){on[n]=new jn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){on[n]=new jn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){on[n]=new jn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){on[n]=new jn(n,5,!1,n.toLowerCase(),null,!1,!1)});var J1=/[\-:]([a-z])/g;function eA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(J1,eA);on[e]=new jn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(J1,eA);on[e]=new jn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(J1,eA);on[e]=new jn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){on[n]=new jn(n,1,!1,n.toLowerCase(),null,!1,!1)});on.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){on[n]=new jn(n,1,!1,n.toLowerCase(),null,!0,!0)});function tA(n,e,t,r){var s=on.hasOwnProperty(e)?on[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iD(e,t,s,r)&&(t=null),r||s===null?rD(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var zo=tD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jg=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Nu=Symbol.for("react.fragment"),nA=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),q_=Symbol.for("react.provider"),X_=Symbol.for("react.context"),rA=Symbol.for("react.forward_ref"),px=Symbol.for("react.suspense"),mx=Symbol.for("react.suspense_list"),sA=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),Y_=Symbol.for("react.offscreen"),US=Symbol.iterator;function cf(n){return n===null||typeof n!="object"?null:(n=US&&n[US]||n["@@iterator"],typeof n=="function"?n:null)}var ct=Object.assign,vw;function Sf(n){if(vw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);vw=e&&e[1]||""}return`
`+vw+n}var ww=!1;function xw(n,e){if(!n||ww)return"";ww=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=l);break}}}finally{ww=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Sf(n):""}function oD(n){switch(n.tag){case 5:return Sf(n.type);case 16:return Sf("Lazy");case 13:return Sf("Suspense");case 19:return Sf("SuspenseList");case 0:case 2:case 15:return n=xw(n.type,!1),n;case 11:return n=xw(n.type.render,!1),n;case 1:return n=xw(n.type,!0),n;default:return""}}function gx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Nu:return"Fragment";case Ru:return"Portal";case fx:return"Profiler";case nA:return"StrictMode";case px:return"Suspense";case mx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case X_:return(n.displayName||"Context")+".Consumer";case q_:return(n._context.displayName||"Context")+".Provider";case rA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case sA:return e=n.displayName||null,e!==null?e:gx(n.type)||"Memo";case Zo:e=n._payload,n=n._init;try{return gx(n(e))}catch{}}return null}function aD(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gx(e);case 8:return e===nA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function K_(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lD(n){var e=K_(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Bg(n){n._valueTracker||(n._valueTracker=lD(n))}function Q_(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=K_(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function gv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yx(n,e){var t=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function HS(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=hl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z_(n,e){e=e.checked,e!=null&&tA(n,"checked",e,!1)}function vx(n,e){Z_(n,e);var t=hl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?wx(n,e.type,t):e.hasOwnProperty("defaultValue")&&wx(n,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function VS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function wx(n,e,t){(e!=="number"||gv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ef=Array.isArray;function qu(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+hl(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function xx(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function WS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(U(92));if(Ef(t)){if(1<t.length)throw Error(U(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:hl(t)}}function J_(n,e){var t=hl(e.value),r=hl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function GS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function eT(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?eT(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var zg,tT=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(zg=zg||document.createElement("div"),zg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ap(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Yf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cD=["Webkit","ms","Moz","O"];Object.keys(Yf).forEach(function(n){cD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Yf[e]=Yf[n]})});function nT(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Yf.hasOwnProperty(n)&&Yf[n]?(""+e).trim():e+"px"}function rT(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=nT(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var uD=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ax(n,e){if(e){if(uD[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Sx(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ex=null;function iA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Cx=null,Xu=null,Yu=null;function qS(n){if(n=bg(n)){if(typeof Cx!="function")throw Error(U(280));var e=n.stateNode;e&&(e=N0(e),Cx(n.stateNode,n.type,e))}}function sT(n){Xu?Yu?Yu.push(n):Yu=[n]:Xu=n}function iT(){if(Xu){var n=Xu,e=Yu;if(Yu=Xu=null,qS(n),e)for(n=0;n<e.length;n++)qS(e[n])}}function oT(n,e){return n(e)}function aT(){}var bw=!1;function lT(n,e,t){if(bw)return n(e,t);bw=!0;try{return oT(n,e,t)}finally{bw=!1,(Xu!==null||Yu!==null)&&(aT(),iT())}}function lp(n,e){var t=n.stateNode;if(t===null)return null;var r=N0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(U(231,e,typeof t));return t}var _x=!1;if(ko)try{var uf={};Object.defineProperty(uf,"passive",{get:function(){_x=!0}}),window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{_x=!1}function dD(n,e,t,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Kf=!1,yv=null,vv=!1,Tx=null,hD={onError:function(n){Kf=!0,yv=n}};function fD(n,e,t,r,s,i,o,l,c){Kf=!1,yv=null,dD.apply(hD,arguments)}function pD(n,e,t,r,s,i,o,l,c){if(fD.apply(this,arguments),Kf){if(Kf){var u=yv;Kf=!1,yv=null}else throw Error(U(198));vv||(vv=!0,Tx=u)}}function hu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function cT(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function XS(n){if(hu(n)!==n)throw Error(U(188))}function mD(n){var e=n.alternate;if(!e){if(e=hu(n),e===null)throw Error(U(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return XS(s),n;if(i===r)return XS(s),e;i=i.sibling}throw Error(U(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===t){o=!0,t=s,r=i;break}if(l===r){o=!0,r=s,t=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===t){o=!0,t=i,r=s;break}if(l===r){o=!0,r=i,t=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(t.alternate!==r)throw Error(U(190))}if(t.tag!==3)throw Error(U(188));return t.stateNode.current===t?n:e}function uT(n){return n=mD(n),n!==null?dT(n):null}function dT(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dT(n);if(e!==null)return e;n=n.sibling}return null}var hT=Rr.unstable_scheduleCallback,YS=Rr.unstable_cancelCallback,gD=Rr.unstable_shouldYield,yD=Rr.unstable_requestPaint,St=Rr.unstable_now,vD=Rr.unstable_getCurrentPriorityLevel,oA=Rr.unstable_ImmediatePriority,fT=Rr.unstable_UserBlockingPriority,wv=Rr.unstable_NormalPriority,wD=Rr.unstable_LowPriority,pT=Rr.unstable_IdlePriority,T0=null,Ei=null;function xD(n){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(T0,n,void 0,(n.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:SD,bD=Math.log,AD=Math.LN2;function SD(n){return n>>>=0,n===0?32:31-(bD(n)/AD|0)|0}var $g=64,Ug=4194304;function Cf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~s;l!==0?r=Cf(l):(i&=o,i!==0&&(r=Cf(i)))}else o=t&~s,o!==0?r=Cf(o):i!==0&&(r=Cf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Rs(e),s=1<<t,r|=n[t],e&=~s;return r}function ED(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CD(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Rs(i),l=1<<o,c=s[o];c===-1?(!(l&t)||l&r)&&(s[o]=ED(l,e)):c<=e&&(n.expiredLanes|=l),i&=~l}}function kx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mT(){var n=$g;return $g<<=1,!($g&4194240)&&($g=64),n}function Aw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function wg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Rs(e),n[e]=t}function _D(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Rs(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function aA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Rs(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Re=0;function gT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yT,lA,vT,wT,xT,Px=!1,Hg=[],sl=null,il=null,ol=null,cp=new Map,up=new Map,ea=[],TD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KS(n,e){switch(n){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":cp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":up.delete(e.pointerId)}}function df(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bg(e),e!==null&&lA(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function kD(n,e,t,r,s){switch(e){case"focusin":return sl=df(sl,n,e,t,r,s),!0;case"dragenter":return il=df(il,n,e,t,r,s),!0;case"mouseover":return ol=df(ol,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return cp.set(i,df(cp.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,up.set(i,df(up.get(i)||null,n,e,t,r,s)),!0}return!1}function bT(n){var e=Dl(n.target);if(e!==null){var t=hu(e);if(t!==null){if(e=t.tag,e===13){if(e=cT(t),e!==null){n.blockedOn=e,xT(n.priority,function(){vT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Sy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Rx(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Ex=r,t.target.dispatchEvent(r),Ex=null}else return e=bg(t),e!==null&&lA(e),n.blockedOn=t,!1;e.shift()}return!0}function QS(n,e,t){Sy(n)&&t.delete(e)}function PD(){Px=!1,sl!==null&&Sy(sl)&&(sl=null),il!==null&&Sy(il)&&(il=null),ol!==null&&Sy(ol)&&(ol=null),cp.forEach(QS),up.forEach(QS)}function hf(n,e){n.blockedOn===e&&(n.blockedOn=null,Px||(Px=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,PD)))}function dp(n){function e(s){return hf(s,n)}if(0<Hg.length){hf(Hg[0],n);for(var t=1;t<Hg.length;t++){var r=Hg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(sl!==null&&hf(sl,n),il!==null&&hf(il,n),ol!==null&&hf(ol,n),cp.forEach(e),up.forEach(e),t=0;t<ea.length;t++)r=ea[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ea.length&&(t=ea[0],t.blockedOn===null);)bT(t),t.blockedOn===null&&ea.shift()}var Ku=zo.ReactCurrentBatchConfig,bv=!0;function RD(n,e,t,r){var s=Re,i=Ku.transition;Ku.transition=null;try{Re=1,cA(n,e,t,r)}finally{Re=s,Ku.transition=i}}function ND(n,e,t,r){var s=Re,i=Ku.transition;Ku.transition=null;try{Re=4,cA(n,e,t,r)}finally{Re=s,Ku.transition=i}}function cA(n,e,t,r){if(bv){var s=Rx(n,e,t,r);if(s===null)Mw(n,e,r,Av,t),KS(n,r);else if(kD(s,n,e,t,r))r.stopPropagation();else if(KS(n,r),e&4&&-1<TD.indexOf(n)){for(;s!==null;){var i=bg(s);if(i!==null&&yT(i),i=Rx(n,e,t,r),i===null&&Mw(n,e,r,Av,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mw(n,e,r,null,t)}}var Av=null;function Rx(n,e,t,r){if(Av=null,n=iA(r),n=Dl(n),n!==null)if(e=hu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=cT(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Av=n,null}function AT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vD()){case oA:return 1;case fT:return 4;case wv:case wD:return 16;case pT:return 536870912;default:return 16}default:return 16}}var tl=null,uA=null,Ey=null;function ST(){if(Ey)return Ey;var n,e=uA,t=e.length,r,s="value"in tl?tl.value:tl.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return Ey=s.slice(n,1<r?1-r:void 0)}function Cy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Vg(){return!0}function ZS(){return!1}function Dr(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vg:ZS,this.isPropagationStopped=ZS,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Vg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Vg)},persist:function(){},isPersistent:Vg}),e}var Jh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dA=Dr(Jh),xg=ct({},Jh,{view:0,detail:0}),MD=Dr(xg),Sw,Ew,ff,k0=ct({},xg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ff&&(ff&&n.type==="mousemove"?(Sw=n.screenX-ff.screenX,Ew=n.screenY-ff.screenY):Ew=Sw=0,ff=n),Sw)},movementY:function(n){return"movementY"in n?n.movementY:Ew}}),JS=Dr(k0),DD=ct({},k0,{dataTransfer:0}),LD=Dr(DD),ID=ct({},xg,{relatedTarget:0}),Cw=Dr(ID),OD=ct({},Jh,{animationName:0,elapsedTime:0,pseudoElement:0}),FD=Dr(OD),jD=ct({},Jh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),BD=Dr(jD),zD=ct({},Jh,{data:0}),eE=Dr(zD),$D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VD(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=HD[n])?!!e[n]:!1}function hA(){return VD}var WD=ct({},xg,{key:function(n){if(n.key){var e=$D[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Cy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?UD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hA,charCode:function(n){return n.type==="keypress"?Cy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),GD=Dr(WD),qD=ct({},k0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tE=Dr(qD),XD=ct({},xg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hA}),YD=Dr(XD),KD=ct({},Jh,{propertyName:0,elapsedTime:0,pseudoElement:0}),QD=Dr(KD),ZD=ct({},k0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JD=Dr(ZD),eL=[9,13,27,32],fA=ko&&"CompositionEvent"in window,Qf=null;ko&&"documentMode"in document&&(Qf=document.documentMode);var tL=ko&&"TextEvent"in window&&!Qf,ET=ko&&(!fA||Qf&&8<Qf&&11>=Qf),nE=" ",rE=!1;function CT(n,e){switch(n){case"keyup":return eL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _T(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mu=!1;function nL(n,e){switch(n){case"compositionend":return _T(e);case"keypress":return e.which!==32?null:(rE=!0,nE);case"textInput":return n=e.data,n===nE&&rE?null:n;default:return null}}function rL(n,e){if(Mu)return n==="compositionend"||!fA&&CT(n,e)?(n=ST(),Ey=uA=tl=null,Mu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ET&&e.locale!=="ko"?null:e.data;default:return null}}var sL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!sL[n.type]:e==="textarea"}function TT(n,e,t,r){sT(r),e=Sv(e,"onChange"),0<e.length&&(t=new dA("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Zf=null,hp=null;function iL(n){jT(n,0)}function P0(n){var e=Iu(n);if(Q_(e))return n}function oL(n,e){if(n==="change")return e}var kT=!1;if(ko){var _w;if(ko){var Tw="oninput"in document;if(!Tw){var iE=document.createElement("div");iE.setAttribute("oninput","return;"),Tw=typeof iE.oninput=="function"}_w=Tw}else _w=!1;kT=_w&&(!document.documentMode||9<document.documentMode)}function oE(){Zf&&(Zf.detachEvent("onpropertychange",PT),hp=Zf=null)}function PT(n){if(n.propertyName==="value"&&P0(hp)){var e=[];TT(e,hp,n,iA(n)),lT(iL,e)}}function aL(n,e,t){n==="focusin"?(oE(),Zf=e,hp=t,Zf.attachEvent("onpropertychange",PT)):n==="focusout"&&oE()}function lL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return P0(hp)}function cL(n,e){if(n==="click")return P0(e)}function uL(n,e){if(n==="input"||n==="change")return P0(e)}function dL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ms=typeof Object.is=="function"?Object.is:dL;function fp(n,e){if(Ms(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!hx.call(e,s)||!Ms(n[s],e[s]))return!1}return!0}function aE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lE(n,e){var t=aE(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=aE(t)}}function RT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?RT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function NT(){for(var n=window,e=gv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=gv(n.document)}return e}function pA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function hL(n){var e=NT(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&RT(t.ownerDocument.documentElement,t)){if(r!==null&&pA(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=lE(t,i);var o=lE(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fL=ko&&"documentMode"in document&&11>=document.documentMode,Du=null,Nx=null,Jf=null,Mx=!1;function cE(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Mx||Du==null||Du!==gv(r)||(r=Du,"selectionStart"in r&&pA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jf&&fp(Jf,r)||(Jf=r,r=Sv(Nx,"onSelect"),0<r.length&&(e=new dA("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Du)))}function Wg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Lu={animationend:Wg("Animation","AnimationEnd"),animationiteration:Wg("Animation","AnimationIteration"),animationstart:Wg("Animation","AnimationStart"),transitionend:Wg("Transition","TransitionEnd")},kw={},MT={};ko&&(MT=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function R0(n){if(kw[n])return kw[n];if(!Lu[n])return n;var e=Lu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in MT)return kw[n]=e[t];return n}var DT=R0("animationend"),LT=R0("animationiteration"),IT=R0("animationstart"),OT=R0("transitionend"),FT=new Map,uE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xl(n,e){FT.set(n,e),du(e,[n])}for(var Pw=0;Pw<uE.length;Pw++){var Rw=uE[Pw],pL=Rw.toLowerCase(),mL=Rw[0].toUpperCase()+Rw.slice(1);xl(pL,"on"+mL)}xl(DT,"onAnimationEnd");xl(LT,"onAnimationIteration");xl(IT,"onAnimationStart");xl("dblclick","onDoubleClick");xl("focusin","onFocus");xl("focusout","onBlur");xl(OT,"onTransitionEnd");zh("onMouseEnter",["mouseout","mouseover"]);zh("onMouseLeave",["mouseout","mouseover"]);zh("onPointerEnter",["pointerout","pointerover"]);zh("onPointerLeave",["pointerout","pointerover"]);du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));du("onBeforeInput",["compositionend","keypress","textInput","paste"]);du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gL=new Set("cancel close invalid load scroll toggle".split(" ").concat(_f));function dE(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,pD(r,e,void 0,n),n.currentTarget=null}function jT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;dE(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;dE(s,l,u),i=c}}}if(vv)throw n=Tx,vv=!1,Tx=null,n}function Ge(n,e){var t=e[Fx];t===void 0&&(t=e[Fx]=new Set);var r=n+"__bubble";t.has(r)||(BT(e,n,2,!1),t.add(r))}function Nw(n,e,t){var r=0;e&&(r|=4),BT(t,n,r,e)}var Gg="_reactListening"+Math.random().toString(36).slice(2);function pp(n){if(!n[Gg]){n[Gg]=!0,G_.forEach(function(t){t!=="selectionchange"&&(gL.has(t)||Nw(t,!1,n),Nw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Gg]||(e[Gg]=!0,Nw("selectionchange",!1,e))}}function BT(n,e,t,r){switch(AT(e)){case 1:var s=RD;break;case 4:s=ND;break;default:s=cA}t=s.bind(null,e,t,n),s=void 0,!_x||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Mw(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Dl(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}lT(function(){var u=i,d=iA(t),h=[];e:{var f=FT.get(n);if(f!==void 0){var p=dA,v=n;switch(n){case"keypress":if(Cy(t)===0)break e;case"keydown":case"keyup":p=GD;break;case"focusin":v="focus",p=Cw;break;case"focusout":v="blur",p=Cw;break;case"beforeblur":case"afterblur":p=Cw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=JS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YD;break;case DT:case LT:case IT:p=FD;break;case OT:p=QD;break;case"scroll":p=MD;break;case"wheel":p=JD;break;case"copy":case"cut":case"paste":p=BD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tE}var m=(e&4)!==0,x=!m&&n==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var w=u,A;w!==null;){A=w;var C=A.stateNode;if(A.tag===5&&C!==null&&(A=C,g!==null&&(C=lp(w,g),C!=null&&m.push(mp(w,C,A)))),x)break;w=w.return}0<m.length&&(f=new p(f,v,null,t,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Ex&&(v=t.relatedTarget||t.fromElement)&&(Dl(v)||v[Po]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=u,v=v?Dl(v):null,v!==null&&(x=hu(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=JS,C="onMouseLeave",g="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(m=tE,C="onPointerLeave",g="onPointerEnter",w="pointer"),x=p==null?f:Iu(p),A=v==null?f:Iu(v),f=new m(C,w+"leave",p,t,d),f.target=x,f.relatedTarget=A,C=null,Dl(d)===u&&(m=new m(g,w+"enter",v,t,d),m.target=A,m.relatedTarget=x,C=m),x=C,p&&v)t:{for(m=p,g=v,w=0,A=m;A;A=yu(A))w++;for(A=0,C=g;C;C=yu(C))A++;for(;0<w-A;)m=yu(m),w--;for(;0<A-w;)g=yu(g),A--;for(;w--;){if(m===g||g!==null&&m===g.alternate)break t;m=yu(m),g=yu(g)}m=null}else m=null;p!==null&&hE(h,f,p,m,!1),v!==null&&x!==null&&hE(h,x,v,m,!0)}}e:{if(f=u?Iu(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=oL;else if(sE(f))if(kT)T=uL;else{T=lL;var k=aL}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=cL);if(T&&(T=T(n,u))){TT(h,T,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&wx(f,"number",f.value)}switch(k=u?Iu(u):window,n){case"focusin":(sE(k)||k.contentEditable==="true")&&(Du=k,Nx=u,Jf=null);break;case"focusout":Jf=Nx=Du=null;break;case"mousedown":Mx=!0;break;case"contextmenu":case"mouseup":case"dragend":Mx=!1,cE(h,t,d);break;case"selectionchange":if(fL)break;case"keydown":case"keyup":cE(h,t,d)}var P;if(fA)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Mu?CT(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(ET&&t.locale!=="ko"&&(Mu||R!=="onCompositionStart"?R==="onCompositionEnd"&&Mu&&(P=ST()):(tl=d,uA="value"in tl?tl.value:tl.textContent,Mu=!0)),k=Sv(u,R),0<k.length&&(R=new eE(R,n,null,t,d),h.push({event:R,listeners:k}),P?R.data=P:(P=_T(t),P!==null&&(R.data=P)))),(P=tL?nL(n,t):rL(n,t))&&(u=Sv(u,"onBeforeInput"),0<u.length&&(d=new eE("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}jT(h,e)})}function mp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Sv(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lp(n,t),i!=null&&r.unshift(mp(n,i,s)),i=lp(n,e),i!=null&&r.push(mp(n,i,s))),n=n.return}return r}function yu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function hE(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var l=t,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=lp(t,i),c!=null&&o.unshift(mp(t,c,l))):s||(c=lp(t,i),c!=null&&o.push(mp(t,c,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var yL=/\r\n?/g,vL=/\u0000|\uFFFD/g;function fE(n){return(typeof n=="string"?n:""+n).replace(yL,`
`).replace(vL,"")}function qg(n,e,t){if(e=fE(e),fE(n)!==e&&t)throw Error(U(425))}function Ev(){}var Dx=null,Lx=null;function Ix(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ox=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,xL=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(n){return pE.resolve(null).then(n).catch(bL)}:Ox;function bL(n){setTimeout(function(){throw n})}function Dw(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),dp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);dp(e)}function al(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function mE(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ef=Math.random().toString(36).slice(2),wi="__reactFiber$"+ef,gp="__reactProps$"+ef,Po="__reactContainer$"+ef,Fx="__reactEvents$"+ef,AL="__reactListeners$"+ef,SL="__reactHandles$"+ef;function Dl(n){var e=n[wi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Po]||t[wi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=mE(n);n!==null;){if(t=n[wi])return t;n=mE(n)}return e}n=t,t=n.parentNode}return null}function bg(n){return n=n[wi]||n[Po],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Iu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(U(33))}function N0(n){return n[gp]||null}var jx=[],Ou=-1;function bl(n){return{current:n}}function Xe(n){0>Ou||(n.current=jx[Ou],jx[Ou]=null,Ou--)}function He(n,e){Ou++,jx[Ou]=n.current,n.current=e}var fl={},bn=bl(fl),Jn=bl(!1),nu=fl;function $h(n,e){var t=n.type.contextTypes;if(!t)return fl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function er(n){return n=n.childContextTypes,n!=null}function Cv(){Xe(Jn),Xe(bn)}function gE(n,e,t){if(bn.current!==fl)throw Error(U(168));He(bn,e),He(Jn,t)}function zT(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,aD(n)||"Unknown",s));return ct({},t,r)}function _v(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||fl,nu=bn.current,He(bn,n),He(Jn,Jn.current),!0}function yE(n,e,t){var r=n.stateNode;if(!r)throw Error(U(169));t?(n=zT(n,e,nu),r.__reactInternalMemoizedMergedChildContext=n,Xe(Jn),Xe(bn),He(bn,n)):Xe(Jn),He(Jn,t)}var zi=null,M0=!1,Lw=!1;function $T(n){zi===null?zi=[n]:zi.push(n)}function EL(n){M0=!0,$T(n)}function Al(){if(!Lw&&zi!==null){Lw=!0;var n=0,e=Re;try{var t=zi;for(Re=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}zi=null,M0=!1}catch(s){throw zi!==null&&(zi=zi.slice(n+1)),hT(oA,Al),s}finally{Re=e,Lw=!1}}return null}var Fu=[],ju=0,Tv=null,kv=0,Xr=[],Yr=0,ru=null,So=1,Eo="";function Cl(n,e){Fu[ju++]=kv,Fu[ju++]=Tv,Tv=n,kv=e}function UT(n,e,t){Xr[Yr++]=So,Xr[Yr++]=Eo,Xr[Yr++]=ru,ru=n;var r=So;n=Eo;var s=32-Rs(r)-1;r&=~(1<<s),t+=1;var i=32-Rs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,So=1<<32-Rs(e)+s|t<<s|r,Eo=i+n}else So=1<<i|t<<s|r,Eo=n}function mA(n){n.return!==null&&(Cl(n,1),UT(n,1,0))}function gA(n){for(;n===Tv;)Tv=Fu[--ju],Fu[ju]=null,kv=Fu[--ju],Fu[ju]=null;for(;n===ru;)ru=Xr[--Yr],Xr[Yr]=null,Eo=Xr[--Yr],Xr[Yr]=null,So=Xr[--Yr],Xr[Yr]=null}var Tr=null,_r=null,Je=!1,ks=null;function HT(n,e){var t=Zr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function vE(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Tr=n,_r=al(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Tr=n,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ru!==null?{id:So,overflow:Eo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Zr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Tr=n,_r=null,!0):!1;default:return!1}}function Bx(n){return(n.mode&1)!==0&&(n.flags&128)===0}function zx(n){if(Je){var e=_r;if(e){var t=e;if(!vE(n,e)){if(Bx(n))throw Error(U(418));e=al(t.nextSibling);var r=Tr;e&&vE(n,e)?HT(r,t):(n.flags=n.flags&-4097|2,Je=!1,Tr=n)}}else{if(Bx(n))throw Error(U(418));n.flags=n.flags&-4097|2,Je=!1,Tr=n}}}function wE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Tr=n}function Xg(n){if(n!==Tr)return!1;if(!Je)return wE(n),Je=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ix(n.type,n.memoizedProps)),e&&(e=_r)){if(Bx(n))throw VT(),Error(U(418));for(;e;)HT(n,e),e=al(e.nextSibling)}if(wE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(U(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){_r=al(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}_r=null}}else _r=Tr?al(n.stateNode.nextSibling):null;return!0}function VT(){for(var n=_r;n;)n=al(n.nextSibling)}function Uh(){_r=Tr=null,Je=!1}function yA(n){ks===null?ks=[n]:ks.push(n)}var CL=zo.ReactCurrentBatchConfig;function pf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(U(309));var r=t.stateNode}if(!r)throw Error(U(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(U(284));if(!t._owner)throw Error(U(290,n))}return n}function Yg(n,e){throw n=Object.prototype.toString.call(e),Error(U(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function xE(n){var e=n._init;return e(n._payload)}function WT(n){function e(g,w){if(n){var A=g.deletions;A===null?(g.deletions=[w],g.flags|=16):A.push(w)}}function t(g,w){if(!n)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=dl(g,w),g.index=0,g.sibling=null,g}function i(g,w,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<w?(g.flags|=2,w):A):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function l(g,w,A,C){return w===null||w.tag!==6?(w=$w(A,g.mode,C),w.return=g,w):(w=s(w,A),w.return=g,w)}function c(g,w,A,C){var T=A.type;return T===Nu?d(g,w,A.props.children,C,A.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zo&&xE(T)===w.type)?(C=s(w,A.props),C.ref=pf(g,w,A),C.return=g,C):(C=My(A.type,A.key,A.props,null,g.mode,C),C.ref=pf(g,w,A),C.return=g,C)}function u(g,w,A,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=Uw(A,g.mode,C),w.return=g,w):(w=s(w,A.children||[]),w.return=g,w)}function d(g,w,A,C,T){return w===null||w.tag!==7?(w=tu(A,g.mode,C,T),w.return=g,w):(w=s(w,A),w.return=g,w)}function h(g,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$w(""+w,g.mode,A),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jg:return A=My(w.type,w.key,w.props,null,g.mode,A),A.ref=pf(g,null,w),A.return=g,A;case Ru:return w=Uw(w,g.mode,A),w.return=g,w;case Zo:var C=w._init;return h(g,C(w._payload),A)}if(Ef(w)||cf(w))return w=tu(w,g.mode,A,null),w.return=g,w;Yg(g,w)}return null}function f(g,w,A,C){var T=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:l(g,w,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jg:return A.key===T?c(g,w,A,C):null;case Ru:return A.key===T?u(g,w,A,C):null;case Zo:return T=A._init,f(g,w,T(A._payload),C)}if(Ef(A)||cf(A))return T!==null?null:d(g,w,A,C,null);Yg(g,A)}return null}function p(g,w,A,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(A)||null,l(w,g,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case jg:return g=g.get(C.key===null?A:C.key)||null,c(w,g,C,T);case Ru:return g=g.get(C.key===null?A:C.key)||null,u(w,g,C,T);case Zo:var k=C._init;return p(g,w,A,k(C._payload),T)}if(Ef(C)||cf(C))return g=g.get(A)||null,d(w,g,C,T,null);Yg(w,C)}return null}function v(g,w,A,C){for(var T=null,k=null,P=w,R=w=0,N=null;P!==null&&R<A.length;R++){P.index>R?(N=P,P=null):N=P.sibling;var D=f(g,P,A[R],C);if(D===null){P===null&&(P=N);break}n&&P&&D.alternate===null&&e(g,P),w=i(D,w,R),k===null?T=D:k.sibling=D,k=D,P=N}if(R===A.length)return t(g,P),Je&&Cl(g,R),T;if(P===null){for(;R<A.length;R++)P=h(g,A[R],C),P!==null&&(w=i(P,w,R),k===null?T=P:k.sibling=P,k=P);return Je&&Cl(g,R),T}for(P=r(g,P);R<A.length;R++)N=p(P,g,R,A[R],C),N!==null&&(n&&N.alternate!==null&&P.delete(N.key===null?R:N.key),w=i(N,w,R),k===null?T=N:k.sibling=N,k=N);return n&&P.forEach(function(M){return e(g,M)}),Je&&Cl(g,R),T}function m(g,w,A,C){var T=cf(A);if(typeof T!="function")throw Error(U(150));if(A=T.call(A),A==null)throw Error(U(151));for(var k=T=null,P=w,R=w=0,N=null,D=A.next();P!==null&&!D.done;R++,D=A.next()){P.index>R?(N=P,P=null):N=P.sibling;var M=f(g,P,D.value,C);if(M===null){P===null&&(P=N);break}n&&P&&M.alternate===null&&e(g,P),w=i(M,w,R),k===null?T=M:k.sibling=M,k=M,P=N}if(D.done)return t(g,P),Je&&Cl(g,R),T;if(P===null){for(;!D.done;R++,D=A.next())D=h(g,D.value,C),D!==null&&(w=i(D,w,R),k===null?T=D:k.sibling=D,k=D);return Je&&Cl(g,R),T}for(P=r(g,P);!D.done;R++,D=A.next())D=p(P,g,R,D.value,C),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?R:D.key),w=i(D,w,R),k===null?T=D:k.sibling=D,k=D);return n&&P.forEach(function(O){return e(g,O)}),Je&&Cl(g,R),T}function x(g,w,A,C){if(typeof A=="object"&&A!==null&&A.type===Nu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case jg:e:{for(var T=A.key,k=w;k!==null;){if(k.key===T){if(T=A.type,T===Nu){if(k.tag===7){t(g,k.sibling),w=s(k,A.props.children),w.return=g,g=w;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zo&&xE(T)===k.type){t(g,k.sibling),w=s(k,A.props),w.ref=pf(g,k,A),w.return=g,g=w;break e}t(g,k);break}else e(g,k);k=k.sibling}A.type===Nu?(w=tu(A.props.children,g.mode,C,A.key),w.return=g,g=w):(C=My(A.type,A.key,A.props,null,g.mode,C),C.ref=pf(g,w,A),C.return=g,g=C)}return o(g);case Ru:e:{for(k=A.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){t(g,w.sibling),w=s(w,A.children||[]),w.return=g,g=w;break e}else{t(g,w);break}else e(g,w);w=w.sibling}w=Uw(A,g.mode,C),w.return=g,g=w}return o(g);case Zo:return k=A._init,x(g,w,k(A._payload),C)}if(Ef(A))return v(g,w,A,C);if(cf(A))return m(g,w,A,C);Yg(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(t(g,w.sibling),w=s(w,A),w.return=g,g=w):(t(g,w),w=$w(A,g.mode,C),w.return=g,g=w),o(g)):t(g,w)}return x}var Hh=WT(!0),GT=WT(!1),Pv=bl(null),Rv=null,Bu=null,vA=null;function wA(){vA=Bu=Rv=null}function xA(n){var e=Pv.current;Xe(Pv),n._currentValue=e}function $x(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Qu(n,e){Rv=n,vA=Bu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Zn=!0),n.firstContext=null)}function ts(n){var e=n._currentValue;if(vA!==n)if(n={context:n,memoizedValue:e,next:null},Bu===null){if(Rv===null)throw Error(U(308));Bu=n,Rv.dependencies={lanes:0,firstContext:n}}else Bu=Bu.next=n;return e}var Ll=null;function bA(n){Ll===null?Ll=[n]:Ll.push(n)}function qT(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,bA(e)):(t.next=s.next,s.next=t),e.interleaved=t,Ro(n,r)}function Ro(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Jo=!1;function AA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Co(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ll(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ro(n,t)}return s=r.interleaved,s===null?(e.next=e,bA(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ro(n,t)}function _y(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,aA(n,t)}}function bE(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Nv(n,e,t,r){var s=n.updateQueue;Jo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=n,m=l;switch(f=e,p=t,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=ct({},h,f);break e;case 2:Jo=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);iu|=o,n.lanes=o,n.memoizedState=h}}function AE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Ag={},Ci=bl(Ag),yp=bl(Ag),vp=bl(Ag);function Il(n){if(n===Ag)throw Error(U(174));return n}function SA(n,e){switch(He(vp,e),He(yp,n),He(Ci,Ag),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=bx(e,n)}Xe(Ci),He(Ci,e)}function Vh(){Xe(Ci),Xe(yp),Xe(vp)}function YT(n){Il(vp.current);var e=Il(Ci.current),t=bx(e,n.type);e!==t&&(He(yp,n),He(Ci,t))}function EA(n){yp.current===n&&(Xe(Ci),Xe(yp))}var it=bl(0);function Mv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iw=[];function CA(){for(var n=0;n<Iw.length;n++)Iw[n]._workInProgressVersionPrimary=null;Iw.length=0}var Ty=zo.ReactCurrentDispatcher,Ow=zo.ReactCurrentBatchConfig,su=0,at=null,Dt=null,Vt=null,Dv=!1,ep=!1,wp=0,_L=0;function ln(){throw Error(U(321))}function _A(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ms(n[t],e[t]))return!1;return!0}function TA(n,e,t,r,s,i){if(su=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ty.current=n===null||n.memoizedState===null?RL:NL,n=t(r,s),ep){i=0;do{if(ep=!1,wp=0,25<=i)throw Error(U(301));i+=1,Vt=Dt=null,e.updateQueue=null,Ty.current=ML,n=t(r,s)}while(ep)}if(Ty.current=Lv,e=Dt!==null&&Dt.next!==null,su=0,Vt=Dt=at=null,Dv=!1,e)throw Error(U(300));return n}function kA(){var n=wp!==0;return wp=0,n}function Gs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?at.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function ns(){if(Dt===null){var n=at.alternate;n=n!==null?n.memoizedState:null}else n=Dt.next;var e=Vt===null?at.memoizedState:Vt.next;if(e!==null)Vt=e,Dt=n;else{if(n===null)throw Error(U(310));Dt=n,n={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Vt===null?at.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function xp(n,e){return typeof e=="function"?e(n):e}function Fw(n){var e=ns(),t=e.queue;if(t===null)throw Error(U(311));t.lastRenderedReducer=n;var r=Dt,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((su&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,at.lanes|=d,iu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Ms(r,e.memoizedState)||(Zn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,at.lanes|=i,iu|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function jw(n){var e=ns(),t=e.queue;if(t===null)throw Error(U(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);Ms(i,e.memoizedState)||(Zn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function KT(){}function QT(n,e){var t=at,r=ns(),s=e(),i=!Ms(r.memoizedState,s);if(i&&(r.memoizedState=s,Zn=!0),r=r.queue,PA(ek.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Vt!==null&&Vt.memoizedState.tag&1){if(t.flags|=2048,bp(9,JT.bind(null,t,r,s,e),void 0,null),Wt===null)throw Error(U(349));su&30||ZT(t,e,s)}return s}function ZT(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function JT(n,e,t,r){e.value=t,e.getSnapshot=r,tk(e)&&nk(n)}function ek(n,e,t){return t(function(){tk(e)&&nk(n)})}function tk(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ms(n,t)}catch{return!0}}function nk(n){var e=Ro(n,1);e!==null&&Ns(e,n,1,-1)}function SE(n){var e=Gs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:n},e.queue=n,n=n.dispatch=PL.bind(null,at,n),[e.memoizedState,n]}function bp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function rk(){return ns().memoizedState}function ky(n,e,t,r){var s=Gs();at.flags|=n,s.memoizedState=bp(1|e,t,void 0,r===void 0?null:r)}function D0(n,e,t,r){var s=ns();r=r===void 0?null:r;var i=void 0;if(Dt!==null){var o=Dt.memoizedState;if(i=o.destroy,r!==null&&_A(r,o.deps)){s.memoizedState=bp(e,t,i,r);return}}at.flags|=n,s.memoizedState=bp(1|e,t,i,r)}function EE(n,e){return ky(8390656,8,n,e)}function PA(n,e){return D0(2048,8,n,e)}function sk(n,e){return D0(4,2,n,e)}function ik(n,e){return D0(4,4,n,e)}function ok(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function ak(n,e,t){return t=t!=null?t.concat([n]):null,D0(4,4,ok.bind(null,e,n),t)}function RA(){}function lk(n,e){var t=ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_A(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ck(n,e){var t=ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_A(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function uk(n,e,t){return su&21?(Ms(t,e)||(t=mT(),at.lanes|=t,iu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Zn=!0),n.memoizedState=t)}function TL(n,e){var t=Re;Re=t!==0&&4>t?t:4,n(!0);var r=Ow.transition;Ow.transition={};try{n(!1),e()}finally{Re=t,Ow.transition=r}}function dk(){return ns().memoizedState}function kL(n,e,t){var r=ul(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},hk(n))fk(e,t);else if(t=qT(n,e,t,r),t!==null){var s=Ln();Ns(t,n,r,s),pk(t,e,r)}}function PL(n,e,t){var r=ul(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(hk(n))fk(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,t);if(s.hasEagerState=!0,s.eagerState=l,Ms(l,o)){var c=e.interleaved;c===null?(s.next=s,bA(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=qT(n,e,s,r),t!==null&&(s=Ln(),Ns(t,n,r,s),pk(t,e,r))}}function hk(n){var e=n.alternate;return n===at||e!==null&&e===at}function fk(n,e){ep=Dv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function pk(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,aA(n,t)}}var Lv={readContext:ts,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},RL={readContext:ts,useCallback:function(n,e){return Gs().memoizedState=[n,e===void 0?null:e],n},useContext:ts,useEffect:EE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ky(4194308,4,ok.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ky(4194308,4,n,e)},useInsertionEffect:function(n,e){return ky(4,2,n,e)},useMemo:function(n,e){var t=Gs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Gs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=kL.bind(null,at,n),[r.memoizedState,n]},useRef:function(n){var e=Gs();return n={current:n},e.memoizedState=n},useState:SE,useDebugValue:RA,useDeferredValue:function(n){return Gs().memoizedState=n},useTransition:function(){var n=SE(!1),e=n[0];return n=TL.bind(null,n[1]),Gs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=at,s=Gs();if(Je){if(t===void 0)throw Error(U(407));t=t()}else{if(t=e(),Wt===null)throw Error(U(349));su&30||ZT(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,EE(ek.bind(null,r,i,n),[n]),r.flags|=2048,bp(9,JT.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Gs(),e=Wt.identifierPrefix;if(Je){var t=Eo,r=So;t=(r&~(1<<32-Rs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=wp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=_L++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},NL={readContext:ts,useCallback:lk,useContext:ts,useEffect:PA,useImperativeHandle:ak,useInsertionEffect:sk,useLayoutEffect:ik,useMemo:ck,useReducer:Fw,useRef:rk,useState:function(){return Fw(xp)},useDebugValue:RA,useDeferredValue:function(n){var e=ns();return uk(e,Dt.memoizedState,n)},useTransition:function(){var n=Fw(xp)[0],e=ns().memoizedState;return[n,e]},useMutableSource:KT,useSyncExternalStore:QT,useId:dk,unstable_isNewReconciler:!1},ML={readContext:ts,useCallback:lk,useContext:ts,useEffect:PA,useImperativeHandle:ak,useInsertionEffect:sk,useLayoutEffect:ik,useMemo:ck,useReducer:jw,useRef:rk,useState:function(){return jw(xp)},useDebugValue:RA,useDeferredValue:function(n){var e=ns();return Dt===null?e.memoizedState=n:uk(e,Dt.memoizedState,n)},useTransition:function(){var n=jw(xp)[0],e=ns().memoizedState;return[n,e]},useMutableSource:KT,useSyncExternalStore:QT,useId:dk,unstable_isNewReconciler:!1};function ds(n,e){if(n&&n.defaultProps){e=ct({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ux(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ct({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var L0={isMounted:function(n){return(n=n._reactInternals)?hu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ln(),s=ul(n),i=Co(r,s);i.payload=e,t!=null&&(i.callback=t),e=ll(n,i,s),e!==null&&(Ns(e,n,s,r),_y(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ln(),s=ul(n),i=Co(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ll(n,i,s),e!==null&&(Ns(e,n,s,r),_y(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ln(),r=ul(n),s=Co(t,r);s.tag=2,e!=null&&(s.callback=e),e=ll(n,s,r),e!==null&&(Ns(e,n,r,t),_y(e,n,r))}};function CE(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fp(t,r)||!fp(s,i):!0}function mk(n,e,t){var r=!1,s=fl,i=e.contextType;return typeof i=="object"&&i!==null?i=ts(i):(s=er(e)?nu:bn.current,r=e.contextTypes,i=(r=r!=null)?$h(n,s):fl),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=L0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function _E(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&L0.enqueueReplaceState(e,e.state,null)}function Hx(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},AA(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ts(i):(i=er(e)?nu:bn.current,s.context=$h(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ux(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&L0.enqueueReplaceState(s,s.state,null),Nv(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Wh(n,e){try{var t="",r=e;do t+=oD(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Bw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Vx(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var DL=typeof WeakMap=="function"?WeakMap:Map;function gk(n,e,t){t=Co(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ov||(Ov=!0,eb=r),Vx(n,e)},t}function yk(n,e,t){t=Co(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){Vx(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Vx(n,e),typeof r!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function TE(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new DL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=qL.bind(null,n,e,t),e.then(n,n))}function kE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function PE(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Co(-1,1),e.tag=2,ll(t,e,1))),t.lanes|=1),n)}var LL=zo.ReactCurrentOwner,Zn=!1;function Nn(n,e,t,r){e.child=n===null?GT(e,null,t,r):Hh(e,n.child,t,r)}function RE(n,e,t,r,s){t=t.render;var i=e.ref;return Qu(e,s),r=TA(n,e,t,r,i,s),t=kA(),n!==null&&!Zn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,No(n,e,s)):(Je&&t&&mA(e),e.flags|=1,Nn(n,e,r,s),e.child)}function NE(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!jA(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,vk(n,e,i,r,s)):(n=My(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:fp,t(o,r)&&n.ref===e.ref)return No(n,e,s)}return e.flags|=1,n=dl(i,r),n.ref=e.ref,n.return=e,e.child=n}function vk(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(fp(i,r)&&n.ref===e.ref)if(Zn=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(Zn=!0);else return e.lanes=n.lanes,No(n,e,s)}return Wx(n,e,t,r,s)}function wk(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He($u,Ar),Ar|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,He($u,Ar),Ar|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,He($u,Ar),Ar|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,He($u,Ar),Ar|=r;return Nn(n,e,s,t),e.child}function xk(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Wx(n,e,t,r,s){var i=er(t)?nu:bn.current;return i=$h(e,i),Qu(e,s),t=TA(n,e,t,r,i,s),r=kA(),n!==null&&!Zn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,No(n,e,s)):(Je&&r&&mA(e),e.flags|=1,Nn(n,e,t,s),e.child)}function ME(n,e,t,r,s){if(er(t)){var i=!0;_v(e)}else i=!1;if(Qu(e,s),e.stateNode===null)Py(n,e),mk(e,t,r),Hx(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=ts(u):(u=er(t)?nu:bn.current,u=$h(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&_E(e,o,r,u),Jo=!1;var f=e.memoizedState;o.state=f,Nv(e,r,o,s),c=e.memoizedState,l!==r||f!==c||Jn.current||Jo?(typeof d=="function"&&(Ux(e,t,d,r),c=e.memoizedState),(l=Jo||CE(e,t,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XT(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:ds(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=ts(c):(c=er(t)?nu:bn.current,c=$h(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&_E(e,o,r,c),Jo=!1,f=e.memoizedState,o.state=f,Nv(e,r,o,s);var v=e.memoizedState;l!==h||f!==v||Jn.current||Jo?(typeof p=="function"&&(Ux(e,t,p,r),v=e.memoizedState),(u=Jo||CE(e,t,u,r,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Gx(n,e,t,r,i,s)}function Gx(n,e,t,r,s,i){xk(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&yE(e,t,!1),No(n,e,i);r=e.stateNode,LL.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Hh(e,n.child,null,i),e.child=Hh(e,null,l,i)):Nn(n,e,l,i),e.memoizedState=r.state,s&&yE(e,t,!0),e.child}function bk(n){var e=n.stateNode;e.pendingContext?gE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&gE(n,e.context,!1),SA(n,e.containerInfo)}function DE(n,e,t,r,s){return Uh(),yA(s),e.flags|=256,Nn(n,e,t,r),e.child}var qx={dehydrated:null,treeContext:null,retryLane:0};function Xx(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ak(n,e,t){var r=e.pendingProps,s=it.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),He(it,s&1),n===null)return zx(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=F0(o,r,0,null),n=tu(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Xx(t),e.memoizedState=qx,n):NA(e,o));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return IL(n,e,o,r,l,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=dl(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=dl(l,i):(i=tu(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?Xx(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=qx,r}return i=n.child,n=i.sibling,r=dl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function NA(n,e){return e=F0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Kg(n,e,t,r){return r!==null&&yA(r),Hh(e,n.child,null,t),n=NA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function IL(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=Bw(Error(U(422))),Kg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=F0({mode:"visible",children:r.children},s,0,null),i=tu(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hh(e,n.child,null,o),e.child.memoizedState=Xx(o),e.memoizedState=qx,i);if(!(e.mode&1))return Kg(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=Bw(i,r,void 0),Kg(n,e,o,r)}if(l=(o&n.childLanes)!==0,Zn||l){if(r=Wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ro(n,s),Ns(r,n,s,-1))}return FA(),r=Bw(Error(U(421))),Kg(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=XL.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,_r=al(s.nextSibling),Tr=e,Je=!0,ks=null,n!==null&&(Xr[Yr++]=So,Xr[Yr++]=Eo,Xr[Yr++]=ru,So=n.id,Eo=n.overflow,ru=e),e=NA(e,r.children),e.flags|=4096,e)}function LE(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),$x(n.return,e,t)}function zw(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function Sk(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nn(n,e,r.children,t),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&LE(n,t,e);else if(n.tag===19)LE(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(He(it,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Mv(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),zw(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Mv(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}zw(e,!0,t,null,i);break;case"together":zw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Py(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function No(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),iu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(U(153));if(e.child!==null){for(n=e.child,t=dl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=dl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function OL(n,e,t){switch(e.tag){case 3:bk(e),Uh();break;case 5:YT(e);break;case 1:er(e.type)&&_v(e);break;case 4:SA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(Pv,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(it,it.current&1),e.flags|=128,null):t&e.child.childLanes?Ak(n,e,t):(He(it,it.current&1),n=No(n,e,t),n!==null?n.sibling:null);He(it,it.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Sk(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,wk(n,e,t)}return No(n,e,t)}var Ek,Yx,Ck,_k;Ek=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Yx=function(){};Ck=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,Il(Ci.current);var i=null;switch(t){case"input":s=yx(n,s),r=yx(n,r),i=[];break;case"select":s=ct({},s,{value:void 0}),r=ct({},r,{value:void 0}),i=[];break;case"textarea":s=xx(n,s),r=xx(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ev)}Ax(t,r);var o;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(op.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(i||(i=[]),i.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(op.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",n),i||l===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};_k=function(n,e,t,r){t!==r&&(e.flags|=4)};function mf(n,e){if(!Je)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function cn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function FL(n,e,t){var r=e.pendingProps;switch(gA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(e),null;case 1:return er(e.type)&&Cv(),cn(e),null;case 3:return r=e.stateNode,Vh(),Xe(Jn),Xe(bn),CA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Xg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ks!==null&&(rb(ks),ks=null))),Yx(n,e),cn(e),null;case 5:EA(e);var s=Il(vp.current);if(t=e.type,n!==null&&e.stateNode!=null)Ck(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return cn(e),null}if(n=Il(Ci.current),Xg(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[wi]=e,r[gp]=i,n=(e.mode&1)!==0,t){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<_f.length;s++)Ge(_f[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":HS(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":WS(r,i),Ge("invalid",r)}Ax(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&qg(r.textContent,l,n),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qg(r.textContent,l,n),s=["children",""+l]):op.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",r)}switch(t){case"input":Bg(r),VS(r,i,!0);break;case"textarea":Bg(r),GS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ev)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=eT(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[wi]=e,n[gp]=r,Ek(n,e,!1,!1),e.stateNode=n;e:{switch(o=Sx(t,r),t){case"dialog":Ge("cancel",n),Ge("close",n),s=r;break;case"iframe":case"object":case"embed":Ge("load",n),s=r;break;case"video":case"audio":for(s=0;s<_f.length;s++)Ge(_f[s],n);s=r;break;case"source":Ge("error",n),s=r;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),s=r;break;case"details":Ge("toggle",n),s=r;break;case"input":HS(n,r),s=yx(n,r),Ge("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=ct({},r,{value:void 0}),Ge("invalid",n);break;case"textarea":WS(n,r),s=xx(n,r),Ge("invalid",n);break;default:s=r}Ax(t,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?rT(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tT(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&ap(n,c):typeof c=="number"&&ap(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(op.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",n):c!=null&&tA(n,i,c,o))}switch(t){case"input":Bg(n),VS(n,r,!1);break;case"textarea":Bg(n),GS(n);break;case"option":r.value!=null&&n.setAttribute("value",""+hl(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?qu(n,!!r.multiple,i,!1):r.defaultValue!=null&&qu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Ev)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cn(e),null;case 6:if(n&&e.stateNode!=null)_k(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(t=Il(vp.current),Il(Ci.current),Xg(e)){if(r=e.stateNode,t=e.memoizedProps,r[wi]=e,(i=r.nodeValue!==t)&&(n=Tr,n!==null))switch(n.tag){case 3:qg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&qg(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[wi]=e,e.stateNode=r}return cn(e),null;case 13:if(Xe(it),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&_r!==null&&e.mode&1&&!(e.flags&128))VT(),Uh(),e.flags|=98560,i=!1;else if(i=Xg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[wi]=e}else Uh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cn(e),i=!1}else ks!==null&&(rb(ks),ks=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||it.current&1?It===0&&(It=3):FA())),e.updateQueue!==null&&(e.flags|=4),cn(e),null);case 4:return Vh(),Yx(n,e),n===null&&pp(e.stateNode.containerInfo),cn(e),null;case 10:return xA(e.type._context),cn(e),null;case 17:return er(e.type)&&Cv(),cn(e),null;case 19:if(Xe(it),i=e.memoizedState,i===null)return cn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)mf(i,!1);else{if(It!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Mv(n),o!==null){for(e.flags|=128,mf(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return He(it,it.current&1|2),e.child}n=n.sibling}i.tail!==null&&St()>Gh&&(e.flags|=128,r=!0,mf(i,!1),e.lanes=4194304)}else{if(!r)if(n=Mv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),mf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return cn(e),null}else 2*St()-i.renderingStartTime>Gh&&t!==1073741824&&(e.flags|=128,r=!0,mf(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=St(),e.sibling=null,t=it.current,He(it,r?t&1|2:t&1),e):(cn(e),null);case 22:case 23:return OA(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ar&1073741824&&(cn(e),e.subtreeFlags&6&&(e.flags|=8192)):cn(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function jL(n,e){switch(gA(e),e.tag){case 1:return er(e.type)&&Cv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Vh(),Xe(Jn),Xe(bn),CA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return EA(e),null;case 13:if(Xe(it),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Uh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Xe(it),null;case 4:return Vh(),null;case 10:return xA(e.type._context),null;case 22:case 23:return OA(),null;case 24:return null;default:return null}}var Qg=!1,wn=!1,BL=typeof WeakSet=="function"?WeakSet:Set,Z=null;function zu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){wt(n,e,r)}else t.current=null}function Kx(n,e,t){try{t()}catch(r){wt(n,e,r)}}var IE=!1;function zL(n,e){if(Dx=bv,n=NT(),pA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Lx={focusedElem:n,selectionRange:t},bv=!1,Z=e;Z!==null;)if(e=Z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Z=n;else for(;Z!==null;){e=Z;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:ds(e.type,m),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){wt(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}return v=IE,IE=!1,v}function tp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kx(e,t,i)}s=s.next}while(s!==r)}}function I0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Qx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Tk(n){var e=n.alternate;e!==null&&(n.alternate=null,Tk(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[wi],delete e[gp],delete e[Fx],delete e[AL],delete e[SL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kk(n){return n.tag===5||n.tag===3||n.tag===4}function OE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kk(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zx(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ev));else if(r!==4&&(n=n.child,n!==null))for(Zx(n,e,t),n=n.sibling;n!==null;)Zx(n,e,t),n=n.sibling}function Jx(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Jx(n,e,t),n=n.sibling;n!==null;)Jx(n,e,t),n=n.sibling}var en=null,Ts=!1;function Go(n,e,t){for(t=t.child;t!==null;)Pk(n,e,t),t=t.sibling}function Pk(n,e,t){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(T0,t)}catch{}switch(t.tag){case 5:wn||zu(t,e);case 6:var r=en,s=Ts;en=null,Go(n,e,t),en=r,Ts=s,en!==null&&(Ts?(n=en,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):en.removeChild(t.stateNode));break;case 18:en!==null&&(Ts?(n=en,t=t.stateNode,n.nodeType===8?Dw(n.parentNode,t):n.nodeType===1&&Dw(n,t),dp(n)):Dw(en,t.stateNode));break;case 4:r=en,s=Ts,en=t.stateNode.containerInfo,Ts=!0,Go(n,e,t),en=r,Ts=s;break;case 0:case 11:case 14:case 15:if(!wn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kx(t,e,o),s=s.next}while(s!==r)}Go(n,e,t);break;case 1:if(!wn&&(zu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(l){wt(t,e,l)}Go(n,e,t);break;case 21:Go(n,e,t);break;case 22:t.mode&1?(wn=(r=wn)||t.memoizedState!==null,Go(n,e,t),wn=r):Go(n,e,t);break;default:Go(n,e,t)}}function FE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new BL),e.forEach(function(r){var s=YL.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function as(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:en=l.stateNode,Ts=!1;break e;case 3:en=l.stateNode.containerInfo,Ts=!0;break e;case 4:en=l.stateNode.containerInfo,Ts=!0;break e}l=l.return}if(en===null)throw Error(U(160));Pk(i,o,s),en=null,Ts=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){wt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rk(e,n),e=e.sibling}function Rk(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(as(e,n),Us(n),r&4){try{tp(3,n,n.return),I0(3,n)}catch(m){wt(n,n.return,m)}try{tp(5,n,n.return)}catch(m){wt(n,n.return,m)}}break;case 1:as(e,n),Us(n),r&512&&t!==null&&zu(t,t.return);break;case 5:if(as(e,n),Us(n),r&512&&t!==null&&zu(t,t.return),n.flags&32){var s=n.stateNode;try{ap(s,"")}catch(m){wt(n,n.return,m)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Z_(s,i),Sx(l,o);var u=Sx(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?rT(s,h):d==="dangerouslySetInnerHTML"?tT(s,h):d==="children"?ap(s,h):tA(s,d,h,u)}switch(l){case"input":vx(s,i);break;case"textarea":J_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qu(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?qu(s,!!i.multiple,i.defaultValue,!0):qu(s,!!i.multiple,i.multiple?[]:"",!1))}s[gp]=i}catch(m){wt(n,n.return,m)}}break;case 6:if(as(e,n),Us(n),r&4){if(n.stateNode===null)throw Error(U(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(m){wt(n,n.return,m)}}break;case 3:if(as(e,n),Us(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{dp(e.containerInfo)}catch(m){wt(n,n.return,m)}break;case 4:as(e,n),Us(n);break;case 13:as(e,n),Us(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(LA=St())),r&4&&FE(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(wn=(u=wn)||d,as(e,n),wn=u):as(e,n),Us(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Z=n,d=n.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:tp(4,f,f.return);break;case 1:zu(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){wt(r,t,m)}}break;case 5:zu(f,f.return);break;case 22:if(f.memoizedState!==null){BE(h);continue}}p!==null?(p.return=f,Z=p):BE(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nT("display",o))}catch(m){wt(n,n.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){wt(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:as(e,n),Us(n),r&4&&FE(n);break;case 21:break;default:as(e,n),Us(n)}}function Us(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(kk(t)){var r=t;break e}t=t.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ap(s,""),r.flags&=-33);var i=OE(n);Jx(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=OE(n);Zx(n,l,o);break;default:throw Error(U(161))}}catch(c){wt(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function $L(n,e,t){Z=n,Nk(n)}function Nk(n,e,t){for(var r=(n.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Qg;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||wn;l=Qg;var u=wn;if(Qg=o,(wn=c)&&!u)for(Z=s;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?zE(s):c!==null?(c.return=o,Z=c):zE(s);for(;i!==null;)Z=i,Nk(i),i=i.sibling;Z=s,Qg=l,wn=u}jE(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):jE(n)}}function jE(n){for(;Z!==null;){var e=Z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||I0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:ds(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&AE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}AE(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}wn||e.flags&512&&Qx(e)}catch(f){wt(e,e.return,f)}}if(e===n){Z=null;break}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}}function BE(n){for(;Z!==null;){var e=Z;if(e===n){Z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Z=t;break}Z=e.return}}function zE(n){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{I0(4,e)}catch(c){wt(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){wt(e,s,c)}}var i=e.return;try{Qx(e)}catch(c){wt(e,i,c)}break;case 5:var o=e.return;try{Qx(e)}catch(c){wt(e,o,c)}}}catch(c){wt(e,e.return,c)}if(e===n){Z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Z=l;break}Z=e.return}}var UL=Math.ceil,Iv=zo.ReactCurrentDispatcher,MA=zo.ReactCurrentOwner,Jr=zo.ReactCurrentBatchConfig,Ae=0,Wt=null,Tt=null,sn=0,Ar=0,$u=bl(0),It=0,Ap=null,iu=0,O0=0,DA=0,np=null,Qn=null,LA=0,Gh=1/0,Fi=null,Ov=!1,eb=null,cl=null,Zg=!1,nl=null,Fv=0,rp=0,tb=null,Ry=-1,Ny=0;function Ln(){return Ae&6?St():Ry!==-1?Ry:Ry=St()}function ul(n){return n.mode&1?Ae&2&&sn!==0?sn&-sn:CL.transition!==null?(Ny===0&&(Ny=mT()),Ny):(n=Re,n!==0||(n=window.event,n=n===void 0?16:AT(n.type)),n):1}function Ns(n,e,t,r){if(50<rp)throw rp=0,tb=null,Error(U(185));wg(n,t,r),(!(Ae&2)||n!==Wt)&&(n===Wt&&(!(Ae&2)&&(O0|=t),It===4&&ta(n,sn)),tr(n,r),t===1&&Ae===0&&!(e.mode&1)&&(Gh=St()+500,M0&&Al()))}function tr(n,e){var t=n.callbackNode;CD(n,e);var r=xv(n,n===Wt?sn:0);if(r===0)t!==null&&YS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&YS(t),e===1)n.tag===0?EL($E.bind(null,n)):$T($E.bind(null,n)),xL(function(){!(Ae&6)&&Al()}),t=null;else{switch(gT(r)){case 1:t=oA;break;case 4:t=fT;break;case 16:t=wv;break;case 536870912:t=pT;break;default:t=wv}t=Bk(t,Mk.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Mk(n,e){if(Ry=-1,Ny=0,Ae&6)throw Error(U(327));var t=n.callbackNode;if(Zu()&&n.callbackNode!==t)return null;var r=xv(n,n===Wt?sn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=jv(n,r);else{e=r;var s=Ae;Ae|=2;var i=Lk();(Wt!==n||sn!==e)&&(Fi=null,Gh=St()+500,eu(n,e));do try{WL();break}catch(l){Dk(n,l)}while(!0);wA(),Iv.current=i,Ae=s,Tt!==null?e=0:(Wt=null,sn=0,e=It)}if(e!==0){if(e===2&&(s=kx(n),s!==0&&(r=s,e=nb(n,s))),e===1)throw t=Ap,eu(n,0),ta(n,r),tr(n,St()),t;if(e===6)ta(n,r);else{if(s=n.current.alternate,!(r&30)&&!HL(s)&&(e=jv(n,r),e===2&&(i=kx(n),i!==0&&(r=i,e=nb(n,i))),e===1))throw t=Ap,eu(n,0),ta(n,r),tr(n,St()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:_l(n,Qn,Fi);break;case 3:if(ta(n,r),(r&130023424)===r&&(e=LA+500-St(),10<e)){if(xv(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Ln(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Ox(_l.bind(null,n,Qn,Fi),e);break}_l(n,Qn,Fi);break;case 4:if(ta(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-Rs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UL(r/1960))-r,10<r){n.timeoutHandle=Ox(_l.bind(null,n,Qn,Fi),r);break}_l(n,Qn,Fi);break;case 5:_l(n,Qn,Fi);break;default:throw Error(U(329))}}}return tr(n,St()),n.callbackNode===t?Mk.bind(null,n):null}function nb(n,e){var t=np;return n.current.memoizedState.isDehydrated&&(eu(n,e).flags|=256),n=jv(n,e),n!==2&&(e=Qn,Qn=t,e!==null&&rb(e)),n}function rb(n){Qn===null?Qn=n:Qn.push.apply(Qn,n)}function HL(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!Ms(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ta(n,e){for(e&=~DA,e&=~O0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Rs(e),r=1<<t;n[t]=-1,e&=~r}}function $E(n){if(Ae&6)throw Error(U(327));Zu();var e=xv(n,0);if(!(e&1))return tr(n,St()),null;var t=jv(n,e);if(n.tag!==0&&t===2){var r=kx(n);r!==0&&(e=r,t=nb(n,r))}if(t===1)throw t=Ap,eu(n,0),ta(n,e),tr(n,St()),t;if(t===6)throw Error(U(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_l(n,Qn,Fi),tr(n,St()),null}function IA(n,e){var t=Ae;Ae|=1;try{return n(e)}finally{Ae=t,Ae===0&&(Gh=St()+500,M0&&Al())}}function ou(n){nl!==null&&nl.tag===0&&!(Ae&6)&&Zu();var e=Ae;Ae|=1;var t=Jr.transition,r=Re;try{if(Jr.transition=null,Re=1,n)return n()}finally{Re=r,Jr.transition=t,Ae=e,!(Ae&6)&&Al()}}function OA(){Ar=$u.current,Xe($u)}function eu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,wL(t)),Tt!==null)for(t=Tt.return;t!==null;){var r=t;switch(gA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cv();break;case 3:Vh(),Xe(Jn),Xe(bn),CA();break;case 5:EA(r);break;case 4:Vh();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:xA(r.type._context);break;case 22:case 23:OA()}t=t.return}if(Wt=n,Tt=n=dl(n.current,null),sn=Ar=e,It=0,Ap=null,DA=O0=iu=0,Qn=np=null,Ll!==null){for(e=0;e<Ll.length;e++)if(t=Ll[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}Ll=null}return n}function Dk(n,e){do{var t=Tt;try{if(wA(),Ty.current=Lv,Dv){for(var r=at.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dv=!1}if(su=0,Vt=Dt=at=null,ep=!1,wp=0,MA.current=null,t===null||t.return===null){It=1,Ap=e,Tt=null;break}e:{var i=n,o=t.return,l=t,c=e;if(e=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kE(o);if(p!==null){p.flags&=-257,PE(p,o,l,i,e),p.mode&1&&TE(i,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(c),e.updateQueue=m}else v.add(c);break e}else{if(!(e&1)){TE(i,u,e),FA();break e}c=Error(U(426))}}else if(Je&&l.mode&1){var x=kE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PE(x,o,l,i,e),yA(Wh(c,l));break e}}i=c=Wh(c,l),It!==4&&(It=2),np===null?np=[i]:np.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=gk(i,c,e);bE(i,g);break e;case 1:l=c;var w=i.type,A=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(cl===null||!cl.has(A)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=yk(i,l,e);bE(i,C);break e}}i=i.return}while(i!==null)}Ok(t)}catch(T){e=T,Tt===t&&t!==null&&(Tt=t=t.return);continue}break}while(!0)}function Lk(){var n=Iv.current;return Iv.current=Lv,n===null?Lv:n}function FA(){(It===0||It===3||It===2)&&(It=4),Wt===null||!(iu&268435455)&&!(O0&268435455)||ta(Wt,sn)}function jv(n,e){var t=Ae;Ae|=2;var r=Lk();(Wt!==n||sn!==e)&&(Fi=null,eu(n,e));do try{VL();break}catch(s){Dk(n,s)}while(!0);if(wA(),Ae=t,Iv.current=r,Tt!==null)throw Error(U(261));return Wt=null,sn=0,It}function VL(){for(;Tt!==null;)Ik(Tt)}function WL(){for(;Tt!==null&&!gD();)Ik(Tt)}function Ik(n){var e=jk(n.alternate,n,Ar);n.memoizedProps=n.pendingProps,e===null?Ok(n):Tt=e,MA.current=null}function Ok(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=jL(t,e),t!==null){t.flags&=32767,Tt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{It=6,Tt=null;return}}else if(t=FL(t,e,Ar),t!==null){Tt=t;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=n}while(e!==null);It===0&&(It=5)}function _l(n,e,t){var r=Re,s=Jr.transition;try{Jr.transition=null,Re=1,GL(n,e,t,r)}finally{Jr.transition=s,Re=r}return null}function GL(n,e,t,r){do Zu();while(nl!==null);if(Ae&6)throw Error(U(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(U(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(_D(n,i),n===Wt&&(Tt=Wt=null,sn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Zg||(Zg=!0,Bk(wv,function(){return Zu(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Jr.transition,Jr.transition=null;var o=Re;Re=1;var l=Ae;Ae|=4,MA.current=null,zL(n,t),Rk(t,n),hL(Lx),bv=!!Dx,Lx=Dx=null,n.current=t,$L(t),yD(),Ae=l,Re=o,Jr.transition=i}else n.current=t;if(Zg&&(Zg=!1,nl=n,Fv=s),i=n.pendingLanes,i===0&&(cl=null),xD(t.stateNode),tr(n,St()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ov)throw Ov=!1,n=eb,eb=null,n;return Fv&1&&n.tag!==0&&Zu(),i=n.pendingLanes,i&1?n===tb?rp++:(rp=0,tb=n):rp=0,Al(),null}function Zu(){if(nl!==null){var n=gT(Fv),e=Jr.transition,t=Re;try{if(Jr.transition=null,Re=16>n?16:n,nl===null)var r=!1;else{if(n=nl,nl=null,Fv=0,Ae&6)throw Error(U(331));var s=Ae;for(Ae|=4,Z=n.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:tp(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(Tk(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tp(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Z=g;break e}Z=i.return}}var w=n.current;for(Z=w;Z!==null;){o=Z;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Z=A;else e:for(o=w;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:I0(9,l)}}catch(T){wt(l,l.return,T)}if(l===o){Z=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Z=C;break e}Z=l.return}}if(Ae=s,Al(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(T0,n)}catch{}r=!0}return r}finally{Re=t,Jr.transition=e}}return!1}function UE(n,e,t){e=Wh(t,e),e=gk(n,e,1),n=ll(n,e,1),e=Ln(),n!==null&&(wg(n,1,e),tr(n,e))}function wt(n,e,t){if(n.tag===3)UE(n,n,t);else for(;e!==null;){if(e.tag===3){UE(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cl===null||!cl.has(r))){n=Wh(t,n),n=yk(e,n,1),e=ll(e,n,1),n=Ln(),e!==null&&(wg(e,1,n),tr(e,n));break}}e=e.return}}function qL(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ln(),n.pingedLanes|=n.suspendedLanes&t,Wt===n&&(sn&t)===t&&(It===4||It===3&&(sn&130023424)===sn&&500>St()-LA?eu(n,0):DA|=t),tr(n,e)}function Fk(n,e){e===0&&(n.mode&1?(e=Ug,Ug<<=1,!(Ug&130023424)&&(Ug=4194304)):e=1);var t=Ln();n=Ro(n,e),n!==null&&(wg(n,e,t),tr(n,t))}function XL(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Fk(n,t)}function YL(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Fk(n,t)}var jk;jk=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Jn.current)Zn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Zn=!1,OL(n,e,t);Zn=!!(n.flags&131072)}else Zn=!1,Je&&e.flags&1048576&&UT(e,kv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Py(n,e),n=e.pendingProps;var s=$h(e,bn.current);Qu(e,t),s=TA(null,e,r,n,s,t);var i=kA();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,er(r)?(i=!0,_v(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,AA(e),s.updater=L0,e.stateNode=s,s._reactInternals=e,Hx(e,r,n,t),e=Gx(null,e,r,!0,i,t)):(e.tag=0,Je&&i&&mA(e),Nn(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Py(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=QL(r),n=ds(r,n),s){case 0:e=Wx(null,e,r,n,t);break e;case 1:e=ME(null,e,r,n,t);break e;case 11:e=RE(null,e,r,n,t);break e;case 14:e=NE(null,e,r,ds(r.type,n),t);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),Wx(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),ME(n,e,r,s,t);case 3:e:{if(bk(e),n===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,XT(n,e),Nv(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wh(Error(U(423)),e),e=DE(n,e,r,t,s);break e}else if(r!==s){s=Wh(Error(U(424)),e),e=DE(n,e,r,t,s);break e}else for(_r=al(e.stateNode.containerInfo.firstChild),Tr=e,Je=!0,ks=null,t=GT(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Uh(),r===s){e=No(n,e,t);break e}Nn(n,e,r,t)}e=e.child}return e;case 5:return YT(e),n===null&&zx(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,Ix(r,s)?o=null:i!==null&&Ix(r,i)&&(e.flags|=32),xk(n,e),Nn(n,e,o,t),e.child;case 6:return n===null&&zx(e),null;case 13:return Ak(n,e,t);case 4:return SA(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Hh(e,null,r,t):Nn(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),RE(n,e,r,s,t);case 7:return Nn(n,e,e.pendingProps,t),e.child;case 8:return Nn(n,e,e.pendingProps.children,t),e.child;case 12:return Nn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Pv,r._currentValue),r._currentValue=o,i!==null)if(Ms(i.value,o)){if(i.children===s.children&&!Jn.current){e=No(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Co(-1,t&-t),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),$x(i.return,t,e),l.lanes|=t;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),$x(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nn(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qu(e,t),s=ts(s),r=r(s),e.flags|=1,Nn(n,e,r,t),e.child;case 14:return r=e.type,s=ds(r,e.pendingProps),s=ds(r.type,s),NE(n,e,r,s,t);case 15:return vk(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ds(r,s),Py(n,e),e.tag=1,er(r)?(n=!0,_v(e)):n=!1,Qu(e,t),mk(e,r,s),Hx(e,r,s,t),Gx(null,e,r,!0,n,t);case 19:return Sk(n,e,t);case 22:return wk(n,e,t)}throw Error(U(156,e.tag))};function Bk(n,e){return hT(n,e)}function KL(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(n,e,t,r){return new KL(n,e,t,r)}function jA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function QL(n){if(typeof n=="function")return jA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===rA)return 11;if(n===sA)return 14}return 2}function dl(n,e){var t=n.alternate;return t===null?(t=Zr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function My(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")jA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Nu:return tu(t.children,s,i,e);case nA:o=8,s|=8;break;case fx:return n=Zr(12,t,e,s|2),n.elementType=fx,n.lanes=i,n;case px:return n=Zr(13,t,e,s),n.elementType=px,n.lanes=i,n;case mx:return n=Zr(19,t,e,s),n.elementType=mx,n.lanes=i,n;case Y_:return F0(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q_:o=10;break e;case X_:o=9;break e;case rA:o=11;break e;case sA:o=14;break e;case Zo:o=16,r=null;break e}throw Error(U(130,n==null?n:typeof n,""))}return e=Zr(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function tu(n,e,t,r){return n=Zr(7,n,r,e),n.lanes=t,n}function F0(n,e,t,r){return n=Zr(22,n,r,e),n.elementType=Y_,n.lanes=t,n.stateNode={isHidden:!1},n}function $w(n,e,t){return n=Zr(6,n,null,e),n.lanes=t,n}function Uw(n,e,t){return e=Zr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ZL(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function BA(n,e,t,r,s,i,o,l,c){return n=new ZL(n,e,t,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zr(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},AA(i),n}function JL(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function zk(n){if(!n)return fl;n=n._reactInternals;e:{if(hu(n)!==n||n.tag!==1)throw Error(U(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(n.tag===1){var t=n.type;if(er(t))return zT(n,t,e)}return e}function $k(n,e,t,r,s,i,o,l,c){return n=BA(t,r,!0,n,s,i,o,l,c),n.context=zk(null),t=n.current,r=Ln(),s=ul(t),i=Co(r,s),i.callback=e??null,ll(t,i,s),n.current.lanes=s,wg(n,s,r),tr(n,r),n}function j0(n,e,t,r){var s=e.current,i=Ln(),o=ul(s);return t=zk(t),e.context===null?e.context=t:e.pendingContext=t,e=Co(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ll(s,e,o),n!==null&&(Ns(n,s,o,i),_y(n,s,o)),o}function Bv(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function HE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function zA(n,e){HE(n,e),(n=n.alternate)&&HE(n,e)}function eI(){return null}var Uk=typeof reportError=="function"?reportError:function(n){console.error(n)};function $A(n){this._internalRoot=n}B0.prototype.render=$A.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(U(409));j0(n,e,null,null)};B0.prototype.unmount=$A.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ou(function(){j0(null,n,null,null)}),e[Po]=null}};function B0(n){this._internalRoot=n}B0.prototype.unstable_scheduleHydration=function(n){if(n){var e=wT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ea.length&&e!==0&&e<ea[t].priority;t++);ea.splice(t,0,n),t===0&&bT(n)}};function UA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function z0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function VE(){}function tI(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Bv(o);i.call(u)}}var o=$k(e,r,n,0,null,!1,!1,"",VE);return n._reactRootContainer=o,n[Po]=o.current,pp(n.nodeType===8?n.parentNode:n),ou(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Bv(c);l.call(u)}}var c=BA(n,0,!1,null,null,!1,!1,"",VE);return n._reactRootContainer=c,n[Po]=c.current,pp(n.nodeType===8?n.parentNode:n),ou(function(){j0(e,c,t,r)}),c}function $0(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Bv(o);l.call(c)}}j0(e,o,n,s)}else o=tI(t,e,n,s,r);return Bv(o)}yT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Cf(e.pendingLanes);t!==0&&(aA(e,t|1),tr(e,St()),!(Ae&6)&&(Gh=St()+500,Al()))}break;case 13:ou(function(){var r=Ro(n,1);if(r!==null){var s=Ln();Ns(r,n,1,s)}}),zA(n,1)}};lA=function(n){if(n.tag===13){var e=Ro(n,134217728);if(e!==null){var t=Ln();Ns(e,n,134217728,t)}zA(n,134217728)}};vT=function(n){if(n.tag===13){var e=ul(n),t=Ro(n,e);if(t!==null){var r=Ln();Ns(t,n,e,r)}zA(n,e)}};wT=function(){return Re};xT=function(n,e){var t=Re;try{return Re=n,e()}finally{Re=t}};Cx=function(n,e,t){switch(e){case"input":if(vx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=N0(r);if(!s)throw Error(U(90));Q_(r),vx(r,s)}}}break;case"textarea":J_(n,t);break;case"select":e=t.value,e!=null&&qu(n,!!t.multiple,e,!1)}};oT=IA;aT=ou;var nI={usingClientEntryPoint:!1,Events:[bg,Iu,N0,sT,iT,IA]},gf={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rI={bundleType:gf.bundleType,version:gf.version,rendererPackageName:gf.rendererPackageName,rendererConfig:gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=uT(n),n===null?null:n.stateNode},findFiberByHostInstance:gf.findFiberByHostInstance||eI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{T0=Jg.inject(rI),Ei=Jg}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI;Mr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UA(e))throw Error(U(200));return JL(n,e,null,t)};Mr.createRoot=function(n,e){if(!UA(n))throw Error(U(299));var t=!1,r="",s=Uk;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=BA(n,1,!1,null,null,t,!1,r,s),n[Po]=e.current,pp(n.nodeType===8?n.parentNode:n),new $A(e)};Mr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(U(188)):(n=Object.keys(n).join(","),Error(U(268,n)));return n=uT(e),n=n===null?null:n.stateNode,n};Mr.flushSync=function(n){return ou(n)};Mr.hydrate=function(n,e,t){if(!z0(e))throw Error(U(200));return $0(null,n,e,!0,t)};Mr.hydrateRoot=function(n,e,t){if(!UA(n))throw Error(U(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=Uk;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=$k(e,null,n,1,t??null,s,!1,i,o),n[Po]=e.current,pp(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new B0(e)};Mr.render=function(n,e,t){if(!z0(e))throw Error(U(200));return $0(null,n,e,!1,t)};Mr.unmountComponentAtNode=function(n){if(!z0(n))throw Error(U(40));return n._reactRootContainer?(ou(function(){$0(null,null,n,!1,function(){n._reactRootContainer=null,n[Po]=null})}),!0):!1};Mr.unstable_batchedUpdates=IA;Mr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!z0(t))throw Error(U(200));if(n==null||n._reactInternals===void 0)throw Error(U(38));return $0(n,e,t,!1,r)};Mr.version="18.3.1-next-f1338f8080-20240426";function Hk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hk)}catch(n){console.error(n)}}Hk(),H_.exports=Mr;var Sg=H_.exports;const Vk=q1(Sg);var Wk,WE=Sg;Wk=WE.createRoot,WE.hydrateRoot;const sI=1,iI=1e6;let Hw=0;function oI(){return Hw=(Hw+1)%Number.MAX_SAFE_INTEGER,Hw.toString()}const Vw=new Map,GE=n=>{if(Vw.has(n))return;const e=setTimeout(()=>{Vw.delete(n),sp({type:"REMOVE_TOAST",toastId:n})},iI);Vw.set(n,e)},aI=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,sI)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?GE(t):n.toasts.forEach(r=>{GE(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Dy=[];let Ly={toasts:[]};function sp(n){Ly=aI(Ly,n),Dy.forEach(e=>{e(Ly)})}function lI({...n}){const e=oI(),t=s=>sp({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>sp({type:"DISMISS_TOAST",toastId:e});return sp({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function cI(){const[n,e]=_.useState(Ly);return _.useEffect(()=>(Dy.push(e),()=>{const t=Dy.indexOf(e);t>-1&&Dy.splice(t,1)}),[n]),{...n,toast:lI,dismiss:t=>sp({type:"DISMISS_TOAST",toastId:t})}}function et(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Gk(...n){return e=>{let t=!1;const r=n.map(s=>{const i=qE(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():qE(n[s],null)}}}}function On(...n){return _.useCallback(Gk(...n),n)}function uI(n,e){const t=_.createContext(e),r=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return b.jsx(t.Provider,{value:c,children:o})};r.displayName=n+"Provider";function s(i){const o=_.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function Eg(n,e=[]){let t=[];function r(i,o){const l=_.createContext(o),c=t.length;t=[...t,o];const u=h=>{var g;const{scope:f,children:p,...v}=h,m=((g=f==null?void 0:f[n])==null?void 0:g[c])||l,x=_.useMemo(()=>v,Object.values(v));return b.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[n])==null?void 0:m[c])||l,v=_.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=t.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[n])||i;return _.useMemo(()=>({[`__scope${n}`]:{...l,[n]:c}}),[l,c])}};return s.scopeName=n,[r,dI(s,...e)]}function dI(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Sp(n){const e=fI(n),t=_.forwardRef((r,s)=>{const{children:i,...o}=r,l=_.Children.toArray(i),c=l.find(mI);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return b.jsx(e,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return b.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var hI=Sp("Slot");function fI(n){const e=_.forwardRef((t,r)=>{const{children:s,...i}=t;if(_.isValidElement(s)){const o=yI(s),l=gI(i,s.props);return s.type!==_.Fragment&&(l.ref=r?Gk(r,o):o),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var qk=Symbol("radix.slottable");function pI(n){const e=({children:t})=>b.jsx(b.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=qk,e}function mI(n){return _.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===qk}function gI(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function yI(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function vI(n){const e=n+"CollectionProvider",[t,r]=Eg(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:g}=m,w=G.useRef(null),A=G.useRef(new Map).current;return b.jsx(s,{scope:x,itemMap:A,collectionRef:w,children:g})};o.displayName=e;const l=n+"CollectionSlot",c=Sp(l),u=G.forwardRef((m,x)=>{const{scope:g,children:w}=m,A=i(l,g),C=On(x,A.collectionRef);return b.jsx(c,{ref:C,children:w})});u.displayName=l;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=Sp(d),p=G.forwardRef((m,x)=>{const{scope:g,children:w,...A}=m,C=G.useRef(null),T=On(x,C),k=i(d,g);return G.useEffect(()=>(k.itemMap.set(C,{ref:C,...A}),()=>void k.itemMap.delete(C))),b.jsx(f,{[h]:"",ref:T,children:w})});p.displayName=d;function v(m){const x=i(n+"CollectionConsumer",m);return G.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const A=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((k,P)=>A.indexOf(k.ref.current)-A.indexOf(P.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,r]}var wI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pt=wI.reduce((n,e)=>{const t=Sp(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Xk(n,e){n&&Sg.flushSync(()=>n.dispatchEvent(e))}function Ti(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),_.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function xI(n,e=globalThis==null?void 0:globalThis.document){const t=Ti(n);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var bI="DismissableLayer",sb="dismissableLayer.update",AI="dismissableLayer.pointerDownOutside",SI="dismissableLayer.focusOutside",XE,Yk=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),U0=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=n,u=_.useContext(Yk),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),v=On(e,P=>h(P)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),w=d?m.indexOf(d):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=g,T=CI(P=>{const R=P.target,N=[...u.branches].some(D=>D.contains(R));!C||N||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},f),k=_I(P=>{const R=P.target;[...u.branches].some(D=>D.contains(R))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},f);return xI(P=>{w===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),_.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),YE(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=XE)}},[d,f,t,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),YE())},[d,u]),_.useEffect(()=>{const P=()=>p({});return document.addEventListener(sb,P),()=>document.removeEventListener(sb,P)},[]),b.jsx(Pt.div,{...c,ref:v,style:{pointerEvents:A?C?"auto":"none":void 0,...n.style},onFocusCapture:et(n.onFocusCapture,k.onFocusCapture),onBlurCapture:et(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:et(n.onPointerDownCapture,T.onPointerDownCapture)})});U0.displayName=bI;var EI="DismissableLayerBranch",Kk=_.forwardRef((n,e)=>{const t=_.useContext(Yk),r=_.useRef(null),s=On(e,r);return _.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),b.jsx(Pt.div,{...n,ref:s})});Kk.displayName=EI;function CI(n,e=globalThis==null?void 0:globalThis.document){const t=Ti(n),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Qk(AI,t,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function _I(n,e=globalThis==null?void 0:globalThis.document){const t=Ti(n),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&Qk(SI,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YE(){const n=new CustomEvent(sb);document.dispatchEvent(n)}function Qk(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?Xk(s,i):s.dispatchEvent(i)}var TI=U0,kI=Kk,Mo=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},PI="Portal",HA=_.forwardRef((n,e)=>{var l;const{container:t,...r}=n,[s,i]=_.useState(!1);Mo(()=>i(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Vk.createPortal(b.jsx(Pt.div,{...r,ref:e}),o):null});HA.displayName=PI;function RI(n,e){return _.useReducer((t,r)=>e[t][r]??t,n)}var tf=n=>{const{present:e,children:t}=n,r=NI(e),s=typeof t=="function"?t({present:r.isPresent}):_.Children.only(t),i=On(r.ref,MI(s));return typeof t=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};tf.displayName="Presence";function NI(n){const[e,t]=_.useState(),r=_.useRef(null),s=_.useRef(n),i=_.useRef("none"),o=n?"mounted":"unmounted",[l,c]=RI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=ey(r.current);i.current=l==="mounted"?u:"none"},[l]),Mo(()=>{const u=r.current,d=s.current;if(d!==n){const f=i.current,p=ey(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),Mo(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=ey(r.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=p=>{p.target===e&&(i.current=ey(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function ey(n){return(n==null?void 0:n.animationName)||"none"}function MI(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var DI=Z1[" useInsertionEffect ".trim().toString()]||Mo;function Zk({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,o]=LI({defaultProp:e,onChange:t}),l=n!==void 0,c=l?n:s;{const d=_.useRef(n!==void 0);_.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=_.useCallback(d=>{var h;if(l){const f=II(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,n,i,o]);return[c,u]}function LI({defaultProp:n,onChange:e}){const[t,r]=_.useState(n),s=_.useRef(t),i=_.useRef(e);return DI(()=>{i.current=e},[e]),_.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,r,i]}function II(n){return typeof n=="function"}var OI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FI="VisuallyHidden",H0=_.forwardRef((n,e)=>b.jsx(Pt.span,{...n,ref:e,style:{...OI,...n.style}}));H0.displayName=FI;var jI=H0,VA="ToastProvider",[WA,BI,zI]=vI("Toast"),[Jk,V$]=Eg("Toast",[zI]),[$I,V0]=Jk(VA),eP=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=n,[l,c]=_.useState(null),[u,d]=_.useState(0),h=_.useRef(!1),f=_.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${VA}\`. Expected non-empty \`string\`.`),b.jsx(WA.Provider,{scope:e,children:b.jsx($I,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>d(p=>p+1),[]),onToastRemove:_.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};eP.displayName=VA;var tP="ToastViewport",UI=["F8"],ib="toast.viewportPause",ob="toast.viewportResume",nP=_.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=UI,label:s="Notifications ({hotkey})",...i}=n,o=V0(tP,t),l=BI(t),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=On(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;_.useEffect(()=>{const x=g=>{var A;r.length!==0&&r.every(C=>g[C]||g.code===C)&&((A=h.current)==null||A.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),_.useEffect(()=>{const x=c.current,g=h.current;if(v&&x&&g){const w=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(ib);g.dispatchEvent(k),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(ob);g.dispatchEvent(k),o.isClosePausedRef.current=!1}},C=k=>{!x.contains(k.relatedTarget)&&A()},T=()=>{x.contains(document.activeElement)||A()};return x.addEventListener("focusin",w),x.addEventListener("focusout",C),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",A),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",A)}}},[v,o.isClosePausedRef]);const m=_.useCallback(({tabbingDirection:x})=>{const w=l().map(A=>{const C=A.ref.current,T=[C,...tO(C)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return _.useEffect(()=>{const x=h.current;if(x){const g=w=>{var T,k,P;const A=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!A){const R=document.activeElement,N=w.shiftKey;if(w.target===x&&N){(T=u.current)==null||T.focus();return}const O=m({tabbingDirection:N?"backwards":"forwards"}),$=O.findIndex(I=>I===R);Ww(O.slice($+1))?w.preventDefault():N?(k=u.current)==null||k.focus():(P=d.current)==null||P.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),b.jsxs(kI,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&b.jsx(ab,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});Ww(x)}}),b.jsx(WA.Slot,{scope:t,children:b.jsx(Pt.ol,{tabIndex:-1,...i,ref:f})}),v&&b.jsx(ab,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});Ww(x)}})]})});nP.displayName=tP;var rP="ToastFocusProxy",ab=_.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=V0(rP,t);return b.jsx(H0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});ab.displayName=rP;var Cg="Toast",HI="toast.swipeStart",VI="toast.swipeMove",WI="toast.swipeCancel",GI="toast.swipeEnd",sP=_.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...o}=n,[l,c]=Zk({prop:r,defaultProp:s??!0,onChange:i,caller:Cg});return b.jsx(tf,{present:t||l,children:b.jsx(YI,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Ti(n.onPause),onResume:Ti(n.onResume),onSwipeStart:et(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:et(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:et(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:et(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});sP.displayName=Cg;var[qI,XI]=Jk(Cg,{onClose(){}}),YI=_.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...v}=n,m=V0(Cg,t),[x,g]=_.useState(null),w=On(e,I=>g(I)),A=_.useRef(null),C=_.useRef(null),T=s||m.duration,k=_.useRef(0),P=_.useRef(T),R=_.useRef(0),{onToastAdd:N,onToastRemove:D}=m,M=Ti(()=>{var W;(x==null?void 0:x.contains(document.activeElement))&&((W=m.viewport)==null||W.focus()),o()}),O=_.useCallback(I=>{!I||I===1/0||(window.clearTimeout(R.current),k.current=new Date().getTime(),R.current=window.setTimeout(M,I))},[M]);_.useEffect(()=>{const I=m.viewport;if(I){const W=()=>{O(P.current),u==null||u()},j=()=>{const B=new Date().getTime()-k.current;P.current=P.current-B,window.clearTimeout(R.current),c==null||c()};return I.addEventListener(ib,j),I.addEventListener(ob,W),()=>{I.removeEventListener(ib,j),I.removeEventListener(ob,W)}}},[m.viewport,T,c,u,O]),_.useEffect(()=>{i&&!m.isClosePausedRef.current&&O(T)},[i,T,m.isClosePausedRef,O]),_.useEffect(()=>(N(),()=>D()),[N,D]);const $=_.useMemo(()=>x?dP(x):null,[x]);return m.viewport?b.jsxs(b.Fragment,{children:[$&&b.jsx(KI,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),b.jsx(qI,{scope:t,onClose:M,children:Sg.createPortal(b.jsx(WA.ItemSlot,{scope:t,children:b.jsx(TI,{asChild:!0,onEscapeKeyDown:et(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||M(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:et(n.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:et(n.onPointerDown,I=>{I.button===0&&(A.current={x:I.clientX,y:I.clientY})}),onPointerMove:et(n.onPointerMove,I=>{if(!A.current)return;const W=I.clientX-A.current.x,j=I.clientY-A.current.y,B=!!C.current,L=["left","right"].includes(m.swipeDirection),F=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,H=L?F(0,W):0,ne=L?0:F(0,j),V=I.pointerType==="touch"?10:2,X={x:H,y:ne},re={originalEvent:I,delta:X};B?(C.current=X,ty(VI,h,re,{discrete:!1})):KE(X,m.swipeDirection,V)?(C.current=X,ty(HI,d,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(W)>V||Math.abs(j)>V)&&(A.current=null)}),onPointerUp:et(n.onPointerUp,I=>{const W=C.current,j=I.target;if(j.hasPointerCapture(I.pointerId)&&j.releasePointerCapture(I.pointerId),C.current=null,A.current=null,W){const B=I.currentTarget,L={originalEvent:I,delta:W};KE(W,m.swipeDirection,m.swipeThreshold)?ty(GI,p,L,{discrete:!0}):ty(WI,f,L,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),KI=n=>{const{__scopeToast:e,children:t,...r}=n,s=V0(Cg,e),[i,o]=_.useState(!1),[l,c]=_.useState(!1);return JI(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:b.jsx(HA,{asChild:!0,children:b.jsx(H0,{...r,children:i&&b.jsxs(b.Fragment,{children:[s.label," ",t]})})})},QI="ToastTitle",iP=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return b.jsx(Pt.div,{...r,ref:e})});iP.displayName=QI;var ZI="ToastDescription",oP=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return b.jsx(Pt.div,{...r,ref:e})});oP.displayName=ZI;var aP="ToastAction",lP=_.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?b.jsx(uP,{altText:t,asChild:!0,children:b.jsx(GA,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${aP}\`. Expected non-empty \`string\`.`),null)});lP.displayName=aP;var cP="ToastClose",GA=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=XI(cP,t);return b.jsx(uP,{asChild:!0,children:b.jsx(Pt.button,{type:"button",...r,ref:e,onClick:et(n.onClick,s.onClose)})})});GA.displayName=cP;var uP=_.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return b.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function dP(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),eO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...dP(r))}}),e}function ty(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?Xk(s,i):s.dispatchEvent(i)}var KE=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function JI(n=()=>{}){const e=Ti(n);Mo(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function eO(n){return n.nodeType===n.ELEMENT_NODE}function tO(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ww(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var nO=eP,hP=nP,fP=sP,pP=iP,mP=oP,gP=lP,yP=GA;function vP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=vP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function nf(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=vP(n))&&(r&&(r+=" "),r+=e);return r}const QE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ZE=nf,wP=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return ZE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=t==null?void 0:t[u],h=i==null?void 0:i[u];if(d===null)return null;const f=QE(d)||QE(h);return s[u][f]}),l=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,h,f]:u},[]);return ZE(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xP=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...sO,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:xP("lucide",s),...l},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(n,e)=>{const t=_.forwardRef(({className:r,...s},i)=>_.createElement(iO,{ref:i,iconNode:e,className:xP(`lucide-${rO(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=Et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Et("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Et("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Et("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Et("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Et("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Et("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Et("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Et("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Et("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Et("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=Et("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Et("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=Et("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),XA="-",AO=n=>{const e=EO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const l=o.split(XA);return l[0]===""&&l.length!==1&&l.shift(),AP(l,e)||SO(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},AP=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?AP(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(XA);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},tC=/^\[(.+)\]$/,SO=n=>{if(tC.test(n)){const e=tC.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},EO=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return _O(Object.entries(n.classGroups),t).forEach(([i,o])=>{lb(o,r,i,e)}),r},lb=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:nC(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(CO(s)){lb(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,o])=>{lb(o,nC(e,i),t,r)})})},nC=(n,e)=>{let t=n;return e.split(XA).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},CO=n=>n.isThemeGetter,_O=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[t,s]}):n,TO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){t.has(i)?t.set(i,o):s(i,o)}}},SP="!",kO=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(d,x)),d=x+i;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(SP),v=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return t?l=>t({className:l,parseClassName:o}):o},PO=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},RO=n=>({cache:TO(n.cacheSize),parseClassName:kO(n),...AO(n)}),NO=/\s+/,MO=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=n.trim().split(NO);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let v=!!p,m=r(v?f.substring(0,p):f);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=PO(d).join(":"),g=h?x+SP:x,w=g+m;if(i.includes(w))continue;i.push(w);const A=s(m,v);for(let C=0;C<A.length;++C){const T=A[C];i.push(g+T)}l=u+(l.length>0?" "+l:l)}return l};function DO(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=EP(e))&&(r&&(r+=" "),r+=t);return r}const EP=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=EP(n[r]))&&(t&&(t+=" "),t+=e);return t};function LO(n,...e){let t,r,s,i=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=RO(u),r=t.cache.get,s=t.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=MO(c,t);return s(c,d),d}return function(){return i(DO.apply(null,arguments))}}const We=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},CP=/^\[(?:([a-z-]+):)?(.+)\]$/i,IO=/^\d+\/\d+$/,OO=new Set(["px","full","screen"]),FO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$O=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mi=n=>Ju(n)||OO.has(n)||IO.test(n),qo=n=>rf(n,"length",YO),Ju=n=>!!n&&!Number.isNaN(Number(n)),Gw=n=>rf(n,"number",Ju),yf=n=>!!n&&Number.isInteger(Number(n)),UO=n=>n.endsWith("%")&&Ju(n.slice(0,-1)),ue=n=>CP.test(n),Xo=n=>FO.test(n),HO=new Set(["length","size","percentage"]),VO=n=>rf(n,HO,_P),WO=n=>rf(n,"position",_P),GO=new Set(["image","url"]),qO=n=>rf(n,GO,QO),XO=n=>rf(n,"",KO),vf=()=>!0,rf=(n,e,t)=>{const r=CP.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},YO=n=>jO.test(n)&&!BO.test(n),_P=()=>!1,KO=n=>zO.test(n),QO=n=>$O.test(n),ZO=()=>{const n=We("colors"),e=We("spacing"),t=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),l=We("borderWidth"),c=We("contrast"),u=We("grayscale"),d=We("hueRotate"),h=We("invert"),f=We("gap"),p=We("gradientColorStops"),v=We("gradientColorStopPositions"),m=We("inset"),x=We("margin"),g=We("opacity"),w=We("padding"),A=We("saturate"),C=We("scale"),T=We("sepia"),k=We("skew"),P=We("space"),R=We("translate"),N=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ue,e],O=()=>[ue,e],$=()=>["",Mi,qo],I=()=>["auto",Ju,ue],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ue],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Ju,ue];return{cacheSize:500,separator:":",theme:{colors:[vf],spacing:[Mi,qo],blur:["none","",Xo,ue],brightness:ne(),borderColor:[n],borderRadius:["none","","full",Xo,ue],borderSpacing:O(),borderWidth:$(),contrast:ne(),grayscale:F(),hueRotate:ne(),invert:F(),gap:O(),gradientColorStops:[n],gradientColorStopPositions:[UO,qo],inset:M(),margin:M(),opacity:ne(),padding:O(),saturate:ne(),scale:ne(),sepia:F(),skew:ne(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Xo]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ue]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yf,ue]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",yf,ue]}],"grid-cols":[{"grid-cols":[vf]}],"col-start-end":[{col:["auto",{span:["full",yf,ue]},ue]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[vf]}],"row-start-end":[{row:["auto",{span:[yf,ue]},ue]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Xo]},Xo]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xo,qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gw]}],"font-family":[{font:[vf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Ju,Gw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mi,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mi,qo]}],"underline-offset":[{"underline-offset":["auto",Mi,ue]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),WO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qO]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:j()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Mi,ue]}],"outline-w":[{outline:[Mi,qo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Mi,qo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Xo,XO]}],"shadow-color":[{shadow:[vf]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xo,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[A]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[yf,ue]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Mi,qo,Gw]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JO=LO(ZO);function qt(...n){return JO(nf(n))}const eF=nO,TP=_.forwardRef(({className:n,...e},t)=>b.jsx(hP,{ref:t,className:qt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));TP.displayName=hP.displayName;const tF=wP("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kP=_.forwardRef(({className:n,variant:e,...t},r)=>b.jsx(fP,{ref:r,className:qt(tF({variant:e}),n),...t}));kP.displayName=fP.displayName;const nF=_.forwardRef(({className:n,...e},t)=>b.jsx(gP,{ref:t,className:qt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));nF.displayName=gP.displayName;const PP=_.forwardRef(({className:n,...e},t)=>b.jsx(yP,{ref:t,className:qt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:b.jsx(qA,{className:"h-4 w-4"})}));PP.displayName=yP.displayName;const RP=_.forwardRef(({className:n,...e},t)=>b.jsx(pP,{ref:t,className:qt("text-sm font-semibold",n),...e}));RP.displayName=pP.displayName;const NP=_.forwardRef(({className:n,...e},t)=>b.jsx(mP,{ref:t,className:qt("text-sm opacity-90",n),...e}));NP.displayName=mP.displayName;function rF(){const{toasts:n}=cI();return b.jsxs(eF,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return b.jsxs(kP,{...i,children:[b.jsxs("div",{className:"grid gap-1",children:[t&&b.jsx(RP,{children:t}),r&&b.jsx(NP,{children:r})]}),s,b.jsx(PP,{})]},e)}),b.jsx(TP,{})]})}var rC=["light","dark"],sF="(prefers-color-scheme: dark)",iF=_.createContext(void 0),oF={setTheme:n=>{},themes:[]},aF=()=>{var n;return(n=_.useContext(iF))!=null?n:oF};_.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=s?rC.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,m=!1,x=!0)=>{let g=o?o[v]:v,w=m?v+"|| ''":`'${g}'`,A="";return s&&x&&!m&&rC.includes(v)&&(A+=`d.style.colorScheme = '${v}';`),t==="class"?m||g?A+=`c.add(${w})`:A+="null":g&&(A+=`d[s](n,${w})`),A},p=n?`!function(){${d}${f(n)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${sF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var lF=n=>{switch(n){case"success":return dF;case"info":return fF;case"warning":return hF;case"error":return pF;default:return null}},cF=Array(12).fill(0),uF=({visible:n,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},G.createElement("div",{className:"sonner-spinner"},cF.map((t,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),dF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gF=()=>{let[n,e]=G.useState(document.hidden);return G.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},cb=1,yF=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,s=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:cb++,i=this.toasts.find(l=>l.id===s),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...n,id:s,title:t}),{...l,...n,id:s,dismissible:o,title:t}):l):this.addToast({title:t,...r,dismissible:o,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),s=t!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],G.isValidElement(c))s=!1,this.create({id:t,type:"default",message:c});else if(wF(c)&&!c.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:t,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(t),t=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:l}:Object.assign(t,{unwrap:l})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||cb++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yn=new yF,vF=(n,e)=>{let t=(e==null?void 0:e.id)||cb++;return Yn.addToast({title:n,...e,id:t}),t},wF=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",xF=vF,bF=()=>Yn.toasts,AF=()=>Yn.getActiveToasts();Object.assign(xF,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:bF,getToasts:AF});function SF(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}SF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ny(n){return n.label!==void 0}var EF=3,CF="32px",_F="16px",sC=4e3,TF=356,kF=14,PF=20,RF=200;function ls(...n){return n.filter(Boolean).join(" ")}function NF(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var MF=n=>{var e,t,r,s,i,o,l,c,u,d,h;let{invert:f,toast:p,unstyled:v,interacting:m,setHeights:x,visibleToasts:g,heights:w,index:A,toasts:C,expanded:T,removeToast:k,defaultRichColors:P,closeButton:R,style:N,cancelButtonStyle:D,actionButtonStyle:M,className:O="",descriptionClassName:$="",duration:I,position:W,gap:j,loadingIcon:B,expandByDefault:L,classNames:F,icons:H,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:V}=n,[X,re]=G.useState(null),[me,be]=G.useState(null),[te,An]=G.useState(!1),[ut,we]=G.useState(!1),[dt,an]=G.useState(!1),[pe,Te]=G.useState(!1),[tt,nt]=G.useState(!1),[js,rs]=G.useState(0),[Bs,Ig]=G.useState(0),zs=G.useRef(p.duration||I||sC),Og=G.useRef(null),Ni=G.useRef(null),hw=A===0,fw=A+1<=g,Bn=p.type,Sn=p.dismissible!==!1,$o=p.className||"",$s=p.descriptionClassName||"",Uo=G.useMemo(()=>w.findIndex(ae=>ae.toastId===p.id)||0,[w,p.id]),CM=G.useMemo(()=>{var ae;return(ae=p.closeButton)!=null?ae:R},[p.closeButton,R]),MS=G.useMemo(()=>p.duration||I||sC,[p.duration,I]),pw=G.useRef(0),mu=G.useRef(0),DS=G.useRef(0),gu=G.useRef(null),[_M,TM]=W.split("-"),LS=G.useMemo(()=>w.reduce((ae,Ne,Ye)=>Ye>=Uo?ae:ae+Ne.height,0),[w,Uo]),IS=gF(),kM=p.invert||f,mw=Bn==="loading";mu.current=G.useMemo(()=>Uo*j+LS,[Uo,LS]),G.useEffect(()=>{zs.current=MS},[MS]),G.useEffect(()=>{An(!0)},[]),G.useEffect(()=>{let ae=Ni.current;if(ae){let Ne=ae.getBoundingClientRect().height;return Ig(Ne),x(Ye=>[{toastId:p.id,height:Ne,position:p.position},...Ye]),()=>x(Ye=>Ye.filter(ss=>ss.toastId!==p.id))}},[x,p.id]),G.useLayoutEffect(()=>{if(!te)return;let ae=Ni.current,Ne=ae.style.height;ae.style.height="auto";let Ye=ae.getBoundingClientRect().height;ae.style.height=Ne,Ig(Ye),x(ss=>ss.find(is=>is.toastId===p.id)?ss.map(is=>is.toastId===p.id?{...is,height:Ye}:is):[{toastId:p.id,height:Ye,position:p.position},...ss])},[te,p.title,p.description,x,p.id]);let Ho=G.useCallback(()=>{we(!0),rs(mu.current),x(ae=>ae.filter(Ne=>Ne.toastId!==p.id)),setTimeout(()=>{k(p)},RF)},[p,k,x,mu]);G.useEffect(()=>{if(p.promise&&Bn==="loading"||p.duration===1/0||p.type==="loading")return;let ae;return T||m||V&&IS?(()=>{if(DS.current<pw.current){let Ne=new Date().getTime()-pw.current;zs.current=zs.current-Ne}DS.current=new Date().getTime()})():zs.current!==1/0&&(pw.current=new Date().getTime(),ae=setTimeout(()=>{var Ne;(Ne=p.onAutoClose)==null||Ne.call(p,p),Ho()},zs.current)),()=>clearTimeout(ae)},[T,m,p,Bn,V,IS,Ho]),G.useEffect(()=>{p.delete&&Ho()},[Ho,p.delete]);function PM(){var ae,Ne,Ye;return H!=null&&H.loading?G.createElement("div",{className:ls(F==null?void 0:F.loader,(ae=p==null?void 0:p.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":Bn==="loading"},H.loading):B?G.createElement("div",{className:ls(F==null?void 0:F.loader,(Ne=p==null?void 0:p.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":Bn==="loading"},B):G.createElement(uF,{className:ls(F==null?void 0:F.loader,(Ye=p==null?void 0:p.classNames)==null?void 0:Ye.loader),visible:Bn==="loading"})}return G.createElement("li",{tabIndex:0,ref:Ni,className:ls(O,$o,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Bn],(t=p==null?void 0:p.classNames)==null?void 0:t[Bn]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:P,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":te,"data-promise":!!p.promise,"data-swiped":tt,"data-removed":ut,"data-visible":fw,"data-y-position":_M,"data-x-position":TM,"data-index":A,"data-front":hw,"data-swiping":dt,"data-dismissible":Sn,"data-type":Bn,"data-invert":kM,"data-swipe-out":pe,"data-swipe-direction":me,"data-expanded":!!(T||L&&te),style:{"--index":A,"--toasts-before":A,"--z-index":C.length-A,"--offset":`${ut?js:mu.current}px`,"--initial-height":L?"auto":`${Bs}px`,...N,...p.style},onDragEnd:()=>{an(!1),re(null),gu.current=null},onPointerDown:ae=>{mw||!Sn||(Og.current=new Date,rs(mu.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(an(!0),gu.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Ne,Ye,ss;if(pe||!Sn)return;gu.current=null;let is=Number(((ae=Ni.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vo=Number(((Ne=Ni.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Sl=new Date().getTime()-((Ye=Og.current)==null?void 0:Ye.getTime()),os=X==="x"?is:Vo,Wo=Math.abs(os)/Sl;if(Math.abs(os)>=PF||Wo>.11){rs(mu.current),(ss=p.onDismiss)==null||ss.call(p,p),be(X==="x"?is>0?"right":"left":Vo>0?"down":"up"),Ho(),Te(!0),nt(!1);return}an(!1),re(null)},onPointerMove:ae=>{var Ne,Ye,ss,is;if(!gu.current||!Sn||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let Vo=ae.clientY-gu.current.y,Sl=ae.clientX-gu.current.x,os=(Ye=n.swipeDirections)!=null?Ye:NF(W);!X&&(Math.abs(Sl)>1||Math.abs(Vo)>1)&&re(Math.abs(Sl)>Math.abs(Vo)?"x":"y");let Wo={x:0,y:0};X==="y"?(os.includes("top")||os.includes("bottom"))&&(os.includes("top")&&Vo<0||os.includes("bottom")&&Vo>0)&&(Wo.y=Vo):X==="x"&&(os.includes("left")||os.includes("right"))&&(os.includes("left")&&Sl<0||os.includes("right")&&Sl>0)&&(Wo.x=Sl),(Math.abs(Wo.x)>0||Math.abs(Wo.y)>0)&&nt(!0),(ss=Ni.current)==null||ss.style.setProperty("--swipe-amount-x",`${Wo.x}px`),(is=Ni.current)==null||is.style.setProperty("--swipe-amount-y",`${Wo.y}px`)}},CM&&!p.jsx?G.createElement("button",{"aria-label":ne,"data-disabled":mw,"data-close-button":!0,onClick:mw||!Sn?()=>{}:()=>{var ae;Ho(),(ae=p.onDismiss)==null||ae.call(p,p)},className:ls(F==null?void 0:F.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:mF):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:G.createElement(G.Fragment,null,Bn||p.icon||p.promise?G.createElement("div",{"data-icon":"",className:ls(F==null?void 0:F.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||PM():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Bn])||lF(Bn):null):null,G.createElement("div",{"data-content":"",className:ls(F==null?void 0:F.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},G.createElement("div",{"data-title":"",className:ls(F==null?void 0:F.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?G.createElement("div",{"data-description":"",className:ls($,$s,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&ny(p.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:ae=>{var Ne,Ye;ny(p.cancel)&&Sn&&((Ye=(Ne=p.cancel).onClick)==null||Ye.call(Ne,ae),Ho())},className:ls(F==null?void 0:F.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&ny(p.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:ae=>{var Ne,Ye;ny(p.action)&&((Ye=(Ne=p.action).onClick)==null||Ye.call(Ne,ae),!ae.defaultPrevented&&Ho())},className:ls(F==null?void 0:F.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function iC(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function DF(n,e){let t={};return[n,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?_F:CF;function c(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${o}-${u}`]=l:t[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),t}var LF=_.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:v=EF,toastOptions:m,dir:x=iC(),gap:g=kF,loadingIcon:w,icons:A,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:T}=n,[k,P]=G.useState([]),R=G.useMemo(()=>Array.from(new Set([r].concat(k.filter(V=>V.position).map(V=>V.position)))),[k,r]),[N,D]=G.useState([]),[M,O]=G.useState(!1),[$,I]=G.useState(!1),[W,j]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=G.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=G.useRef(null),H=G.useRef(!1),ne=G.useCallback(V=>{P(X=>{var re;return(re=X.find(me=>me.id===V.id))!=null&&re.delete||Yn.dismiss(V.id),X.filter(({id:me})=>me!==V.id)})},[]);return G.useEffect(()=>Yn.subscribe(V=>{if(V.dismiss){P(X=>X.map(re=>re.id===V.id?{...re,delete:!0}:re));return}setTimeout(()=>{Vk.flushSync(()=>{P(X=>{let re=X.findIndex(me=>me.id===V.id);return re!==-1?[...X.slice(0,re),{...X[re],...V},...X.slice(re+1)]:[V,...X]})})})}),[]),G.useEffect(()=>{if(d!=="system"){j(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:X})=>{j(X?"dark":"light")})}catch{V.addListener(({matches:re})=>{try{j(re?"dark":"light")}catch(me){console.error(me)}})}},[d]),G.useEffect(()=>{k.length<=1&&O(!1)},[k]),G.useEffect(()=>{let V=X=>{var re,me;s.every(be=>X[be]||X.code===be)&&(O(!0),(re=B.current)==null||re.focus()),X.code==="Escape"&&(document.activeElement===B.current||(me=B.current)!=null&&me.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),G.useEffect(()=>{if(B.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,H.current=!1)}},[B.current]),G.createElement("section",{ref:e,"aria-label":`${C} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((V,X)=>{var re;let[me,be]=V.split("-");return k.length?G.createElement("ol",{key:V,dir:x==="auto"?iC():x,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":me,"data-lifted":M&&k.length>1&&!i,"data-x-position":be,style:{"--front-toast-height":`${((re=N[0])==null?void 0:re.height)||0}px`,"--width":`${TF}px`,"--gap":`${g}px`,...p,...DF(c,u)},onBlur:te=>{H.current&&!te.currentTarget.contains(te.relatedTarget)&&(H.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||H.current||(H.current=!0,F.current=te.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{$||O(!1)},onDragEnd:()=>O(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},k.filter(te=>!te.position&&X===0||te.position===V).map((te,An)=>{var ut,we;return G.createElement(MF,{key:te.id,icons:A,index:An,toast:te,defaultRichColors:h,duration:(ut=m==null?void 0:m.duration)!=null?ut:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:v,closeButton:(we=m==null?void 0:m.closeButton)!=null?we:o,interacting:$,position:V,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ne,toasts:k.filter(dt=>dt.position==te.position),heights:N.filter(dt=>dt.position==te.position),setHeights:D,expandByDefault:i,gap:g,loadingIcon:w,expanded:M,pauseWhenPageIsHidden:T,swipeDirections:n.swipeDirections})})):null}))});const IF=({...n})=>{const{theme:e="system"}=aF();return b.jsx(LF,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var OF=Z1[" useId ".trim().toString()]||(()=>{}),FF=0;function qw(n){const[e,t]=_.useState(OF());return Mo(()=>{n||t(r=>r??String(FF++))},[n]),n||(e?`radix-${e}`:"")}const jF=["top","right","bottom","left"],pl=Math.min,Er=Math.max,$v=Math.round,ry=Math.floor,_i=n=>({x:n,y:n}),BF={left:"right",right:"left",bottom:"top",top:"bottom"},zF={start:"end",end:"start"};function ub(n,e,t){return Er(n,pl(e,t))}function Do(n,e){return typeof n=="function"?n(e):n}function Lo(n){return n.split("-")[0]}function sf(n){return n.split("-")[1]}function YA(n){return n==="x"?"y":"x"}function KA(n){return n==="y"?"height":"width"}const $F=new Set(["top","bottom"]);function Si(n){return $F.has(Lo(n))?"y":"x"}function QA(n){return YA(Si(n))}function UF(n,e,t){t===void 0&&(t=!1);const r=sf(n),s=QA(n),i=KA(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Uv(o)),[o,Uv(o)]}function HF(n){const e=Uv(n);return[db(n),e,db(e)]}function db(n){return n.replace(/start|end/g,e=>zF[e])}const oC=["left","right"],aC=["right","left"],VF=["top","bottom"],WF=["bottom","top"];function GF(n,e,t){switch(n){case"top":case"bottom":return t?e?aC:oC:e?oC:aC;case"left":case"right":return e?VF:WF;default:return[]}}function qF(n,e,t,r){const s=sf(n);let i=GF(Lo(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(db)))),i}function Uv(n){return n.replace(/left|right|bottom|top/g,e=>BF[e])}function XF(n){return{top:0,right:0,bottom:0,left:0,...n}}function MP(n){return typeof n!="number"?XF(n):{top:n,right:n,bottom:n,left:n}}function Hv(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function lC(n,e,t){let{reference:r,floating:s}=n;const i=Si(e),o=QA(e),l=KA(o),c=Lo(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(sf(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const YF=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:d,y:h}=lC(u,r,c),f=r,p={},v=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:w,y:A,data:C,reset:T}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=w??d,h=A??h,p={...p,[x]:{...p[x],...C}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):T.rects),{x:d,y:h}=lC(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Ep(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Do(e,n),v=MP(p),x=l[f?h==="floating"?"reference":"floating":h],g=Hv(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(x)))==null||t?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},T=Hv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:A,strategy:c}):w);return{top:(g.top-T.top+v.top)/C.y,bottom:(T.bottom-g.bottom+v.bottom)/C.y,left:(g.left-T.left+v.left)/C.x,right:(T.right-g.right+v.right)/C.x}}const KF=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Do(n,e)||{};if(u==null)return{};const h=MP(d),f={x:t,y:r},p=QA(s),v=KA(p),m=await o.getDimensions(u),x=p==="y",g=x?"top":"left",w=x?"bottom":"right",A=x?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[p]-f[p]-i.floating[v],T=f[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=k?k[A]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=l.floating[A]||i.floating[v]);const R=C/2-T/2,N=P/2-m[v]/2-1,D=pl(h[g],N),M=pl(h[w],N),O=D,$=P-m[v]-M,I=P/2-m[v]/2+R,W=ub(O,I,$),j=!c.arrow&&sf(s)!=null&&I!==W&&i.reference[v]/2-(I<O?D:M)-m[v]/2<0,B=j?I<O?I-O:I-$:0;return{[p]:f[p]+B,data:{[p]:W,centerOffset:I-W-B,...j&&{alignmentOffset:B}},reset:j}}}),QF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=Do(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const g=Lo(s),w=Si(l),A=Lo(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=f||(A||!m?[Uv(l)]:HF(l)),k=v!=="none";!f&&k&&T.push(...qF(l,m,v,C));const P=[l,...T],R=await Ep(e,x),N=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&N.push(R[g]),h){const I=UF(s,o,C);N.push(R[I[0]],R[I[1]])}if(D=[...D,{placement:s,overflows:N}],!N.every(I=>I<=0)){var M,O;const I=(((M=i.flip)==null?void 0:M.index)||0)+1,W=P[I];if(W&&(!(h==="alignment"?w!==Si(W):!1)||D.every(L=>L.overflows[0]>0&&Si(L.placement)===w)))return{data:{index:I,overflows:D},reset:{placement:W}};let j=(O=D.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!j)switch(p){case"bestFit":{var $;const B=($=D.filter(L=>{if(k){const F=Si(L.placement);return F===w||F==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort((L,F)=>L[1]-F[1])[0])==null?void 0:$[0];B&&(j=B);break}case"initialPlacement":j=l;break}if(s!==j)return{reset:{placement:j}}}return{}}}};function cC(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function uC(n){return jF.some(e=>n[e]>=0)}const ZF=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=Do(n,e);switch(r){case"referenceHidden":{const i=await Ep(e,{...s,elementContext:"reference"}),o=cC(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uC(o)}}}case"escaped":{const i=await Ep(e,{...s,altBoundary:!0}),o=cC(i,t.floating);return{data:{escapedOffsets:o,escaped:uC(o)}}}default:return{}}}}},DP=new Set(["left","top"]);async function JF(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Lo(t),l=sf(t),c=Si(t)==="y",u=DP.has(o)?-1:1,d=i&&c?-1:1,h=Do(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const ej=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await JF(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},tj=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:g,y:w}=x;return{x:g,y:w}}},...c}=Do(n,e),u={x:t,y:r},d=await Ep(e,c),h=Si(Lo(s)),f=YA(h);let p=u[f],v=u[h];if(i){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",w=p+d[x],A=p-d[g];p=ub(w,p,A)}if(o){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",w=v+d[x],A=v-d[g];v=ub(w,v,A)}const m=l.fn({...e,[f]:p,[h]:v});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[f]:i,[h]:o}}}}}},nj=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Do(n,e),d={x:t,y:r},h=Si(s),f=YA(h);let p=d[f],v=d[h];const m=Do(l,e),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const A=f==="y"?"height":"width",C=i.reference[f]-i.floating[A]+x.mainAxis,T=i.reference[f]+i.reference[A]-x.mainAxis;p<C?p=C:p>T&&(p=T)}if(u){var g,w;const A=f==="y"?"width":"height",C=DP.has(Lo(s)),T=i.reference[h]-i.floating[A]+(C&&((g=o.offset)==null?void 0:g[h])||0)+(C?0:x.crossAxis),k=i.reference[h]+i.reference[A]+(C?0:((w=o.offset)==null?void 0:w[h])||0)-(C?x.crossAxis:0);v<T?v=T:v>k&&(v=k)}return{[f]:p,[h]:v}}}},rj=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Do(n,e),d=await Ep(e,u),h=Lo(s),f=sf(s),p=Si(s)==="y",{width:v,height:m}=i.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,x=f==="end"?"top":"bottom");const w=m-d.top-d.bottom,A=v-d.left-d.right,C=pl(m-d[x],w),T=pl(v-d[g],A),k=!e.middlewareData.shift;let P=C,R=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=w),k&&!f){const D=Er(d.left,0),M=Er(d.right,0),O=Er(d.top,0),$=Er(d.bottom,0);p?R=v-2*(D!==0||M!==0?D+M:Er(d.left,d.right)):P=m-2*(O!==0||$!==0?O+$:Er(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:P});const N=await o.getDimensions(l.floating);return v!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function W0(){return typeof window<"u"}function of(n){return LP(n)?(n.nodeName||"").toLowerCase():"#document"}function kr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ri(n){var e;return(e=(LP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function LP(n){return W0()?n instanceof Node||n instanceof kr(n).Node:!1}function Ds(n){return W0()?n instanceof Element||n instanceof kr(n).Element:!1}function ki(n){return W0()?n instanceof HTMLElement||n instanceof kr(n).HTMLElement:!1}function dC(n){return!W0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof kr(n).ShadowRoot}const sj=new Set(["inline","contents"]);function _g(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Ls(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!sj.has(s)}const ij=new Set(["table","td","th"]);function oj(n){return ij.has(of(n))}const aj=[":popover-open",":modal"];function G0(n){return aj.some(e=>{try{return n.matches(e)}catch{return!1}})}const lj=["transform","translate","scale","rotate","perspective"],cj=["transform","translate","scale","rotate","perspective","filter"],uj=["paint","layout","strict","content"];function ZA(n){const e=JA(),t=Ds(n)?Ls(n):n;return lj.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||cj.some(r=>(t.willChange||"").includes(r))||uj.some(r=>(t.contain||"").includes(r))}function dj(n){let e=ml(n);for(;ki(e)&&!qh(e);){if(ZA(e))return e;if(G0(e))return null;e=ml(e)}return null}function JA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hj=new Set(["html","body","#document"]);function qh(n){return hj.has(of(n))}function Ls(n){return kr(n).getComputedStyle(n)}function q0(n){return Ds(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ml(n){if(of(n)==="html")return n;const e=n.assignedSlot||n.parentNode||dC(n)&&n.host||Ri(n);return dC(e)?e.host:e}function IP(n){const e=ml(n);return qh(e)?n.ownerDocument?n.ownerDocument.body:n.body:ki(e)&&_g(e)?e:IP(e)}function Cp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=IP(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=kr(s);if(i){const l=hb(o);return e.concat(o,o.visualViewport||[],_g(s)?s:[],l&&t?Cp(l):[])}return e.concat(s,Cp(s,[],t))}function hb(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function OP(n){const e=Ls(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ki(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,l=$v(t)!==i||$v(r)!==o;return l&&(t=i,r=o),{width:t,height:r,$:l}}function eS(n){return Ds(n)?n:n.contextElement}function ed(n){const e=eS(n);if(!ki(e))return _i(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=OP(e);let o=(i?$v(t.width):t.width)/r,l=(i?$v(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fj=_i(0);function FP(n){const e=kr(n);return!JA()||!e.visualViewport?fj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pj(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==kr(n)?!1:e}function au(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=eS(n);let o=_i(1);e&&(r?Ds(r)&&(o=ed(r)):o=ed(n));const l=pj(i,t,r)?FP(i):_i(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=kr(i),p=r&&Ds(r)?kr(r):r;let v=f,m=hb(v);for(;m&&r&&p!==v;){const x=ed(m),g=m.getBoundingClientRect(),w=Ls(m),A=g.left+(m.clientLeft+parseFloat(w.paddingLeft))*x.x,C=g.top+(m.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=A,u+=C,v=kr(m),m=hb(v)}}return Hv({width:d,height:h,x:c,y:u})}function tS(n,e){const t=q0(n).scrollLeft;return e?e.left+t:au(Ri(n)).left+t}function jP(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:tS(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function mj(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=Ri(r),l=e?G0(e.floating):!1;if(r===o||l&&i)return t;let c={scrollLeft:0,scrollTop:0},u=_i(1);const d=_i(0),h=ki(r);if((h||!h&&!i)&&((of(r)!=="body"||_g(o))&&(c=q0(r)),ki(r))){const p=au(r);u=ed(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?jP(o,c,!0):_i(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function gj(n){return Array.from(n.getClientRects())}function yj(n){const e=Ri(n),t=q0(n),r=n.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+tS(n);const l=-t.scrollTop;return Ls(r).direction==="rtl"&&(o+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function vj(n,e){const t=kr(n),r=Ri(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=JA();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const wj=new Set(["absolute","fixed"]);function xj(n,e){const t=au(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=ki(n)?ed(n):_i(1),o=n.clientWidth*i.x,l=n.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function hC(n,e,t){let r;if(e==="viewport")r=vj(n,t);else if(e==="document")r=yj(Ri(n));else if(Ds(e))r=xj(e,t);else{const s=FP(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Hv(r)}function BP(n,e){const t=ml(n);return t===e||!Ds(t)||qh(t)?!1:Ls(t).position==="fixed"||BP(t,e)}function bj(n,e){const t=e.get(n);if(t)return t;let r=Cp(n,[],!1).filter(l=>Ds(l)&&of(l)!=="body"),s=null;const i=Ls(n).position==="fixed";let o=i?ml(n):n;for(;Ds(o)&&!qh(o);){const l=Ls(o),c=ZA(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&wj.has(s.position)||_g(o)&&!c&&BP(n,o))?r=r.filter(d=>d!==o):s=l,o=ml(o)}return e.set(n,r),r}function Aj(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?G0(e)?[]:bj(e,this._c):[].concat(t),r],l=o[0],c=o.reduce((u,d)=>{const h=hC(e,d,s);return u.top=Er(h.top,u.top),u.right=pl(h.right,u.right),u.bottom=pl(h.bottom,u.bottom),u.left=Er(h.left,u.left),u},hC(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Sj(n){const{width:e,height:t}=OP(n);return{width:e,height:t}}function Ej(n,e,t){const r=ki(e),s=Ri(e),i=t==="fixed",o=au(n,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=_i(0);function u(){c.x=tS(s)}if(r||!r&&!i)if((of(e)!=="body"||_g(s))&&(l=q0(e)),r){const p=au(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?jP(s,l):_i(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Xw(n){return Ls(n).position==="static"}function fC(n,e){if(!ki(n)||Ls(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ri(n)===t&&(t=t.ownerDocument.body),t}function zP(n,e){const t=kr(n);if(G0(n))return t;if(!ki(n)){let s=ml(n);for(;s&&!qh(s);){if(Ds(s)&&!Xw(s))return s;s=ml(s)}return t}let r=fC(n,e);for(;r&&oj(r)&&Xw(r);)r=fC(r,e);return r&&qh(r)&&Xw(r)&&!ZA(r)?t:r||dj(n)||t}const Cj=async function(n){const e=this.getOffsetParent||zP,t=this.getDimensions,r=await t(n.floating);return{reference:Ej(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _j(n){return Ls(n).direction==="rtl"}const Tj={convertOffsetParentRelativeRectToViewportRelativeRect:mj,getDocumentElement:Ri,getClippingRect:Aj,getOffsetParent:zP,getElementRects:Cj,getClientRects:gj,getDimensions:Sj,getScale:ed,isElement:Ds,isRTL:_j};function $P(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function kj(n,e){let t=null,r;const s=Ri(n);function i(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||e(),!f||!p)return;const v=ry(h),m=ry(s.clientWidth-(d+f)),x=ry(s.clientHeight-(h+p)),g=ry(d),A={rootMargin:-v+"px "+-m+"px "+-x+"px "+-g+"px",threshold:Er(0,pl(1,c))||1};let C=!0;function T(k){const P=k[0].intersectionRatio;if(P!==c){if(!C)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!$P(u,n.getBoundingClientRect())&&o(),C=!1}try{t=new IntersectionObserver(T,{...A,root:s.ownerDocument})}catch{t=new IntersectionObserver(T,A)}t.observe(n)}return o(!0),i}function Pj(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=eS(n),d=s||i?[...u?Cp(u):[],...Cp(e)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",t,{passive:!0}),i&&g.addEventListener("resize",t)});const h=u&&l?kj(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[w]=g;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let v,m=c?au(n):null;c&&x();function x(){const g=au(n);m&&!$P(m,g)&&t(),m=g,v=requestAnimationFrame(x)}return t(),()=>{var g;d.forEach(w=>{s&&w.removeEventListener("scroll",t),i&&w.removeEventListener("resize",t)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Rj=ej,Nj=tj,Mj=QF,Dj=rj,Lj=ZF,pC=KF,Ij=nj,Oj=(n,e,t)=>{const r=new Map,s={platform:Tj,...t},i={...s.platform,_c:r};return YF(n,e,{...s,platform:i})};var Fj=typeof document<"u",jj=function(){},Iy=Fj?_.useLayoutEffect:jj;function Vv(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Vv(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Vv(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function UP(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function mC(n,e){const t=UP(n);return Math.round(e*t)/t}function Yw(n){const e=_.useRef(n);return Iy(()=>{e.current=n}),e}function Bj(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=n,[d,h]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=_.useState(r);Vv(f,r)||p(r);const[v,m]=_.useState(null),[x,g]=_.useState(null),w=_.useCallback(L=>{L!==k.current&&(k.current=L,m(L))},[]),A=_.useCallback(L=>{L!==P.current&&(P.current=L,g(L))},[]),C=i||v,T=o||x,k=_.useRef(null),P=_.useRef(null),R=_.useRef(d),N=c!=null,D=Yw(c),M=Yw(s),O=Yw(u),$=_.useCallback(()=>{if(!k.current||!P.current)return;const L={placement:e,strategy:t,middleware:f};M.current&&(L.platform=M.current),Oj(k.current,P.current,L).then(F=>{const H={...F,isPositioned:O.current!==!1};I.current&&!Vv(R.current,H)&&(R.current=H,Sg.flushSync(()=>{h(H)}))})},[f,e,t,M,O]);Iy(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const I=_.useRef(!1);Iy(()=>(I.current=!0,()=>{I.current=!1}),[]),Iy(()=>{if(C&&(k.current=C),T&&(P.current=T),C&&T){if(D.current)return D.current(C,T,$);$()}},[C,T,$,D,N]);const W=_.useMemo(()=>({reference:k,floating:P,setReference:w,setFloating:A}),[w,A]),j=_.useMemo(()=>({reference:C,floating:T}),[C,T]),B=_.useMemo(()=>{const L={position:t,left:0,top:0};if(!j.floating)return L;const F=mC(j.floating,d.x),H=mC(j.floating,d.y);return l?{...L,transform:"translate("+F+"px, "+H+"px)",...UP(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:H}},[t,l,j.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:$,refs:W,elements:j,floatingStyles:B}),[d,$,W,j,B])}const zj=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?pC({element:r.current,padding:s}).fn(t):{}:r?pC({element:r,padding:s}).fn(t):{}}}},$j=(n,e)=>({...Rj(n),options:[n,e]}),Uj=(n,e)=>({...Nj(n),options:[n,e]}),Hj=(n,e)=>({...Ij(n),options:[n,e]}),Vj=(n,e)=>({...Mj(n),options:[n,e]}),Wj=(n,e)=>({...Dj(n),options:[n,e]}),Gj=(n,e)=>({...Lj(n),options:[n,e]}),qj=(n,e)=>({...zj(n),options:[n,e]});var Xj="Arrow",HP=_.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return b.jsx(Pt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});HP.displayName=Xj;var Yj=HP;function Kj(n){const[e,t]=_.useState(void 0);return Mo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var VP="Popper",[WP,GP]=Eg(VP),[W$,qP]=WP(VP),XP="PopperAnchor",YP=_.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=qP(XP,t),o=_.useRef(null),l=On(e,o);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:b.jsx(Pt.div,{...s,ref:l})});YP.displayName=XP;var nS="PopperContent",[Qj,Zj]=WP(nS),KP=_.forwardRef((n,e)=>{var te,An,ut,we,dt,an;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=n,x=qP(nS,t),[g,w]=_.useState(null),A=On(e,pe=>w(pe)),[C,T]=_.useState(null),k=Kj(C),P=(k==null?void 0:k.width)??0,R=(k==null?void 0:k.height)??0,N=r+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],O=M.length>0,$={padding:D,boundary:M.filter(eB),altBoundary:O},{refs:I,floatingStyles:W,placement:j,isPositioned:B,middlewareData:L}=Bj({strategy:"fixed",placement:N,whileElementsMounted:(...pe)=>Pj(...pe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[$j({mainAxis:s+R,alignmentAxis:o}),c&&Uj({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Hj():void 0,...$}),c&&Vj({...$}),Wj({...$,apply:({elements:pe,rects:Te,availableWidth:tt,availableHeight:nt})=>{const{width:js,height:rs}=Te.reference,Bs=pe.floating.style;Bs.setProperty("--radix-popper-available-width",`${tt}px`),Bs.setProperty("--radix-popper-available-height",`${nt}px`),Bs.setProperty("--radix-popper-anchor-width",`${js}px`),Bs.setProperty("--radix-popper-anchor-height",`${rs}px`)}}),C&&qj({element:C,padding:l}),tB({arrowWidth:P,arrowHeight:R}),f&&Gj({strategy:"referenceHidden",...$})]}),[F,H]=JP(j),ne=Ti(v);Mo(()=>{B&&(ne==null||ne())},[B,ne]);const V=(te=L.arrow)==null?void 0:te.x,X=(An=L.arrow)==null?void 0:An.y,re=((ut=L.arrow)==null?void 0:ut.centerOffset)!==0,[me,be]=_.useState();return Mo(()=>{g&&be(window.getComputedStyle(g).zIndex)},[g]),b.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:B?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(we=L.transformOrigin)==null?void 0:we.x,(dt=L.transformOrigin)==null?void 0:dt.y].join(" "),...((an=L.hide)==null?void 0:an.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:b.jsx(Qj,{scope:t,placedSide:F,onArrowChange:T,arrowX:V,arrowY:X,shouldHideArrow:re,children:b.jsx(Pt.div,{"data-side":F,"data-align":H,...m,ref:A,style:{...m.style,animation:B?void 0:"none"}})})})});KP.displayName=nS;var QP="PopperArrow",Jj={top:"bottom",right:"left",bottom:"top",left:"right"},ZP=_.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=Zj(QP,r),o=Jj[i.placedSide];return b.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:b.jsx(Yj,{...s,ref:t,style:{...s.style,display:"block"}})})});ZP.displayName=QP;function eB(n){return n!==null}var tB=n=>({name:"transformOrigin",options:n,fn(e){var x,g,w;const{placement:t,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=JP(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=o?h:`${f}px`,m=`${-c}px`):u==="top"?(v=o?h:`${f}px`,m=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(v=`${r.floating.width+c}px`,m=o?h:`${p}px`),{data:{x:v,y:m}}}});function JP(n){const[e,t="center"]=n.split("-");return[e,t]}var nB=YP,rB=KP,sB=ZP,[X0,G$]=Eg("Tooltip",[GP]),rS=GP(),eR="TooltipProvider",iB=700,gC="tooltip.open",[oB,tR]=X0(eR),nR=n=>{const{__scopeTooltip:e,delayDuration:t=iB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),b.jsx(oB,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};nR.displayName=eR;var rR="Tooltip",[q$,Y0]=X0(rR),fb="TooltipTrigger",aB=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Y0(fb,t),i=tR(fb,t),o=rS(t),l=_.useRef(null),c=On(e,l,s.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),h=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),b.jsx(nB,{asChild:!0,...o,children:b.jsx(Pt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:et(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:et(n.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:et(n.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:et(n.onFocus,()=>{u.current||s.onOpen()}),onBlur:et(n.onBlur,s.onClose),onClick:et(n.onClick,s.onClose)})})});aB.displayName=fb;var lB="TooltipPortal",[X$,cB]=X0(lB,{forceMount:void 0}),Xh="TooltipContent",sR=_.forwardRef((n,e)=>{const t=cB(Xh,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,o=Y0(Xh,n.__scopeTooltip);return b.jsx(tf,{present:r||o.open,children:o.disableHoverableContent?b.jsx(iR,{side:s,...i,ref:e}):b.jsx(uB,{side:s,...i,ref:e})})}),uB=_.forwardRef((n,e)=>{const t=Y0(Xh,n.__scopeTooltip),r=tR(Xh,n.__scopeTooltip),s=_.useRef(null),i=On(e,s),[o,l]=_.useState(null),{trigger:c,onClose:u}=t,d=s.current,{onPointerInTransitChange:h}=r,f=_.useCallback(()=>{l(null),h(!1)},[h]),p=_.useCallback((v,m)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},w=mB(g,x.getBoundingClientRect()),A=gB(g,w),C=yB(m.getBoundingClientRect()),T=wB([...A,...C]);l(T),h(!0)},[h]);return _.useEffect(()=>()=>f(),[f]),_.useEffect(()=>{if(c&&d){const v=x=>p(x,d),m=x=>p(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),_.useEffect(()=>{if(o){const v=m=>{const x=m.target,g={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),A=!vB(g,o);w?f():A&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,f]),b.jsx(iR,{...n,ref:i})}),[dB,hB]=X0(rR,{isInside:!1}),fB=pI("TooltipContent"),iR=_.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=n,c=Y0(Xh,t),u=rS(t),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(gC,d),()=>document.removeEventListener(gC,d)),[d]),_.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),b.jsx(U0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:b.jsxs(rB,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(fB,{children:r}),b.jsx(dB,{scope:t,isInside:!0,children:b.jsx(jI,{id:c.contentId,role:"tooltip",children:s||r})})]})})});sR.displayName=Xh;var oR="TooltipArrow",pB=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=rS(t);return hB(oR,t).isInside?null:b.jsx(sB,{...s,...r,ref:e})});pB.displayName=oR;function mB(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gB(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function yB(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function vB(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&t<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function wB(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),xB(e)}function xB(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var bB=nR,aR=sR;const AB=bB,SB=_.forwardRef(({className:n,sideOffset:e=4,...t},r)=>b.jsx(aR,{ref:r,sideOffset:e,className:qt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));SB.displayName=aR.displayName;var K0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Q0=typeof window>"u"||"Deno"in globalThis;function hs(){}function EB(n,e){return typeof n=="function"?n(e):n}function CB(n){return typeof n=="number"&&n>=0&&n!==1/0}function _B(n,e){return Math.max(n+(e||0)-Date.now(),0)}function pb(n,e){return typeof n=="function"?n(e):n}function TB(n,e){return typeof n=="function"?n(e):n}function yC(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=n;if(o){if(r){if(e.queryHash!==sS(o,e.options))return!1}else if(!Tp(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function vC(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(_p(e.options.mutationKey)!==_p(i))return!1}else if(!Tp(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function sS(n,e){return((e==null?void 0:e.queryKeyHashFn)||_p)(n)}function _p(n){return JSON.stringify(n,(e,t)=>mb(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function Tp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Tp(n[t],e[t])):!1}function lR(n,e){if(n===e)return n;const t=wC(n)&&wC(e);if(t||mb(n)&&mb(e)){const r=t?n:Object.keys(n),s=r.length,i=t?e:Object.keys(e),o=i.length,l=t?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=t?d:i[d];(!t&&c.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=lR(n[h],e[h]),l[h]===n[h]&&n[h]!==void 0&&u++)}return s===o&&u===s?n:l}return e}function wC(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function mb(n){if(!xC(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!xC(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function xC(n){return Object.prototype.toString.call(n)==="[object Object]"}function kB(n){return new Promise(e=>{setTimeout(e,n)})}function PB(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?lR(n,e):e}function RB(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function NB(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var iS=Symbol();function cR(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===iS?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ol,na,od,A_,MB=(A_=class extends K0{constructor(){super();S(this,Ol);S(this,na);S(this,od);y(this,od,e=>{if(!Q0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){a(this,na)||this.setEventListener(a(this,od))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,na))==null||e.call(this),y(this,na,void 0))}setEventListener(e){var t;y(this,od,e),(t=a(this,na))==null||t.call(this),y(this,na,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){a(this,Ol)!==e&&(y(this,Ol,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof a(this,Ol)=="boolean"?a(this,Ol):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ol=new WeakMap,na=new WeakMap,od=new WeakMap,A_),uR=new MB,ad,ra,ld,S_,DB=(S_=class extends K0{constructor(){super();S(this,ad,!0);S(this,ra);S(this,ld);y(this,ld,e=>{if(!Q0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){a(this,ra)||this.setEventListener(a(this,ld))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,ra))==null||e.call(this),y(this,ra,void 0))}setEventListener(e){var t;y(this,ld,e),(t=a(this,ra))==null||t.call(this),y(this,ra,e(this.setOnline.bind(this)))}setOnline(e){a(this,ad)!==e&&(y(this,ad,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return a(this,ad)}},ad=new WeakMap,ra=new WeakMap,ld=new WeakMap,S_),Wv=new DB;function LB(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function IB(n){return Math.min(1e3*2**n,3e4)}function dR(n){return(n??"online")==="online"?Wv.isOnline():!0}var hR=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Kw(n){return n instanceof hR}function fR(n){let e=!1,t=0,r=!1,s;const i=LB(),o=m=>{var x;r||(f(new hR(m)),(x=n.abort)==null||x.call(n))},l=()=>{e=!0},c=()=>{e=!1},u=()=>uR.isFocused()&&(n.networkMode==="always"||Wv.isOnline())&&n.canRun(),d=()=>dR(n.networkMode)&&n.canRun(),h=m=>{var x;r||(r=!0,(x=n.onSuccess)==null||x.call(n,m),s==null||s(),i.resolve(m))},f=m=>{var x;r||(r=!0,(x=n.onError)==null||x.call(n,m),s==null||s(),i.reject(m))},p=()=>new Promise(m=>{var x;s=g=>{(r||u())&&m(g)},(x=n.onPause)==null||x.call(n)}).then(()=>{var m;s=void 0,r||(m=n.onContinue)==null||m.call(n)}),v=()=>{if(r)return;let m;const x=t===0?n.initialPromise:void 0;try{m=x??n.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var k;if(r)return;const w=n.retry??(Q0?0:3),A=n.retryDelay??IB,C=typeof A=="function"?A(t,g):A,T=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,g);if(e||!T){f(g);return}t++,(k=n.onFail)==null||k.call(n,t,g),kB(C).then(()=>u()?void 0:p()).then(()=>{e?f(g):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),i)}}var OB=n=>setTimeout(n,0);function FB(){let n=[],e=0,t=l=>{l()},r=l=>{l()},s=OB;const i=l=>{e?n.push(l):s(()=>{t(l)})},o=()=>{const l=n;n=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Mn=FB(),Fl,E_,pR=(E_=class{constructor(){S(this,Fl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CB(this.gcTime)&&y(this,Fl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Q0?1/0:5*60*1e3))}clearGcTimeout(){a(this,Fl)&&(clearTimeout(a(this,Fl)),y(this,Fl,void 0))}},Fl=new WeakMap,E_),cd,jl,Or,Bl,dn,Op,zl,fs,Di,C_,jB=(C_=class extends pR{constructor(e){super();S(this,fs);S(this,cd);S(this,jl);S(this,Or);S(this,Bl);S(this,dn);S(this,Op);S(this,zl);y(this,zl,!1),y(this,Op,e.defaultOptions),this.setOptions(e.options),this.observers=[],y(this,Bl,e.client),y(this,Or,a(this,Bl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,y(this,cd,zB(this.options)),this.state=e.state??a(this,cd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=a(this,dn))==null?void 0:e.promise}setOptions(e){this.options={...a(this,Op),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&a(this,Or).remove(this)}setData(e,t){const r=PB(this.state.data,e,this.options);return E(this,fs,Di).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){E(this,fs,Di).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,s;const t=(r=a(this,dn))==null?void 0:r.promise;return(s=a(this,dn))==null||s.cancel(e),t?t.then(hs).catch(hs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(a(this,cd))}isActive(){return this.observers.some(e=>TB(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>pb(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!_B(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,dn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,dn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),a(this,Or).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(a(this,dn)&&(a(this,zl)?a(this,dn).cancel({revert:!0}):a(this,dn).cancelRetry()),this.scheduleGc()),a(this,Or).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||E(this,fs,Di).call(this,{type:"invalidate"})}fetch(e,t){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(a(this,dn))return a(this,dn).continueRetry(),a(this,dn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(y(this,zl,!0),r.signal)})},i=()=>{const f=cR(this.options,t),v=(()=>{const m={client:a(this,Bl),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return y(this,zl,!1),this.options.persister?this.options.persister(f,v,this):f(v)},l=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:a(this,Bl),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),y(this,jl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&E(this,fs,Di).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,v,m,x;Kw(f)&&f.silent||E(this,fs,Di).call(this,{type:"error",error:f}),Kw(f)||((v=(p=a(this,Or).config).onError)==null||v.call(p,f,this),(x=(m=a(this,Or).config).onSettled)==null||x.call(m,this.state.data,f,this)),this.scheduleGc()};return y(this,dn,fR({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,v,m,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){c(g);return}(v=(p=a(this,Or).config).onSuccess)==null||v.call(p,f,this),(x=(m=a(this,Or).config).onSettled)==null||x.call(m,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{E(this,fs,Di).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{E(this,fs,Di).call(this,{type:"pause"})},onContinue:()=>{E(this,fs,Di).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),a(this,dn).start()}},cd=new WeakMap,jl=new WeakMap,Or=new WeakMap,Bl=new WeakMap,dn=new WeakMap,Op=new WeakMap,zl=new WeakMap,fs=new WeakSet,Di=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BB(r.data,this.options),fetchMeta:e.meta??null};case"success":return y(this,jl,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Kw(s)&&s.revert&&a(this,jl)?{...a(this,jl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),a(this,Or).notify({query:this,type:"updated",action:e})})},C_);function BB(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dR(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function zB(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var qs,__,$B=(__=class extends K0{constructor(e={}){super();S(this,qs);this.config=e,y(this,qs,new Map)}build(e,t,r){const s=t.queryKey,i=t.queryHash??sS(s,t);let o=this.get(i);return o||(o=new jB({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){a(this,qs).has(e.queryHash)||(a(this,qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=a(this,qs).get(e.queryHash);t&&(e.destroy(),t===e&&a(this,qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,qs).get(e)}getAll(){return[...a(this,qs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>yC(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>yC(e,r)):t}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qs=new WeakMap,__),Xs,_n,$l,Ys,Yo,T_,UB=(T_=class extends pR{constructor(e){super();S(this,Ys);S(this,Xs);S(this,_n);S(this,$l);this.mutationId=e.mutationId,y(this,_n,e.mutationCache),y(this,Xs,[]),this.state=e.state||HB(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){a(this,Xs).includes(e)||(a(this,Xs).push(e),this.clearGcTimeout(),a(this,_n).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){y(this,Xs,a(this,Xs).filter(t=>t!==e)),this.scheduleGc(),a(this,_n).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){a(this,Xs).length||(this.state.status==="pending"?this.scheduleGc():a(this,_n).remove(this))}continue(){var e;return((e=a(this,$l))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,u,d,h,f,p,v,m,x,g,w,A,C,T,k,P,R;const t=()=>{E(this,Ys,Yo).call(this,{type:"continue"})};y(this,$l,fR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,D)=>{E(this,Ys,Yo).call(this,{type:"failed",failureCount:N,error:D})},onPause:()=>{E(this,Ys,Yo).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>a(this,_n).canRun(this)}));const r=this.state.status==="pending",s=!a(this,$l).canStart();try{if(r)t();else{E(this,Ys,Yo).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=a(this,_n).config).onMutate)==null?void 0:o.call(i,e,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));D!==this.state.context&&E(this,Ys,Yo).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const N=await a(this,$l).start();return await((d=(u=a(this,_n).config).onSuccess)==null?void 0:d.call(u,N,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,N,e,this.state.context)),await((v=(p=a(this,_n).config).onSettled)==null?void 0:v.call(p,N,null,this.state.variables,this.state.context,this)),await((x=(m=this.options).onSettled)==null?void 0:x.call(m,N,null,e,this.state.context)),E(this,Ys,Yo).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(g=a(this,_n).config).onError)==null?void 0:w.call(g,N,e,this.state.context,this)),await((C=(A=this.options).onError)==null?void 0:C.call(A,N,e,this.state.context)),await((k=(T=a(this,_n).config).onSettled)==null?void 0:k.call(T,void 0,N,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,N,e,this.state.context)),N}finally{E(this,Ys,Yo).call(this,{type:"error",error:N})}}finally{a(this,_n).runNext(this)}}},Xs=new WeakMap,_n=new WeakMap,$l=new WeakMap,Ys=new WeakSet,Yo=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Mn.batch(()=>{a(this,Xs).forEach(r=>{r.onMutationUpdate(e)}),a(this,_n).notify({mutation:this,type:"updated",action:e})})},T_);function HB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,ps,Fp,k_,VB=(k_=class extends K0{constructor(e={}){super();S(this,$i);S(this,ps);S(this,Fp);this.config=e,y(this,$i,new Set),y(this,ps,new Map),y(this,Fp,0)}build(e,t,r){const s=new UB({mutationCache:this,mutationId:++ht(this,Fp)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){a(this,$i).add(e);const t=sy(e);if(typeof t=="string"){const r=a(this,ps).get(t);r?r.push(e):a(this,ps).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(a(this,$i).delete(e)){const t=sy(e);if(typeof t=="string"){const r=a(this,ps).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&a(this,ps).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=sy(e);if(typeof t=="string"){const r=a(this,ps).get(t),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=sy(e);if(typeof t=="string"){const s=(r=a(this,ps).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mn.batch(()=>{a(this,$i).forEach(e=>{this.notify({type:"removed",mutation:e})}),a(this,$i).clear(),a(this,ps).clear()})}getAll(){return Array.from(a(this,$i))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>vC(t,r))}findAll(e={}){return this.getAll().filter(t=>vC(e,t))}notify(e){Mn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mn.batch(()=>Promise.all(e.map(t=>t.continue().catch(hs))))}},$i=new WeakMap,ps=new WeakMap,Fp=new WeakMap,k_);function sy(n){var e;return(e=n.options.scope)==null?void 0:e.id}function bC(n){return{onFetch:(e,t)=>{var d,h,f,p,v;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},g=cR(e.options,e.fetchOptions),w=async(A,C,T)=>{if(m)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const P=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:C,direction:T?"backward":"forward",meta:e.options.meta};return x(M),M})(),R=await g(P),{maxPages:N}=e.options,D=T?NB:RB;return{pages:D(A.pages,R,N),pageParams:D(A.pageParams,C,N)}};if(s&&i.length){const A=s==="backward",C=A?WB:AC,T={pages:i,pageParams:o},k=C(r,T);l=await w(T,k,A)}else{const A=n??i.length;do{const C=c===0?o[0]??r.initialPageParam:AC(r,l);if(c>0&&C==null)break;l=await w(l,C),c++}while(c<A)}return l};e.options.persister?e.fetchFn=()=>{var m,x;return(x=(m=e.options).persister)==null?void 0:x.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function AC(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function WB(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var ft,sa,ia,ud,dd,oa,hd,fd,P_,GB=(P_=class{constructor(n={}){S(this,ft);S(this,sa);S(this,ia);S(this,ud);S(this,dd);S(this,oa);S(this,hd);S(this,fd);y(this,ft,n.queryCache||new $B),y(this,sa,n.mutationCache||new VB),y(this,ia,n.defaultOptions||{}),y(this,ud,new Map),y(this,dd,new Map),y(this,oa,0)}mount(){ht(this,oa)._++,a(this,oa)===1&&(y(this,hd,uR.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,ft).onFocus())})),y(this,fd,Wv.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,ft).onOnline())})))}unmount(){var n,e;ht(this,oa)._--,a(this,oa)===0&&((n=a(this,hd))==null||n.call(this),y(this,hd,void 0),(e=a(this,fd))==null||e.call(this),y(this,fd,void 0))}isFetching(n){return a(this,ft).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return a(this,sa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,ft).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=a(this,ft).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(pb(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return a(this,ft).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=a(this,ft).get(r.queryHash),i=s==null?void 0:s.state.data,o=EB(e,i);if(o!==void 0)return a(this,ft).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Mn.batch(()=>a(this,ft).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,ft).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=a(this,ft);Mn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=a(this,ft);return Mn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Mn.batch(()=>a(this,ft).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(hs).catch(hs)}invalidateQueries(n,e={}){return Mn.batch(()=>(a(this,ft).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Mn.batch(()=>a(this,ft).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(hs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hs)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=a(this,ft).build(this,e);return t.isStaleByTime(pb(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(hs).catch(hs)}fetchInfiniteQuery(n){return n.behavior=bC(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(hs).catch(hs)}ensureInfiniteQueryData(n){return n.behavior=bC(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Wv.isOnline()?a(this,sa).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,ft)}getMutationCache(){return a(this,sa)}getDefaultOptions(){return a(this,ia)}setDefaultOptions(n){y(this,ia,n)}setQueryDefaults(n,e){a(this,ud).set(_p(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...a(this,ud).values()],t={};return e.forEach(r=>{Tp(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){a(this,dd).set(_p(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...a(this,dd).values()],t={};return e.forEach(r=>{Tp(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...a(this,ia).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=sS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===iS&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...a(this,ia).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){a(this,ft).clear(),a(this,sa).clear()}},ft=new WeakMap,sa=new WeakMap,ia=new WeakMap,ud=new WeakMap,dd=new WeakMap,oa=new WeakMap,hd=new WeakMap,fd=new WeakMap,P_),qB=_.createContext(void 0),XB=({client:n,children:e})=>(_.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),b.jsx(qB.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gv(){return Gv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gv.apply(this,arguments)}var rl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rl||(rl={}));const SC="popstate";function YB(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return gb("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:gR(s)}return QB(e,t,null,n)}function nr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mR(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KB(){return Math.random().toString(36).substr(2,8)}function EC(n,e){return{usr:n.state,key:n.key,idx:e}}function gb(n,e,t,r){return t===void 0&&(t=null),Gv({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Z0(e):e,{state:t,key:e&&e.key||r||KB()})}function gR(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Z0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function QB(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=rl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gv({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=rl.Pop;let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:m.location,delta:g})}function f(x,g){l=rl.Push;let w=gb(m.location,x,g);u=d()+1;let A=EC(w,u),C=m.createHref(w);try{o.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(C)}i&&c&&c({action:l,location:m.location,delta:1})}function p(x,g){l=rl.Replace;let w=gb(m.location,x,g);u=d();let A=EC(w,u),C=m.createHref(w);o.replaceState(A,"",C),i&&c&&c({action:l,location:m.location,delta:0})}function v(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:gR(x);return w=w.replace(/ $/,"%20"),nr(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let m={get action(){return l},get location(){return n(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(SC,h),c=x,()=>{s.removeEventListener(SC,h),c=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return m}var CC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(CC||(CC={}));function ZB(n,e,t){return t===void 0&&(t="/"),JB(n,e,t,!1)}function JB(n,e,t,r){let s=typeof e=="string"?Z0(e):e,i=wR(s.pathname||"/",t);if(i==null)return null;let o=yR(n);e3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=d3(i);l=c3(o[c],u,r)}return l}function yR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=td([r,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(nr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yR(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:a3(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of vR(i.path))s(i,o,c)}),e}function vR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vR(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function e3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:l3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const t3=/^:[\w-]+$/,n3=3,r3=2,s3=1,i3=10,o3=-2,_C=n=>n==="*";function a3(n,e){let t=n.split("/"),r=t.length;return t.some(_C)&&(r+=o3),e&&(r+=r3),t.filter(s=>!_C(s)).reduce((s,i)=>s+(t3.test(i)?n3:i===""?s3:i3),r)}function l3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function c3(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=TC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=TC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:td([i,h.pathname]),pathnameBase:h3(td([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=td([i,h.pathnameBase]))}return o}function TC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=u3(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function u3(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),mR(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function d3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mR(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function wR(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const td=n=>n.join("/").replace(/\/\/+/g,"/"),h3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function f3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const xR=["post","put","patch","delete"];new Set(xR);const p3=["get",...xR];new Set(p3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qv(){return qv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qv.apply(this,arguments)}const m3=_.createContext(null),g3=_.createContext(null),bR=_.createContext(null),J0=_.createContext(null),ew=_.createContext({outlet:null,matches:[],isDataRoute:!1}),AR=_.createContext(null);function oS(){return _.useContext(J0)!=null}function SR(){return oS()||nr(!1),_.useContext(J0).location}function y3(n,e){return v3(n,e)}function v3(n,e,t,r){oS()||nr(!1);let{navigator:s}=_.useContext(bR),{matches:i}=_.useContext(ew),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=SR(),d;if(e){var h;let x=typeof e=="string"?Z0(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||nr(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=ZB(n,{pathname:p}),m=S3(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:td([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:td([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,t,r);return e&&m?_.createElement(J0.Provider,{value:{location:qv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rl.Pop}},m):m}function w3(){let n=T3(),e=f3(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:s},t):null,null)}const x3=_.createElement(w3,null);class b3 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(ew.Provider,{value:this.props.routeContext},_.createElement(AR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A3(n){let{routeContext:e,match:t,children:r}=n,s=_.useContext(m3);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(ew.Provider,{value:e},r)}function S3(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(s=t)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||nr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,m=null,x=null;t&&(p=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||x3,c&&(u<0&&f===0?(v=!0,x=null):u===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),w=()=>{let A;return p?A=m:v?A=x:h.route.Component?A=_.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,_.createElement(A3,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(b3,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var yb=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(yb||{});function E3(n){let e=_.useContext(g3);return e||nr(!1),e}function C3(n){let e=_.useContext(ew);return e||nr(!1),e}function _3(n){let e=C3(),t=e.matches[e.matches.length-1];return t.route.id||nr(!1),t.route.id}function T3(){var n;let e=_.useContext(AR),t=E3(yb.UseRouteError),r=_3(yb.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function k3(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function vb(n){nr(!1)}function P3(n){let{basename:e="/",children:t=null,location:r,navigationType:s=rl.Pop,navigator:i,static:o=!1,future:l}=n;oS()&&nr(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:qv({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Z0(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,m=_.useMemo(()=>{let x=wR(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:s}},[c,d,h,f,p,v,s]);return m==null?null:_.createElement(bR.Provider,{value:u},_.createElement(J0.Provider,{children:t,value:m}))}function R3(n){let{children:e,location:t}=n;return y3(wb(e),t)}new Promise(()=>{});function wb(n,e){e===void 0&&(e=[]);let t=[];return _.Children.forEach(n,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){t.push.apply(t,wb(r.props.children,i));return}r.type!==vb&&nr(!1),!r.props.index||!r.props.children||nr(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wb(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const N3="6";try{window.__reactRouterVersion=N3}catch{}const M3="startTransition",kC=Z1[M3];function D3(n){let{basename:e,children:t,future:r,window:s}=n,i=_.useRef();i.current==null&&(i.current=YB({window:s,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=_.useCallback(h=>{u&&kC?kC(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>k3(r),[r]),_.createElement(P3,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:r})}var PC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(PC||(PC={}));var RC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(RC||(RC={}));const L3=()=>b.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:b.jsx("div",{className:"container mx-auto px-4",children:b.jsxs("div",{className:"flex items-center justify-between h-16",children:[b.jsx("a",{href:"https://genai4all.org",className:"text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:"GenAI4All"}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx("a",{href:"https://genai4all.org/course.html",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Course"}),b.jsx("a",{href:"https://genai4all.org/resources.html",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Resources"}),b.jsx("a",{href:"https://genai4all.org/about.html",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"About"})]})]})})}),I3=wP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Lt=_.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const o=r?hI:"button";return b.jsx(o,{className:qt(I3({variant:e,size:t,className:n})),ref:i,...s})});Lt.displayName="Button";const O3="/book/assets/book-cover-DbEezqog.jpg",Rn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xb=[.001,0,0,.001,0,0],Qw=1.35,br={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},kp="pdfjs_internal_editor_",ie={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ve={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},ER={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ip={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Au={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Tg={ERRORS:0,WARNINGS:1,INFOS:5},Yh={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},iy={moveTo:0,lineTo:1,curveTo:2,closePath:3},CR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let tw=Tg.WARNINGS;function F3(n){Number.isInteger(n)&&(tw=n)}function j3(){return tw}function nw(n){tw>=Tg.INFOS&&console.info(`Info: ${n}`)}function oe(n){tw>=Tg.WARNINGS&&console.warn(`Warning: ${n}`)}function $e(n){throw new Error(n)}function xe(n,e){n||$e(e)}function B3(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function aS(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=V3(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return B3(r)?r:null}function lS(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&aS(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function de(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const fu=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class NC extends fu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Zw extends fu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Xv extends fu{constructor(e){super(e,"InvalidPDFException")}}class Pp extends fu{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class z3 extends fu{constructor(e){super(e,"FormatError")}}class Io extends fu{constructor(e){super(e,"AbortException")}}function _R(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&$e("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),o=n.subarray(s,i);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function kg(n){typeof n!="string"&&$e("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function $3(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function U3(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function H3(){try{return new Function(""),!0}catch{return!1}}class Gt{static get isLittleEndian(){return de(this,"isLittleEndian",U3())}static get isEvalSupported(){return de(this,"isEvalSupported",H3())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return de(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return de(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return de(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Jw=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var _o,Oy,bb;class Q{static makeHexColor(e,t,r){return`#${Jw[e]}${Jw[t]}${Jw[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const s=e[r],i=e[r+1];e[r]=s*t[0]+i*t[2]+t[4],e[r+1]=s*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const s=t[0],i=t[1],o=t[2],l=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],f=e[r+d+1];e[r+d]=h*s+f*o+c,e[r+d+1]=h*i+f*l+u}}static applyInverseTransform(e,t){const r=e[0],s=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-r*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,r){const s=t[0],i=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=e[0],h=e[1],f=e[2],p=e[3];let v=s*d+c,m=v,x=s*f+c,g=x,w=l*h+u,A=w,C=l*p+u,T=C;if(i!==0||o!==0){const k=i*d,P=i*f,R=o*h,N=o*p;v+=R,g+=R,x+=N,m+=N,w+=k,T+=k,C+=P,A+=P}r[0]=Math.min(r[0],v,x,m,g),r[1]=Math.min(r[1],w,C,A,T),r[2]=Math.max(r[2],v,x,m,g),r[3]=Math.max(r[3],w,C,A,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],s=e[1],i=e[2],o=e[3],l=r**2+s**2,c=r*i+s*o,u=i**2+o**2,d=(l+u)/2,h=Math.sqrt(d**2-(l*u-c**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[r,i,s,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,s,i){i[0]=Math.min(i[0],e,r),i[1]=Math.min(i[1],t,s),i[2]=Math.max(i[2],e,r),i[3]=Math.max(i[3],t,s)}static bezierBoundingBox(e,t,r,s,i,o,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),E(this,_o,bb).call(this,e,r,i,l,t,s,o,c,3*(-e+3*(r-i)+l),6*(e-2*r+i),3*(r-e),u),E(this,_o,bb).call(this,e,r,i,l,t,s,o,c,3*(-t+3*(s-o)+c),6*(t-2*s+o),3*(s-t),u)}}_o=new WeakSet,Oy=function(e,t,r,s,i,o,l,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,v=h*(h*(h*e+3*u*t)+3*f*r)+p*s,m=h*(h*(h*i+3*u*o)+3*f*l)+p*c;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],m),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],m)},bb=function(e,t,r,s,i,o,l,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&E(this,_o,Oy).call(this,e,t,r,s,i,o,l,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const v=Math.sqrt(p),m=2*u;E(this,_o,Oy).call(this,e,t,r,s,i,o,l,c,(-d+v)/m,f),E(this,_o,Oy).call(this,e,t,r,s,i,o,l,c,(-d-v)/m,f)},S(Q,_o);function V3(n){return decodeURIComponent(escape(n))}let ex=null,MC=null;function TR(n){return ex||(ex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,MC=new Map([["","t"]])),n.replaceAll(ex,(e,t,r)=>t?t.normalize("NFKC"):MC.get(r))}function cS(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),_R(n)}const uS="pdfjs_internal_id_";function W3(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,s,...i]=t;if(!n(r)&&!Number.isInteger(r)||!e(s))return!1;const o=i.length;let l=!0;switch(s.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const c of i)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function vn(n,e,t){return Math.min(Math.max(n,e),t)}function kR(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(_R(n))}function G3(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):kg(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Rp{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function s(i){var c;if(!i)return;let o=null;const l=i.name;if(l==="#text")o=i.value;else if(Rp.shouldBuildText(l))(c=i==null?void 0:i.attributes)!=null&&c.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)s(u)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class dS{static setupStorage(e,t,r,s,i){const o=s.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",l=>{s.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of r.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:s,linkService:i}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&i.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,s=e.xfaHtml,i=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:i,linkService:r});const l=i!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),l&&Rp.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const d=[[s,-1,o]];for(;d.length>0;){const[p,v,m]=d.at(-1);if(v+1===p.children.length){d.pop();continue}const x=p.children[++d.at(-1)[1]];if(x===null)continue;const{name:g}=x;if(g==="#text"){const A=document.createTextNode(x.value);u.push(A),m.append(A);continue}const w=(h=x==null?void 0:x.attributes)!=null&&h.xmlns?document.createElementNS(x.attributes.xmlns,g):document.createElement(g);if(m.append(w),x.attributes&&this.setAttributes({html:w,element:x,storage:t,intent:i,linkService:r}),((f=x.children)==null?void 0:f.length)>0)d.push([x,-1,w]);else if(x.value){const A=document.createTextNode(x.value);l&&Rp.shouldBuildText(g)&&u.push(A),w.append(A)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Li="http://www.w3.org/2000/svg",Rl=class Rl{};z(Rl,"CSS",96),z(Rl,"PDF",72),z(Rl,"PDF_TO_CSS_UNITS",Rl.CSS/Rl.PDF);let Oo=Rl;async function af(n,e="text"){if(Tf(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class Pg{constructor({viewBox:e,userUnit:t,scale:r,rotation:s,offsetX:i=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=s,this.offsetX=i,this.offsetY=o,r*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(s%=360,s<0&&(s+=360),s){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(f=-f,p=-p);let v,m,x,g;d===0?(v=Math.abs(u-e[1])*r+i,m=Math.abs(c-e[0])*r+o,x=(e[3]-e[1])*r,g=(e[2]-e[0])*r):(v=Math.abs(c-e[0])*r+i,m=Math.abs(u-e[1])*r+o,x=(e[2]-e[0])*r,g=(e[3]-e[1])*r),this.transform=[d*r,h*r,f*r,p*r,v-d*r*c-f*r*u,m-h*r*c-p*r*u],this.width=x,this.height=g}get rawDims(){const e=this.viewBox;return de(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new Pg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){const r=[e,t];return Q.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Q.applyTransform(t,this.transform);const r=[e[2],e[3]];return Q.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Q.applyInverseTransform(r,this.transform),r}}class rw extends fu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Rg(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function sw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function PR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function RR(n,e="document.pdf"){if(typeof n!="string")return e;if(Rg(n))return oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const s=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},i=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(i.test(o))return s(o);if(r.searchParams.size>0){const l=Array.from(r.searchParams.values()).reverse();for(const u of l)if(i.test(u))return s(u);const c=Array.from(r.searchParams.keys()).reverse();for(const u of c)if(i.test(u))return s(u)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return s(c[0])}return e}class DC{constructor(){z(this,"started",Object.create(null));z(this,"times",[])}time(e){e in this.started&&oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:s,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-s}ms
`);return e.join("")}}function Tf(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Nr(n){n.preventDefault()}function ot(n){n.preventDefault(),n.stopPropagation()}function q3(n){console.log("Deprecated API usage: "+n)}var jp;class Np{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;a(this,jp)||y(this,jp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=a(this,jp).exec(e);if(!t)return null;const r=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,l+=h):u==="+"&&(o-=d,l-=h),new Date(Date.UTC(r,s,i,o,l,c))}}jp=new WeakMap,S(Np,jp);function NR(n,{scale:e=1,rotation:t=0}){const{width:r,height:s}=n.attributes.style,i=[0,0,parseInt(r),parseInt(s)];return new Pg({viewBox:i,userUnit:1,scale:e,rotation:t})}function lf(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(oe(`Not a valid color format: "${n}"`),[0,0,0])}function X3(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,lf(r))}e.remove()}function st(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform();return[e,t,r,s,i,o]}function Hs(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform().invertSelf();return[e,t,r,s,i,o]}function gl(n,e,t=!1,r=!0){if(e instanceof Pg){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:o}=n,l=Gt.isCSSRoundSupported,c=`var(--total-scale-factor) * ${s}px`,u=`var(--total-scale-factor) * ${i}px`,d=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Is{constructor(){const{pixelRatio:e}=Is;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,s,i=-1){let o=1/0,l=1/0,c=1/0;r=Is.capPixels(r,i),r>0&&(o=Math.sqrt(r/(e*t))),s!==-1&&(l=s/e,c=s/t);const u=Math.min(o,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const Yv=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Y3{static get isDarkMode(){var e;return de(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class MR{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),de(this,"commentForegroundColor",lf(r))}}function DR(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const s=255*(1-r);return n=Math.round(n*r+s),e=Math.round(e*r+s),t=Math.round(t*r+s),[n,e,t]}function LC(n,e){const t=n[0]/255,r=n[1]/255,s=n[2]/255,i=Math.max(t,r,s),o=Math.min(t,r,s),l=(i+o)/2;if(i===o)e[0]=e[1]=0;else{const c=i-o;switch(e[1]=l<.5?c/(i+o):c/(2-i-o),i){case t:e[0]=((r-s)/c+(r<s?6:0))*60;break;case r:e[0]=((s-t)/c+2)*60;break;case s:e[0]=((t-r)/c+4)*60;break}}e[2]=l}function Ab(n,e){const t=n[0],r=n[1],s=n[2],i=(1-Math.abs(2*s-1))*r,o=i*(1-Math.abs(t/60%2-1)),l=s-i/2;switch(Math.floor(t/60)){case 0:e[0]=i+l,e[1]=o+l,e[2]=l;break;case 1:e[0]=o+l,e[1]=i+l,e[2]=l;break;case 2:e[0]=l,e[1]=i+l,e[2]=o+l;break;case 3:e[0]=l,e[1]=o+l,e[2]=i+l;break;case 4:e[0]=o+l,e[1]=l,e[2]=i+l;break;case 5:case 6:e[0]=i+l,e[1]=l,e[2]=o+l;break}}function IC(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function OC(n,e,t){Ab(n,t),t.map(IC);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];Ab(e,t),t.map(IC);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>s?(r+.05)/(s+.05):(s+.05)/(r+.05)}const FC=new Map;function LR(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=FC.get(t);if(r)return r;const s=new Float32Array(9),i=s.subarray(0,3),o=s.subarray(3,6);LC(n,o);const l=s.subarray(6,9);LC(e,l);const c=l[2]<.5,u=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),OC(o,l,i)<u){let d,h;c?(d=o[2],h=1):(d=0,h=o[2]);const f=.005;for(;h-d>f;){const p=o[2]=(d+h)/2;c===OC(o,l,i)<u?d=p:h=p}o[2]=c?h:d}return Ab(o,i),r=Q.makeHexColor(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)),FC.set(t,r),r}function hS({html:n,dir:e,className:t},r){const s=document.createDocumentFragment();if(typeof n=="string"){const i=document.createElement("p");i.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const u=o[l];i.append(document.createTextNode(u)),l<c-1&&i.append(document.createElement("br"))}s.append(i)}else dS.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",t),r.append(s)}var aa,la,Fr,jr,Bp,ca,pd,md,zp,a0,IR,rn,OR,FR,Su,kf;const ji=class ji{constructor(e){S(this,rn);S(this,aa,null);S(this,la,null);S(this,Fr);S(this,jr,null);S(this,Bp,null);S(this,ca,null);S(this,pd,null);S(this,md,null);y(this,Fr,e),a(ji,zp)||y(ji,zp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=y(this,aa,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=a(this,Fr)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Nr,{signal:t}),e.addEventListener("pointerdown",E(ji,a0,IR),{signal:t}));const r=y(this,jr,document.createElement("div"));r.className="buttons",e.append(r);const s=a(this,Fr).toolbarPosition;if(s){const{style:i}=e,o=a(this,Fr)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return a(this,aa)}hide(){var e;a(this,aa).classList.add("hidden"),(e=a(this,la))==null||e.hideDropdown()}show(){var e,t;a(this,aa).classList.remove("hidden"),(e=a(this,Bp))==null||e.shown(),(t=a(this,ca))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=a(this,Fr),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",a(ji,zp)[e]),E(this,rn,Su).call(this,r)&&r.addEventListener("click",s=>{t.delete()},{signal:t._signal}),a(this,jr).append(r)}async addAltText(e){const t=await e.render();E(this,rn,Su).call(this,t),a(this,jr).append(t,a(this,rn,kf)),y(this,Bp,e)}addComment(e,t=null){if(a(this,ca))return;const r=e.renderForToolbar();if(!r)return;E(this,rn,Su).call(this,r);const s=y(this,pd,a(this,rn,kf));t?(a(this,jr).insertBefore(r,t),a(this,jr).insertBefore(s,t)):a(this,jr).append(r,s),y(this,ca,e),e.toolbar=this}addColorPicker(e){if(a(this,la))return;y(this,la,e);const t=e.renderButton();E(this,rn,Su).call(this,t),a(this,jr).append(t,a(this,rn,kf))}async addEditSignatureButton(e){const t=y(this,md,await e.renderEditButton(a(this,Fr)));E(this,rn,Su).call(this,t),a(this,jr).append(t,a(this,rn,kf))}removeButton(e){var t,r;switch(e){case"comment":(t=a(this,ca))==null||t.removeToolbarCommentButton(),y(this,ca,null),(r=a(this,pd))==null||r.remove(),y(this,pd,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,r){const s=a(this,jr).querySelector(r);s&&e==="comment"&&this.addComment(t,s)}updateEditSignatureButton(e){a(this,md)&&(a(this,md).title=e)}remove(){var e;a(this,aa).remove(),(e=a(this,la))==null||e.destroy(),y(this,la,null)}};aa=new WeakMap,la=new WeakMap,Fr=new WeakMap,jr=new WeakMap,Bp=new WeakMap,ca=new WeakMap,pd=new WeakMap,md=new WeakMap,zp=new WeakMap,a0=new WeakSet,IR=function(e){e.stopPropagation()},rn=new WeakSet,OR=function(e){a(this,Fr)._focusEventsAllowed=!1,ot(e)},FR=function(e){a(this,Fr)._focusEventsAllowed=!0,ot(e)},Su=function(e){const t=a(this,Fr)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",E(this,rn,OR).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,rn,FR).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Nr,{signal:t}),!0)},kf=function(){const e=document.createElement("div");return e.className="divider",e},S(ji,a0),S(ji,zp,null);let Sb=ji;var $p,Ul,Ui,jo,jR,BR,Eb;class K3{constructor(e){S(this,jo);S(this,$p,null);S(this,Ul,null);S(this,Ui);y(this,Ui,e)}show(e,t,r){const[s,i]=E(this,jo,BR).call(this,t,r),{style:o}=a(this,Ul)||y(this,Ul,E(this,jo,jR).call(this));e.append(a(this,Ul)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){a(this,Ul).remove()}}$p=new WeakMap,Ul=new WeakMap,Ui=new WeakMap,jo=new WeakSet,jR=function(){const e=y(this,Ul,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=a(this,Ui)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Nr,{signal:t});const r=y(this,$p,document.createElement("div"));return r.className="buttons",e.append(r),a(this,Ui).hasCommentManager()&&E(this,jo,Eb).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{a(this,Ui).commentSelection("floating_button")}),E(this,jo,Eb).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{a(this,Ui).highlightSelection("floating_button")}),e},BR=function(e,t){let r=0,s=0;for(const i of e){const o=i.y+i.height;if(o<r)continue;const l=i.x+(t?i.width:0);if(o>r){s=l,r=o;continue}t?l>s&&(s=l):l<s&&(s=l)}return[t?1-s:s,r]},Eb=function(e,t,r,s){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const o=document.createElement("span");i.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const l=a(this,Ui)._signal;l instanceof AbortSignal&&!l.aborted&&(i.addEventListener("contextmenu",Nr,{signal:l}),i.addEventListener("click",s,{signal:l})),a(this,$p).append(i)};function zR(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var l0;class Q3{constructor(){S(this,l0,0)}get id(){return`${kp}${ht(this,l0)._++}`}}l0=new WeakMap;var gd,Up,hn,yd,Fy;const TS=class TS{constructor(){S(this,yd);S(this,gd,cS());S(this,Up,0);S(this,hn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return de(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:r,size:s,type:i}=e;return E(this,yd,Fy).call(this,`${t}_${r}_${s}_${i}`,e)}async getFromUrl(e){return E(this,yd,Fy).call(this,e,e)}async getFromBlob(e,t){const r=await t;return E(this,yd,Fy).call(this,e,r)}async getFromId(e){a(this,hn)||y(this,hn,new Map);const t=a(this,hn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){a(this,hn)||y(this,hn,new Map);let r=a(this,hn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${a(this,gd)}_${ht(this,Up)._++}`,refCounter:1,isSvg:!1},a(this,hn).set(e,r),a(this,hn).set(r.id,r),r}getSvgUrl(e){const t=a(this,hn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;a(this,hn)||y(this,hn,new Map);const t=a(this,hn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}(s=r.close)==null||s.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${a(this,gd)}_`)}};gd=new WeakMap,Up=new WeakMap,hn=new WeakMap,yd=new WeakSet,Fy=async function(e,t){a(this,hn)||y(this,hn,new Map);let r=a(this,hn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${a(this,gd)}_${ht(this,Up)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(r.url=t,s=await af(t,"blob")):t instanceof File?s=r.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=TS._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;l.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=o.onerror=d});o.readAsDataURL(s),await c}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){oe(s),r=null}return a(this,hn).set(e,r),r&&a(this,hn).set(r.id,r),r};let Cb=TS;var bt,ua,Hp,rt;class Z3{constructor(e=128){S(this,bt,[]);S(this,ua,!1);S(this,Hp);S(this,rt,-1);y(this,Hp,e)}add({cmd:e,undo:t,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(s&&e(),a(this,ua))return;const c={cmd:e,undo:t,post:r,type:i};if(a(this,rt)===-1){a(this,bt).length>0&&(a(this,bt).length=0),y(this,rt,0),a(this,bt).push(c);return}if(o&&a(this,bt)[a(this,rt)].type===i){l&&(c.undo=a(this,bt)[a(this,rt)].undo),a(this,bt)[a(this,rt)]=c;return}const u=a(this,rt)+1;u===a(this,Hp)?a(this,bt).splice(0,1):(y(this,rt,u),u<a(this,bt).length&&a(this,bt).splice(u)),a(this,bt).push(c)}undo(){if(a(this,rt)===-1)return;y(this,ua,!0);const{undo:e,post:t}=a(this,bt)[a(this,rt)];e(),t==null||t(),y(this,ua,!1),y(this,rt,a(this,rt)-1)}redo(){if(a(this,rt)<a(this,bt).length-1){y(this,rt,a(this,rt)+1),y(this,ua,!0);const{cmd:e,post:t}=a(this,bt)[a(this,rt)];e(),t==null||t(),y(this,ua,!1)}}hasSomethingToUndo(){return a(this,rt)!==-1}hasSomethingToRedo(){return a(this,rt)<a(this,bt).length-1}cleanType(e){if(a(this,rt)!==-1){for(let t=a(this,rt);t>=0;t--)if(a(this,bt)[t].type!==e){a(this,bt).splice(t+1,a(this,rt)-t),y(this,rt,t);return}a(this,bt).length=0,y(this,rt,-1)}}destroy(){y(this,bt,null)}}bt=new WeakMap,ua=new WeakMap,Hp=new WeakMap,rt=new WeakMap;var c0,$R;class Ng{constructor(e){S(this,c0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Gt.platform;for(const[r,s,i={}]of e)for(const o of r){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(E(this,c0,$R).call(this,t));if(!r)return;const{callback:s,options:{bubbles:i=!1,args:o=[],checker:l=null}}=r;l&&!l(e,t)||(s.bind(e,...o,t)(),i||ot(t))}}c0=new WeakSet,$R=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const u0=class u0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return X3(e),de(this,"_colors",e)}convert(e){const t=lf(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,s]of this._colors)if(s.every((i,o)=>i===t[o]))return u0._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Q.makeHexColor(...t):e}};z(u0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _b=u0;var vd,sr,wd,pt,Nt,xd,Br,bd,zr,fn,da,ha,Ad,fa,Ks,$r,Hl,Vp,Wp,Sd,Gp,Qs,pa,Ed,ma,Zs,d0,ga,Cd,qp,ya,Vl,_d,va,Xp,_t,ke,Hi,wa,xa,Yp,Td,Kp,ba,Js,Vi,Qp,Zp,Ur,q,jy,Tb,UR,HR,Pf,VR,WR,GR,kb,qR,Pb,Rb,XR,En,Ii,YR,KR,Nb,QR,Rf,Mb;const Hu=class Hu{constructor(e,t,r,s,i,o,l,c,u,d,h,f,p,v,m,x){S(this,q);S(this,vd,new AbortController);S(this,sr,null);S(this,wd,null);S(this,pt,new Map);S(this,Nt,new Map);S(this,xd,null);S(this,Br,null);S(this,bd,null);S(this,zr,new Z3);S(this,fn,null);S(this,da,null);S(this,ha,null);S(this,Ad,0);S(this,fa,new Set);S(this,Ks,null);S(this,$r,null);S(this,Hl,new Set);z(this,"_editorUndoBar",null);S(this,Vp,!1);S(this,Wp,!1);S(this,Sd,!1);S(this,Gp,null);S(this,Qs,null);S(this,pa,null);S(this,Ed,null);S(this,ma,!1);S(this,Zs,null);S(this,d0,new Q3);S(this,ga,!1);S(this,Cd,!1);S(this,qp,!1);S(this,ya,null);S(this,Vl,null);S(this,_d,null);S(this,va,null);S(this,Xp,null);S(this,_t,ie.NONE);S(this,ke,new Set);S(this,Hi,null);S(this,wa,null);S(this,xa,null);S(this,Yp,null);S(this,Td,null);S(this,Kp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,ba,[0,0]);S(this,Js,null);S(this,Vi,null);S(this,Qp,null);S(this,Zp,null);S(this,Ur,null);const g=this._signal=a(this,vd).signal;y(this,Vi,e),y(this,Qp,t),y(this,Zp,r),y(this,xd,s),y(this,fn,i),y(this,wa,o),y(this,Td,c),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:g}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),l._on("setpreference",this.onSetPreference.bind(this),{signal:g}),l._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:g}),window.addEventListener("pointerdown",()=>{y(this,Cd,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{y(this,Cd,!1)},{capture:!0,signal:g}),E(this,q,VR).call(this),E(this,q,XR).call(this),E(this,q,kb).call(this),y(this,Br,c.annotationStorage),y(this,Gp,c.filterFactory),y(this,xa,u),y(this,Ed,d||null),y(this,Vp,h),y(this,Wp,f),y(this,Sd,p),y(this,Xp,v||null),this.viewParameters={realScale:Oo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=x!==!1,i==null||i.setSidebarUiManager(this)}static get _keyboardManager(){const e=Hu.prototype,t=o=>a(o,Vi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return de(this,"_keyboardManager",new Ng([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,Vi).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,Vi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,r,s,i,o,l,c,u;(e=a(this,Ur))==null||e.resolve(),y(this,Ur,null),(t=a(this,vd))==null||t.abort(),y(this,vd,null),this._signal=null;for(const d of a(this,Nt).values())d.destroy();a(this,Nt).clear(),a(this,pt).clear(),a(this,Hl).clear(),(r=a(this,va))==null||r.clear(),y(this,sr,null),a(this,ke).clear(),a(this,zr).destroy(),(s=a(this,xd))==null||s.destroy(),(i=a(this,fn))==null||i.destroy(),(o=a(this,wa))==null||o.destroy(),(l=a(this,Zs))==null||l.hide(),y(this,Zs,null),(c=a(this,_d))==null||c.destroy(),y(this,_d,null),y(this,wd,null),a(this,Qs)&&(clearTimeout(a(this,Qs)),y(this,Qs,null)),a(this,Js)&&(clearTimeout(a(this,Js)),y(this,Js,null)),(u=this._editorUndoBar)==null||u.destroy(),y(this,Td,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return a(this,Xp)}get useNewAltTextFlow(){return a(this,Wp)}get useNewAltTextWhenAddingImage(){return a(this,Sd)}get hcmFilter(){return de(this,"hcmFilter",a(this,xa)?a(this,Gp).addHCMFilter(a(this,xa).foreground,a(this,xa).background):"none")}get direction(){return de(this,"direction",getComputedStyle(a(this,Vi)).direction)}get _highlightColors(){return de(this,"_highlightColors",a(this,Ed)?new Map(a(this,Ed).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return de(this,"highlightColors",null);const t=new Map,r=!!a(this,xa);for(const[s,i]of e){const o=s.endsWith("_HCM");if(r&&o){t.set(s.replace("_HCM",""),i);continue}!r&&!o&&t.set(s,i)}return de(this,"highlightColors",t)}get highlightColorNames(){return de(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),y(this,ha,e)}setMainHighlightColorPicker(e){y(this,_d,e)}editAltText(e,t=!1){var r;(r=a(this,xd))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!a(this,fn)}editComment(e,t,r,s){var i;(i=a(this,fn))==null||i.showDialog(this,e,t,r,s)}selectComment(e,t){const r=a(this,Nt).get(e),s=r==null?void 0:r.getEditorByUID(t);s==null||s.toggleComment(!0,!0)}updateComment(e){var t;(t=a(this,fn))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=a(this,fn))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=a(this,fn))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var s;(s=a(this,fn))==null||s.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=a(this,fn))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=a(this,fn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(a(this,Nt).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),s=i=>{i.pageNumber===e&&(this._eventBus._off("editorsrendered",s),t())};this._eventBus.on("editorsrendered",s),await r}getSignature(e){var t;(t=a(this,wa))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return a(this,wa)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":y(this,Sd,t);break}}onPageChanging({pageNumber:e}){y(this,Ad,e-1)}focusMainContainer(){a(this,Vi).focus()}findParent(e,t){for(const r of a(this,Nt).values()){const{x:s,y:i,width:o,height:l}=r.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=i&&t<=i+l)return r}return null}disableUserSelect(e=!1){a(this,Qp).classList.toggle("noUserSelect",e)}addShouldRescale(e){a(this,Hl).add(e)}removeShouldRescale(e){a(this,Hl).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Oo.PDF_TO_CSS_UNITS;for(const r of a(this,Hl))r.onScaleChanging();(t=a(this,ha))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:o,focusOffset:l}=r,c=r.toString(),d=E(this,q,jy).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const f=E(this,q,Tb).call(this,d),p=a(this,_t)===ie.NONE,v=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:s,anchorOffset:i,focusNode:o,focusOffset:l,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&(m==null||m.editComment())};if(p){this.switchToMode(ie.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!a(this,Br))return null;const t=`${kp}${e}`,r=a(this,Br).getRawValue(t);return r&&a(this,Br).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&a(this,Br)&&!a(this,Br).has(e.id)&&a(this,Br).setValue(e.id,e)}a11yAlert(e,t=null){const r=a(this,Zp);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,a(this,ma)&&(y(this,ma,!1),E(this,q,Pf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of a(this,ke))if(t.div.contains(e)){y(this,Vl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!a(this,Vl))return;const[e,t]=a(this,Vl);y(this,Vl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,q,kb).call(this),E(this,q,Pb).call(this)}removeEditListeners(){E(this,q,qR).call(this),E(this,q,Rb).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of a(this,$r))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of a(this,$r))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=a(this,sr))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of a(this,ke)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of a(this,$r))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){oe(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const c of r){const u=await s.deserialize(c);if(!u)return;i.push(u)}const o=()=>{for(const c of i)E(this,q,Nb).call(this,c);E(this,q,Mb).call(this,i)},l=()=>{for(const c of i)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(i){oe(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),a(this,_t)!==ie.NONE&&!this.isEditorHandlingKeyboard&&Hu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,a(this,ma)&&(y(this,ma,!1),E(this,q,Pf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(E(this,q,WR).call(this),E(this,q,Pb).call(this),E(this,q,En).call(this,{isEditing:a(this,_t)!==ie.NONE,isEmpty:E(this,q,Rf).call(this),hasSomethingToUndo:a(this,zr).hasSomethingToUndo(),hasSomethingToRedo:a(this,zr).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,q,GR).call(this),E(this,q,Rb).call(this),E(this,q,En).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!a(this,$r)){y(this,$r,e);for(const t of a(this,$r))E(this,q,Ii).call(this,t.defaultPropertiesToUpdate)}}getId(){return a(this,d0).id}get currentLayer(){return a(this,Nt).get(a(this,Ad))}getLayer(e){return a(this,Nt).get(e)}get currentPageIndex(){return a(this,Ad)}addLayer(e){a(this,Nt).set(e.pageIndex,e),a(this,ga)?e.enable():e.disable()}removeLayer(e){a(this,Nt).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,s=!1,i=!1){var o,l,c,u,d,h;if(a(this,_t)!==e&&!(a(this,Ur)&&(await a(this,Ur).promise,!a(this,Ur)))){if(y(this,Ur,Promise.withResolvers()),(o=a(this,ha))==null||o.commitOrRemove(),a(this,_t)===ie.POPUP&&((l=a(this,fn))==null||l.hideSidebar()),(c=a(this,fn))==null||c.destroyPopup(),y(this,_t,e),e===ie.NONE){this.setEditingState(!1),E(this,q,KR).call(this);for(const f of a(this,pt).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),a(this,Ur).resolve();return}for(const f of a(this,pt).values())f.addStandaloneCommentButton();e===ie.SIGNATURE&&await((d=a(this,wa))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await E(this,q,YR).call(this),this.unselectAll();for(const f of a(this,Nt).values())f.updateMode(e);if(e===ie.POPUP){a(this,wd)||y(this,wd,await a(this,Td).getAnnotationsByType(new Set(a(this,$r).map(v=>v._editorType))));const f=new Set,p=[];for(const v of a(this,pt).values()){const{annotationElementId:m,hasComment:x,deleted:g}=v;m&&f.add(m),x&&!g&&p.push(v.getData())}for(const v of a(this,wd)){const{id:m,popupRef:x,contentsObj:g}=v;x&&(g!=null&&g.str)&&!f.has(m)&&!a(this,fa).has(m)&&p.push(v)}(h=a(this,fn))==null||h.showSidebar(p)}if(!t){r&&this.addNewEditorFromKeyboard(),a(this,Ur).resolve();return}for(const f of a(this,pt).values())f.uid===t?(this.setSelected(f),i?f.editComment():s?f.enterInEditMode():f.focus()):f.unselect();a(this,Ur).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==a(this,_t)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(a(this,$r)){switch(e){case ve.CREATE:this.currentLayer.addNewEditor(t);return;case ve.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(a(this,Yp)||y(this,Yp,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of a(this,ke))r.updateParams(e,t);else for(const r of a(this,$r))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var i;for(const o of a(this,pt).values())o.editorType===e&&o.show(t);(((i=a(this,Yp))==null?void 0:i.get(ve.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,q,Ii).call(this,[[ve.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(a(this,qp)!==e){y(this,qp,e);for(const t of a(this,Nt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of a(this,pt).values())t.pageIndex===e&&(yield t)}getEditor(e){return a(this,pt).get(e)}addEditor(e){a(this,pt).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(a(this,Qs)&&clearTimeout(a(this,Qs)),y(this,Qs,setTimeout(()=>{this.focusMainContainer(),y(this,Qs,null)},0))),a(this,pt).delete(e.id),e.annotationElementId&&((t=a(this,va))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!a(this,fa).has(e.annotationElementId))&&((r=a(this,Br))==null||r.remove(e.id))}addDeletedAnnotationElement(e){a(this,fa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return a(this,fa).has(e)}removeDeletedAnnotationElement(e){a(this,fa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){a(this,sr)!==e&&(y(this,sr,e),e&&E(this,q,Ii).call(this,e.propertiesToUpdate))}updateUI(e){a(this,q,QR)===e&&E(this,q,Ii).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){E(this,q,Ii).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(a(this,ke).has(e)){a(this,ke).delete(e),e.unselect(),E(this,q,En).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,ke).add(e),e.select(),E(this,q,Ii).call(this,e.propertiesToUpdate),E(this,q,En).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=a(this,ha))==null||t.commitOrRemove();for(const r of a(this,ke))r!==e&&r.unselect();a(this,ke).clear(),a(this,ke).add(e),e.select(),E(this,q,Ii).call(this,e.propertiesToUpdate),E(this,q,En).call(this,{hasSelectedEditor:!0})}isSelected(e){return a(this,ke).has(e)}get firstSelectedEditor(){return a(this,ke).values().next().value}unselect(e){e.unselect(),a(this,ke).delete(e),E(this,q,En).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,ke).size!==0}get isEnterHandled(){return a(this,ke).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;a(this,zr).undo(),E(this,q,En).call(this,{hasSomethingToUndo:a(this,zr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,q,Rf).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){a(this,zr).redo(),E(this,q,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,zr).hasSomethingToRedo(),isEmpty:E(this,q,Rf).call(this)})}addCommands(e){a(this,zr).add(e),E(this,q,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,q,Rf).call(this)})}cleanUndoStack(e){a(this,zr).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...a(this,ke)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},s=()=>{for(const o of t)E(this,q,Nb).call(this,o)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=a(this,sr))==null||e.commitOrRemove()}hasSomethingToControl(){return a(this,sr)||this.hasSelection}selectAll(){for(const e of a(this,ke))e.commit();E(this,q,Mb).call(this,a(this,pt).values())}unselectAll(){var e;if(!(a(this,sr)&&(a(this,sr).commitOrRemove(),a(this,_t)!==ie.NONE))&&!((e=a(this,ha))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of a(this,ke))t.unselect();a(this,ke).clear(),E(this,q,En).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;a(this,ba)[0]+=e,a(this,ba)[1]+=t;const[s,i]=a(this,ba),o=[...a(this,ke)],l=1e3;a(this,Js)&&clearTimeout(a(this,Js)),y(this,Js,setTimeout(()=>{y(this,Js,null),a(this,ba)[0]=a(this,ba)[1]=0,this.addCommands({cmd:()=>{for(const c of o)a(this,pt).has(c.id)&&(c.translateInPage(s,i),c.translationDone())},undo:()=>{for(const c of o)a(this,pt).has(c.id)&&(c.translateInPage(-s,-i),c.translationDone())},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),y(this,Ks,new Map);for(const e of a(this,ke))a(this,Ks).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,Ks))return!1;this.disableUserSelect(!1);const e=a(this,Ks);y(this,Ks,null);let t=!1;for(const[{x:s,y:i,pageIndex:o},l]of e)l.newX=s,l.newY=i,l.newPageIndex=o,t||(t=s!==l.savedX||i!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const r=(s,i,o,l)=>{if(a(this,pt).has(s.id)){const c=a(this,Nt).get(l);c?s._setParentAndPosition(c,i,o):(s.pageIndex=l,s.x=i,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:o,newPageIndex:l}]of e)r(s,i,o,l)},undo:()=>{for(const[s,{savedX:i,savedY:o,savedPageIndex:l}]of e)r(s,i,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(a(this,Ks))for(const r of a(this,Ks).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||a(this,ke).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return a(this,sr)===e}getActive(){return a(this,sr)}getMode(){return a(this,_t)}isEditingMode(){return a(this,_t)!==ie.NONE}get imageManager(){return de(this,"imageManager",new Cb)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:i,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-s)/o,y:1-(u+h-r)/i,width:f/o,height:h/i});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-r)/i,y:1-(d+f-s)/o,width:h/i,height:f/o});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-s)/o,y:(u-r)/i,width:f/o,height:h/i});break;default:l=(u,d,h,f)=>({x:(u-r)/i,y:(d-s)/o,width:h/i,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:v,height:m}of h.getClientRects())v===0||m===0||c.push(l(f,p,v,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(a(this,bd)||y(this,bd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=a(this,bd))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=a(this,bd))==null?void 0:s.get(e.data.id);if(!t)return;const r=a(this,Br).getRawValue(t);r&&(a(this,_t)===ie.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var i;const s=(i=a(this,va))==null?void 0:i.get(e);s&&(s.setCanvas(t,r),a(this,va).delete(e))}addMissingCanvas(e,t){(a(this,va)||y(this,va,new Map)).set(e,t)}};vd=new WeakMap,sr=new WeakMap,wd=new WeakMap,pt=new WeakMap,Nt=new WeakMap,xd=new WeakMap,Br=new WeakMap,bd=new WeakMap,zr=new WeakMap,fn=new WeakMap,da=new WeakMap,ha=new WeakMap,Ad=new WeakMap,fa=new WeakMap,Ks=new WeakMap,$r=new WeakMap,Hl=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,Sd=new WeakMap,Gp=new WeakMap,Qs=new WeakMap,pa=new WeakMap,Ed=new WeakMap,ma=new WeakMap,Zs=new WeakMap,d0=new WeakMap,ga=new WeakMap,Cd=new WeakMap,qp=new WeakMap,ya=new WeakMap,Vl=new WeakMap,_d=new WeakMap,va=new WeakMap,Xp=new WeakMap,_t=new WeakMap,ke=new WeakMap,Hi=new WeakMap,wa=new WeakMap,xa=new WeakMap,Yp=new WeakMap,Td=new WeakMap,Kp=new WeakMap,ba=new WeakMap,Js=new WeakMap,Vi=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Ur=new WeakMap,q=new WeakSet,jy=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Tb=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of a(this,Nt).values())if(r.hasTextLayer(e))return r;return null},UR=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=E(this,q,jy).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(a(this,Zs)||y(this,Zs,new K3(this)),a(this,Zs).show(r,s,this.direction==="ltr"))},HR=function(){var i,o,l;const e=document.getSelection();if(!e||e.isCollapsed){a(this,Hi)&&((i=a(this,Zs))==null||i.hide(),y(this,Hi,null),E(this,q,En).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===a(this,Hi))return;const s=E(this,q,jy).call(this,e).closest(".textLayer");if(!s){a(this,Hi)&&((o=a(this,Zs))==null||o.hide(),y(this,Hi,null),E(this,q,En).call(this,{hasSelectedText:!1}));return}if((l=a(this,Zs))==null||l.hide(),y(this,Hi,t),E(this,q,En).call(this,{hasSelectedText:!0}),!(a(this,_t)!==ie.HIGHLIGHT&&a(this,_t)!==ie.NONE)&&(a(this,_t)===ie.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),y(this,ma,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=a(this,_t)===ie.HIGHLIGHT?E(this,q,Tb).call(this,s):null;if(c==null||c.toggleDrawing(),a(this,Cd)){const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&E(this,q,Pf).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else c==null||c.toggleDrawing(!0),E(this,q,Pf).call(this,"main_toolbar")}},Pf=function(e=""){a(this,_t)===ie.HIGHLIGHT?this.highlightSelection(e):a(this,Vp)&&E(this,q,UR).call(this)},VR=function(){document.addEventListener("selectionchange",E(this,q,HR).bind(this),{signal:this._signal})},WR=function(){if(a(this,pa))return;y(this,pa,new AbortController);const e=this.combinedSignal(a(this,pa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},GR=function(){var e;(e=a(this,pa))==null||e.abort(),y(this,pa,null)},kb=function(){if(a(this,ya))return;y(this,ya,new AbortController);const e=this.combinedSignal(a(this,ya));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},qR=function(){var e;(e=a(this,ya))==null||e.abort(),y(this,ya,null)},Pb=function(){if(a(this,da))return;y(this,da,new AbortController);const e=this.combinedSignal(a(this,da));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Rb=function(){var e;(e=a(this,da))==null||e.abort(),y(this,da,null)},XR=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},En=function(e){Object.entries(e).some(([r,s])=>a(this,Kp)[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,Kp),e)}),a(this,_t)===ie.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,q,Ii).call(this,[[ve.HIGHLIGHT_FREE,!0]]))},Ii=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},YR=async function(){if(!a(this,ga)){y(this,ga,!0);const e=[];for(const t of a(this,Nt).values())e.push(t.enable());await Promise.all(e);for(const t of a(this,pt).values())t.enable()}},KR=function(){if(this.unselectAll(),a(this,ga)){y(this,ga,!1);for(const e of a(this,Nt).values())e.disable();for(const e of a(this,pt).values())e.disable()}},Nb=function(e){const t=a(this,Nt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},QR=function(){let e=null;for(e of a(this,ke));return e},Rf=function(){if(a(this,pt).size===0)return!0;if(a(this,pt).size===1)for(const e of a(this,pt).values())return e.isEmpty();return!1},Mb=function(e){for(const t of a(this,ke))t.unselect();a(this,ke).clear();for(const t of e)t.isEmpty()||(a(this,ke).add(t),t.select());E(this,q,En).call(this,{hasSelectedEditor:this.hasSelection})},z(Hu,"TRANSLATE_SMALL",1),z(Hu,"TRANSLATE_BIG",10);let yl=Hu;var Ft,ei,ms,kd,ti,ir,Pd,ni,Un,Wi,Wl,ri,Aa,Ps,Nf,By;const Cn=class Cn{constructor(e){S(this,Ps);S(this,Ft,null);S(this,ei,!1);S(this,ms,null);S(this,kd,null);S(this,ti,null);S(this,ir,null);S(this,Pd,!1);S(this,ni,null);S(this,Un,null);S(this,Wi,null);S(this,Wl,null);S(this,ri,!1);y(this,Un,e),y(this,ri,e._uiManager.useNewAltTextFlow),a(Cn,Aa)||y(Cn,Aa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Cn._l10n??(Cn._l10n=e)}async render(){const e=y(this,ms,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=y(this,kd,document.createElement("span"));e.append(t),a(this,ri)?(e.classList.add("new"),e.setAttribute("data-l10n-id",a(Cn,Aa).missing),t.setAttribute("data-l10n-id",a(Cn,Aa)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=a(this,Un)._uiManager._signal;e.addEventListener("contextmenu",Nr,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),a(this,Un)._uiManager.editAltText(a(this,Un)),a(this,ri)&&a(this,Un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:a(this,Ps,Nf)}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(y(this,Pd,!0),s(i))},{signal:r}),await E(this,Ps,By).call(this),e}finish(){a(this,ms)&&(a(this,ms).focus({focusVisible:a(this,Pd)}),y(this,Pd,!1))}isEmpty(){return a(this,ri)?a(this,Ft)===null:!a(this,Ft)&&!a(this,ei)}hasData(){return a(this,ri)?a(this,Ft)!==null||!!a(this,Wi):this.isEmpty()}get guessedText(){return a(this,Wi)}async setGuessedText(e){a(this,Ft)===null&&(y(this,Wi,e),y(this,Wl,await Cn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,Ps,By).call(this))}toggleAltTextBadge(e=!1){var t;if(!a(this,ri)||a(this,Ft)){(t=a(this,ni))==null||t.remove(),y(this,ni,null);return}if(!a(this,ni)){const r=y(this,ni,document.createElement("div"));r.className="noAltTextBadge",a(this,Un).div.append(r)}a(this,ni).classList.toggle("hidden",!e)}serialize(e){let t=a(this,Ft);return!e&&a(this,Wi)===t&&(t=a(this,Wl)),{altText:t,decorative:a(this,ei),guessedText:a(this,Wi),textWithDisclaimer:a(this,Wl)}}get data(){return{altText:a(this,Ft),decorative:a(this,ei)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:s,cancel:i=!1}){r&&(y(this,Wi,r),y(this,Wl,s)),!(a(this,Ft)===e&&a(this,ei)===t)&&(i||(y(this,Ft,e),y(this,ei,t)),E(this,Ps,By).call(this))}toggle(e=!1){a(this,ms)&&(!e&&a(this,ir)&&(clearTimeout(a(this,ir)),y(this,ir,null)),a(this,ms).disabled=!e)}shown(){a(this,Un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:a(this,Ps,Nf)}})}destroy(){var e,t;(e=a(this,ms))==null||e.remove(),y(this,ms,null),y(this,kd,null),y(this,ti,null),(t=a(this,ni))==null||t.remove(),y(this,ni,null)}};Ft=new WeakMap,ei=new WeakMap,ms=new WeakMap,kd=new WeakMap,ti=new WeakMap,ir=new WeakMap,Pd=new WeakMap,ni=new WeakMap,Un=new WeakMap,Wi=new WeakMap,Wl=new WeakMap,ri=new WeakMap,Aa=new WeakMap,Ps=new WeakSet,Nf=function(){return a(this,Ft)&&"added"||a(this,Ft)===null&&this.guessedText&&"review"||"missing"},By=async function(){var s,i,o;const e=a(this,ms);if(!e)return;if(a(this,ri)){if(e.classList.toggle("done",!!a(this,Ft)),e.setAttribute("data-l10n-id",a(Cn,Aa)[a(this,Ps,Nf)]),(s=a(this,kd))==null||s.setAttribute("data-l10n-id",a(Cn,Aa)[`${a(this,Ps,Nf)}-label`]),!a(this,Ft)){(i=a(this,ti))==null||i.remove();return}}else{if(!a(this,Ft)&&!a(this,ei)){e.classList.remove("done"),(o=a(this,ti))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=a(this,ti);if(!t){y(this,ti,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${a(this,Un).id}`;const l=100,c=a(this,Un)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(a(this,ir)),y(this,ir,null)},{once:!0}),e.addEventListener("mouseenter",()=>{y(this,ir,setTimeout(()=>{y(this,ir,null),a(this,ti).classList.add("show"),a(this,Un)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;a(this,ir)&&(clearTimeout(a(this,ir)),y(this,ir,null)),(u=a(this,ti))==null||u.classList.remove("show")},{signal:c})}a(this,ei)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=a(this,Ft)),t.parentNode||e.append(t);const r=a(this,Un).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},S(Cn,Aa,null),z(Cn,"_l10n",null);let Kv=Cn;var Yt,Hr,Gl,Ue,Jp,ql,gs,Xl,Yl,Kl,em,Db;class oy{constructor(e){S(this,em);S(this,Yt,null);S(this,Hr,null);S(this,Gl,!1);S(this,Ue,null);S(this,Jp,null);S(this,ql,null);S(this,gs,null);S(this,Xl,null);S(this,Yl,!1);S(this,Kl,null);y(this,Ue,e)}renderForToolbar(){const e=y(this,Hr,document.createElement("button"));return e.className="comment",E(this,em,Db).call(this,e,!1)}renderForStandalone(){const e=y(this,Yt,document.createElement("button"));e.className="annotationCommentButton";const t=a(this,Ue).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(a(this,Ue)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const s=a(this,Ue).commentButtonColor;s&&(r.backgroundColor=s)}return E(this,em,Db).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=a(this,Yt)??a(this,Hr))==null||e.focus()},0)}onUpdatedColor(){if(!a(this,Yt))return;const e=a(this,Ue).commentButtonColor;e&&(a(this,Yt).style.backgroundColor=e),a(this,Ue)._uiManager.updatePopupColor(a(this,Ue))}get commentButtonWidth(){var e;return(((e=a(this,Yt))==null?void 0:e.getBoundingClientRect().width)??0)/a(this,Ue).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(a(this,Kl))return a(this,Kl);if(!a(this,Yt))return null;const{x:e,y:t,height:r}=a(this,Yt).getBoundingClientRect(),{x:s,y:i,width:o,height:l}=a(this,Ue).parent.boundingClientRect;return[(e-s)/o,(t+r-i)/l]}set commentPopupPositionInLayer(e){y(this,Kl,e)}hasDefaultPopupPosition(){return a(this,Kl)===null}removeStandaloneCommentButton(){var e;(e=a(this,Yt))==null||e.remove(),y(this,Yt,null)}removeToolbarCommentButton(){var e;(e=a(this,Hr))==null||e.remove(),y(this,Hr,null)}setCommentButtonStates({selected:e,hasPopup:t}){a(this,Yt)&&(a(this,Yt).classList.toggle("selected",e),a(this,Yt).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,s;if(t)[r,s]=t;else{[r,s]=a(this,Ue).commentButtonPosition;const{width:d,height:h,x:f,y:p}=a(this,Ue);r=f+r*d,s=p+s*h}const i=a(this,Ue).parent.boundingClientRect,{x:o,y:l,width:c,height:u}=i;a(this,Ue)._uiManager.editComment(a(this,Ue),o+r*c,l+s*u,{...e,parentDimensions:i})}finish(){a(this,Hr)&&(a(this,Hr).focus({focusVisible:a(this,Gl)}),y(this,Gl,!1))}isDeleted(){return a(this,Yl)||a(this,gs)===""}isEmpty(){return a(this,gs)===null}hasBeenEdited(){return this.isDeleted()||a(this,gs)!==a(this,Jp)}serialize(){return this.data}get data(){return{text:a(this,gs),richText:a(this,ql),date:a(this,Xl),deleted:this.isDeleted()}}set data(e){if(e!==a(this,gs)&&y(this,ql,null),e===null){y(this,gs,""),y(this,Yl,!0);return}y(this,gs,e),y(this,Xl,new Date),y(this,Yl,!1)}setInitialText(e,t=null){y(this,Jp,e),this.data=e,y(this,Xl,null),y(this,ql,t)}shown(){}destroy(){var e,t;(e=a(this,Hr))==null||e.remove(),y(this,Hr,null),(t=a(this,Yt))==null||t.remove(),y(this,Yt,null),y(this,gs,""),y(this,ql,null),y(this,Xl,null),y(this,Ue,null),y(this,Gl,!1),y(this,Yl,!1)}}Yt=new WeakMap,Hr=new WeakMap,Gl=new WeakMap,Ue=new WeakMap,Jp=new WeakMap,ql=new WeakMap,gs=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,em=new WeakSet,Db=function(e,t){if(!a(this,Ue)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[a(this,Ue)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=a(this,Ue)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Nr,{signal:r}),t&&(e.addEventListener("focusin",i=>{a(this,Ue)._focusEventsAllowed=!1,ot(i)},{capture:!0,signal:r}),e.addEventListener("focusout",i=>{a(this,Ue)._focusEventsAllowed=!0,ot(i)},{capture:!0,signal:r})),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),e===a(this,Hr)?this.edit():a(this,Ue).toggleComment(!0)};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(y(this,Gl,!0),s(i))},{signal:r}),e.addEventListener("pointerenter",()=>{a(this,Ue).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{a(this,Ue).toggleComment(!1,!1)},{signal:r}),e};var Rd,Ql,tm,nm,rm,sm,im,Gi,Zl,qi,Jl,Xi,vl,ZR,JR,e2;const kS=class kS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:s=null,onPinching:i=null,onPinchEnd:o=null,signal:l}){S(this,vl);S(this,Rd);S(this,Ql,!1);S(this,tm,null);S(this,nm);S(this,rm);S(this,sm);S(this,im);S(this,Gi,null);S(this,Zl);S(this,qi,null);S(this,Jl);S(this,Xi,null);y(this,Rd,e),y(this,tm,r),y(this,nm,t),y(this,rm,s),y(this,sm,i),y(this,im,o),y(this,Jl,new AbortController),y(this,Zl,AbortSignal.any([l,a(this,Jl).signal])),e.addEventListener("touchstart",E(this,vl,ZR).bind(this),{passive:!1,signal:a(this,Zl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Is.pixelRatio}destroy(){var e,t;(e=a(this,Jl))==null||e.abort(),y(this,Jl,null),(t=a(this,Gi))==null||t.abort(),y(this,Gi,null)}};Rd=new WeakMap,Ql=new WeakMap,tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,sm=new WeakMap,im=new WeakMap,Gi=new WeakMap,Zl=new WeakMap,qi=new WeakMap,Jl=new WeakMap,Xi=new WeakMap,vl=new WeakSet,ZR=function(e){var s,i,o;if((s=a(this,nm))!=null&&s.call(this))return;if(e.touches.length===1){if(a(this,Gi))return;const l=y(this,Gi,new AbortController),c=AbortSignal.any([a(this,Zl),l.signal]),u=a(this,Rd),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=a(this,Gi))==null||p.abort(),y(this,Gi,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ot(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!a(this,Xi)){y(this,Xi,new AbortController);const l=AbortSignal.any([a(this,Zl),a(this,Xi).signal]),c=a(this,Rd),u={signal:l,capture:!1,passive:!1};c.addEventListener("touchmove",E(this,vl,JR).bind(this),u);const d=E(this,vl,e2).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",ot,u),c.addEventListener("pointermove",ot,u),c.addEventListener("pointercancel",ot,u),c.addEventListener("pointerup",ot,u),(i=a(this,rm))==null||i.call(this)}if(ot(e),e.touches.length!==2||(o=a(this,tm))!=null&&o.call(this)){y(this,qi,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),y(this,qi,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},JR=function(e){var C;if(!a(this,qi)||e.touches.length!==2)return;ot(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:s,screenY:i}=t,{screenX:o,screenY:l}=r,c=a(this,qi),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,v=f-d,m=o-s,x=l-i,g=Math.hypot(m,x)||1,w=Math.hypot(p,v)||1;if(!a(this,Ql)&&Math.abs(w-g)<=kS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=s,c.touch0Y=i,c.touch1X=o,c.touch1Y=l,!a(this,Ql)){y(this,Ql,!0);return}const A=[(s+o)/2,(i+l)/2];(C=a(this,sm))==null||C.call(this,A,w,g)},e2=function(e){var t;e.touches.length>=2||(a(this,Xi)&&(a(this,Xi).abort(),y(this,Xi,null),(t=a(this,im))==null||t.call(this)),a(this,qi)&&(ot(e),y(this,qi,null),y(this,Ql,!1)))};let Mp=kS;var ec,ys,Qe,Fe,Yi,Nd,Sa,om,Kt,tc,Ki,si,Ea,am,nc,or,lm,rc,Qi,ii,Md,Dd,Vr,sc,cm,h0,se,Lb,um,Ib,zy,t2,n2,Ob,$y,Fb,r2,s2,i2,jb,o2,Bb,a2,l2,c2,zb,Mf;const le=class le{constructor(e){S(this,se);S(this,ec,null);S(this,ys,null);S(this,Qe,null);S(this,Fe,null);S(this,Yi,null);S(this,Nd,!1);S(this,Sa,null);S(this,om,"");S(this,Kt,null);S(this,tc,null);S(this,Ki,null);S(this,si,null);S(this,Ea,null);S(this,am,"");S(this,nc,!1);S(this,or,null);S(this,lm,!1);S(this,rc,!1);S(this,Qi,!1);S(this,ii,null);S(this,Md,0);S(this,Dd,0);S(this,Vr,null);S(this,sc,null);z(this,"isSelected",!1);z(this,"_isCopy",!1);z(this,"_editToolbar",null);z(this,"_initialOptions",Object.create(null));z(this,"_initialData",null);z(this,"_isVisible",!0);z(this,"_uiManager",null);z(this,"_focusEventsAllowed",!0);S(this,cm,!1);S(this,h0,le._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[i,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=le.prototype._resizeWithKeyboard,t=yl.TRANSLATE_SMALL,r=yl.TRANSLATE_BIG;return de(this,"_resizerKeyboardManager",new Ng([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],le.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return de(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new J3({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(le._l10n??(le._l10n=e),le._l10nResizer||(le._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),le._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);le._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){$e("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,cm)}set _isDraggable(e){var t;y(this,cm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,h0)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(E(this,se,Mf).call(this),(t=a(this,si))==null||t.remove(),y(this,si,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(a(this,nc)?y(this,nc,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,s){const[i,o]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/i,this.y=(t+s)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,s]=this.parentDimensions;this.setAt(e*r,t*s,this.width*r,this.height*s),this._onTranslated()}translate(e,t){E(this,se,Lb).call(this,this.parentDimensions,e,t)}translateInPage(e,t){a(this,or)||y(this,or,[this.x,this.y,this.width,this.height]),E(this,se,Lb).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){a(this,or)||y(this,or,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[s,i]}=this;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,u]=this.getBaseTranslation();o+=c,l+=u;const{style:d}=r;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!a(this,or)&&(a(this,or)[0]!==this.x||a(this,or)[1]!==this.y)}get _hasBeenResized(){return!!a(this,or)&&(a(this,or)[2]!==this.width||a(this,or)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=le,s=r/e,i=r/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,s]}=this;let{x:i,y:o,width:l,height:c}=this;if(l*=r,c*=s,i*=r,o*=s,this._mustFixPosition)switch(e){case 0:i=vn(i,0,r-l),o=vn(o,0,s-c);break;case 90:i=vn(i,0,r-c),o=vn(o,l,s);break;case 180:i=vn(i,l,r),o=vn(o,c,s);break;case 270:i=vn(i,c,r),o=vn(o,0,s-l);break}this.x=i/=r,this.y=o/=s;const[u,d]=this.getBaseTranslation();i+=u,o+=d,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return E(r=le,um,Ib).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return E(r=le,um,Ib).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=a(this,Qe))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||a(this,rc))return this._editToolbar;this._editToolbar=new Sb(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=a(this,Qe))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return a(this,Qe)||(Kv.initialize(le._l10n),y(this,Qe,new Kv(this)),a(this,ec)&&(a(this,Qe).data=a(this,ec),y(this,ec,null))),a(this,Qe)}get altTextData(){var e;return(e=a(this,Qe))==null?void 0:e.data}set altTextData(e){a(this,Qe)&&(a(this,Qe).data=e)}get guessedAltText(){var e;return(e=a(this,Qe))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=a(this,Qe))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=a(this,Qe))==null?void 0:t.serialize(e)}hasAltText(){return!!a(this,Qe)&&!a(this,Qe).isEmpty()}hasAltTextData(){var e;return((e=a(this,Qe))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=a(this,Fe))==null||e.focusButton()}addCommentButton(){return a(this,Fe)||y(this,Fe,new oy(this))}addStandaloneCommentButton(){if(a(this,Yi)){this._uiManager.isEditingMode()&&a(this,Yi).classList.remove("hidden");return}this.hasComment&&(y(this,Yi,a(this,Fe).renderForStandalone()),this.div.append(a(this,Yi)))}removeStandaloneCommentButton(){a(this,Fe).removeStandaloneCommentButton(),y(this,Yi,null)}hideStandaloneCommentButton(){var e;(e=a(this,Yi))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:s}}=a(this,Fe);return{text:t,richText:e,date:r,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){a(this,Fe)||y(this,Fe,new oy(this)),a(this,Fe).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(a(this,Fe)||y(this,Fe,new oy(this)),a(this,Fe).setInitialText(e,r),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){var e;return(e=a(this,Fe))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=a(this,Fe))==null?void 0:e.isDeleted()}get hasComment(){return!!a(this,Fe)&&!a(this,Fe).isEmpty()&&!a(this,Fe).isDeleted()}async editComment(e){a(this,Fe)||y(this,Fe,new oy(this)),a(this,Fe).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){a(this,Fe).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,s]=e.rect,[i]=this.pageDimensions,[o]=this.pageTranslation,l=o+i+1,c=s-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,s]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){a(this,Fe).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=a(this,Nd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),E(this,se,Bb).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),zR(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(a(this,sc)||y(this,sc,new Mp({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:E(this,se,r2).bind(this),onPinching:E(this,se,s2).bind(this),onPinchEnd:E(this,se,i2).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(y(this,nc,!0),this._isDraggable){E(this,se,o2).call(this,e);return}E(this,se,jb).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){a(this,ii)&&clearTimeout(a(this,ii)),y(this,ii,setTimeout(()=>{var e;y(this,ii,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const s=this.parentScale,[i,o]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/s,d=t/s,h=this.x*i,f=this.y*o,p=this.width*i,v=this.height*o;switch(r){case 0:return[h+u+l,o-f-d-v+c,h+u+p+l,o-f-d+c];case 90:return[h+d+l,o-f+u+c,h+d+v+l,o-f+u+p+c];case 180:return[h-u-p+l,o-f+d+c,h-u+l,o-f+d+v+c];case 270:return[h-d-v+l,o-f-u-p+c,h-d+l,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,s,i,o]=e,l=i-r,c=o-s;switch(this.rotation){case 0:return[r,t-o,l,c];case 90:return[r,t-s,c,l];case 180:return[i,t-s,l,c];case 270:return[i,t-o,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&le._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=a(this,Fe))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:s,deleted:i,richText:o},uid:l,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:u,modificationDate:r||d,popupRef:!i,color:t,opacity:s}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),y(this,rc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),y(this,rc,!1),!0):!1}isInEditMode(){return a(this,rc)}shouldGetKeyboardEvents(){return a(this,Qi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:s}=this.getClientDimensions(),{innerHeight:i,innerWidth:o}=window;return t<o&&s>0&&e<i&&r>0}rebuild(){E(this,se,Bb).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});s.rotation=e.rotation,y(s,ec,e.accessibilityData),s._isCopy=e.isCopy||!1;const[i,o]=s.pageDimensions,[l,c,u,d]=s.getRectInCurrentCoords(e.rect,o);return s.x=l/i,s.y=c/o,s.width=u/i,s.height=d/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=a(this,Ea))==null||e.abort(),y(this,Ea,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),a(this,ii)&&(clearTimeout(a(this,ii)),y(this,ii,null)),E(this,se,Mf).call(this),this.removeEditToolbar(),a(this,Vr)){for(const r of a(this,Vr).values())clearTimeout(r);y(this,Vr,null)}this.parent=null,(t=a(this,sc))==null||t.destroy(),y(this,sc,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,se,t2).call(this),a(this,Kt).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,s,i,o]=this.getPDFRect();return[le._round(r+(i-r)*e),le._round(s+(o-s)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return a(this,Fe).commentPopupPositionInLayer}set commentPopupPosition(e){a(this,Fe).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return a(this,Fe).hasDefaultPopupPosition()}get commentButtonWidth(){return a(this,Fe).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){a(this,Fe).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),y(this,Ki,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=a(this,Kt).children;if(!a(this,ys)){y(this,ys,Array.from(t));const o=E(this,se,a2).bind(this),l=E(this,se,l2).bind(this),c=this._uiManager._signal;for(const u of a(this,ys)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",E(this,se,c2).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",le._l10nResizer[d])}}const r=a(this,ys)[0];let s=0;for(const o of t){if(o===r)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(a(this,ys).length/4);if(i!==s){if(i<s)for(let l=0;l<s-i;l++)a(this,Kt).append(a(this,Kt).firstChild);else if(i>s)for(let l=0;l<i-s;l++)a(this,Kt).firstChild.before(a(this,Kt).lastChild);let o=0;for(const l of t){const u=a(this,ys)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",le._l10nResizer[u])}}E(this,se,zb).call(this,0),y(this,Qi,!0),a(this,Kt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){a(this,Qi)&&E(this,se,Fb).call(this,a(this,am),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){E(this,se,Mf).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(r=a(this,Qe))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,s,i;this.isSelected&&(this.isSelected=!1,(e=a(this,Kt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(i=a(this,Qe))==null||i.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return a(this,lm)}set isEditing(e){y(this,lm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){a(this,Vr)||y(this,Vr,new Map);const{action:r}=e;let s=a(this,Vr).get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),a(this,Vr).delete(r),a(this,Vr).size===0&&y(this,Vr,null)},le._telemetryTimeout),a(this,Vr).set(r,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),y(this,Nd,!1)}disable(){this.div&&(this.div.tabIndex=-1),y(this,Nd,!0)}updateFakeAnnotationElement(e){if(!a(this,si)&&!this.deleted){y(this,si,e.addFakeAnnotation(this));return}if(this.deleted){a(this,si).remove(),y(this,si,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&a(this,si).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ec=new WeakMap,ys=new WeakMap,Qe=new WeakMap,Fe=new WeakMap,Yi=new WeakMap,Nd=new WeakMap,Sa=new WeakMap,om=new WeakMap,Kt=new WeakMap,tc=new WeakMap,Ki=new WeakMap,si=new WeakMap,Ea=new WeakMap,am=new WeakMap,nc=new WeakMap,or=new WeakMap,lm=new WeakMap,rc=new WeakMap,Qi=new WeakMap,ii=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Vr=new WeakMap,sc=new WeakMap,cm=new WeakMap,h0=new WeakMap,se=new WeakSet,Lb=function([e,t],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},um=new WeakSet,Ib=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},zy=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},t2=function(){if(a(this,Kt))return;y(this,Kt,document.createElement("div")),a(this,Kt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const s=document.createElement("div");a(this,Kt).append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",E(this,se,n2).bind(this,r),{signal:t}),s.addEventListener("contextmenu",Nr,{signal:t}),s.tabIndex=-1}this.div.prepend(a(this,Kt))},n2=function(e,t){var d;t.preventDefault();const{isMac:r}=Gt.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=a(this,Qe))==null||d.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,y(this,tc,[t.screenX,t.screenY]);const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,se,Fb).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ot,{passive:!1,signal:o}),window.addEventListener("contextmenu",Nr,{signal:o}),y(this,Ki,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;i.abort(),this.parent.togglePointerEvents(!0),(h=a(this,Qe))==null||h.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=l,this.div.style.cursor=c,E(this,se,$y).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},Ob=function(e,t,r,s){this.width=r,this.height=s,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},$y=function(){if(!a(this,Ki))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:s}=a(this,Ki);y(this,Ki,null);const i=this.x,o=this.y,l=this.width,c=this.height;i===e&&o===t&&l===r&&c===s||this.addCommands({cmd:E(this,se,Ob).bind(this,i,o,l,c),undo:E(this,se,Ob).bind(this,e,t,r,s),mustExec:!0})},Fb=function(e,t){const[r,s]=this.parentDimensions,i=this.x,o=this.y,l=this.width,c=this.height,u=le.MIN_SIZE/r,d=le.MIN_SIZE/s,h=E(this,se,zy).call(this,this.rotation),f=(j,B)=>[h[0]*j+h[2]*B,h[1]*j+h[3]*B],p=E(this,se,zy).call(this,360-this.rotation),v=(j,B)=>[p[0]*j+p[2]*B,p[1]*j+p[3]*B];let m,x,g=!1,w=!1;switch(e){case"topLeft":g=!0,m=(j,B)=>[0,0],x=(j,B)=>[j,B];break;case"topMiddle":m=(j,B)=>[j/2,0],x=(j,B)=>[j/2,B];break;case"topRight":g=!0,m=(j,B)=>[j,0],x=(j,B)=>[0,B];break;case"middleRight":w=!0,m=(j,B)=>[j,B/2],x=(j,B)=>[0,B/2];break;case"bottomRight":g=!0,m=(j,B)=>[j,B],x=(j,B)=>[0,0];break;case"bottomMiddle":m=(j,B)=>[j/2,B],x=(j,B)=>[j/2,0];break;case"bottomLeft":g=!0,m=(j,B)=>[0,B],x=(j,B)=>[j,0];break;case"middleLeft":w=!0,m=(j,B)=>[0,B/2],x=(j,B)=>[j,B/2];break}const A=m(l,c),C=x(l,c);let T=f(...C);const k=le._round(i+T[0]),P=le._round(o+T[1]);let R=1,N=1,D,M;if(t.fromKeyboard)({deltaX:D,deltaY:M}=t);else{const{screenX:j,screenY:B}=t,[L,F]=a(this,tc);[D,M]=this.screenToPageTranslation(j-L,B-F),a(this,tc)[0]=j,a(this,tc)[1]=B}if([D,M]=v(D/r,M/s),g){const j=Math.hypot(l,c);R=N=Math.max(Math.min(Math.hypot(C[0]-A[0]-D,C[1]-A[1]-M)/j,1/l,1/c),u/l,d/c)}else w?R=vn(Math.abs(C[0]-A[0]-D),u,1)/l:N=vn(Math.abs(C[1]-A[1]-M),d,1)/c;const O=le._round(l*R),$=le._round(c*N);T=f(...x(O,$));const I=k-T[0],W=P-T[1];a(this,or)||y(this,or,[this.x,this.y,this.width,this.height]),this.width=O,this.height=$,this.x=I,this.y=W,this.setDims(),this.fixAndSetPosition(),this._onResizing()},r2=function(){var e;y(this,Ki,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=a(this,Qe))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},s2=function(e,t,r){let i=.7*(r/t)+1-.7;if(i===1)return;const o=E(this,se,zy).call(this,this.rotation),l=(k,P)=>[o[0]*k+o[2]*P,o[1]*k+o[3]*P],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,v=le.MIN_SIZE/c,m=le.MIN_SIZE/u;i=Math.max(Math.min(i,1/f,1/p),v/f,m/p);const x=le._round(f*i),g=le._round(p*i);if(x===f&&g===p)return;a(this,or)||y(this,or,[d,h,f,p]);const w=l(f/2,p/2),A=le._round(d+w[0]),C=le._round(h+w[1]),T=l(x/2,g/2);this.x=A-T[0],this.y=C-T[1],this.width=x,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()},i2=function(){var e;(e=a(this,Qe))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),E(this,se,$y).call(this)},jb=function(e){const{isMac:t}=Gt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},o2=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const s=new AbortController,i=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:i},l=u=>{s.abort(),y(this,Sa,null),y(this,nc,!1),this._uiManager.endDragSession()||E(this,se,jb).call(this,u),r&&this._onStopDragging()};t&&(y(this,Md,e.clientX),y(this,Dd,e.clientY),y(this,Sa,e.pointerId),y(this,om,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==a(this,Sa)){ot(u);return}const[p,v]=this.screenToPageTranslation(d-a(this,Md),h-a(this,Dd));y(this,Md,d),y(this,Dd,h),this._uiManager.dragSelectedEditors(p,v)},o),window.addEventListener("touchmove",ot,o),window.addEventListener("pointerdown",u=>{u.pointerType===a(this,om)&&(a(this,sc)||u.isPrimary)&&l(u),ot(u)},o));const c=u=>{if(!a(this,Sa)||a(this,Sa)===u.pointerId){l(u);return}ot(u)};window.addEventListener("pointerup",c,{signal:i}),window.addEventListener("blur",c,{signal:i})},Bb=function(){if(a(this,Ea)||!this.div)return;y(this,Ea,new AbortController);const e=this._uiManager.combinedSignal(a(this,Ea));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},a2=function(e){le._resizerKeyboardManager.exec(this,e)},l2=function(e){var t;a(this,Qi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==a(this,Kt)&&E(this,se,Mf).call(this)},c2=function(e){y(this,am,a(this,Qi)?e:"")},zb=function(e){if(a(this,ys))for(const t of a(this,ys))t.tabIndex=e},Mf=function(){y(this,Qi,!1),E(this,se,zb).call(this,-1),E(this,se,$y).call(this)},S(le,um),z(le,"_l10n",null),z(le,"_l10nResizer",null),z(le,"_borderLineWidth",-1),z(le,"_colorManager",new _b),z(le,"_zIndex",1),z(le,"_telemetryTimeout",1e3);let Ve=le;class J3 extends Ve{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const jC=3285377520,Lr=4294901760,Vs=65535;class u2{constructor(e){this.h1=e?e&4294967295:jC,this.h2=e?e&4294967295:jC}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let m=0,x=e.length;m<x;m++){const g=e.charCodeAt(m);g<=255?t[r++]=g:(t[r++]=g>>>8,t[r++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,i=r-s*4,o=new Uint32Array(t.buffer,0,s);let l=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&Vs,v=f&Vs;for(let m=0;m<s;m++)m&1?(l=o[m],l=l*h&Lr|l*p&Vs,l=l<<15|l>>>17,l=l*f&Lr|l*v&Vs,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[m],c=c*h&Lr|c*p&Vs,c=c<<15|c>>>17,c=c*f&Lr|c*v&Vs,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,i){case 3:l^=t[s*4+2]<<16;case 2:l^=t[s*4+1]<<8;case 1:l^=t[s*4],l=l*h&Lr|l*p&Vs,l=l<<15|l>>>17,l=l*f&Lr|l*v&Vs,s&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Lr|e*36045&Vs,t=t*4283543511&Lr|((t<<16|e>>>16)*2950163797&Lr)>>>16,e^=t>>>1,e=e*444984403&Lr|e*60499&Vs,t=t*3301882366&Lr|((t<<16|e>>>16)*3120437893&Lr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const $b=Object.freeze({map:null,hash:"",transfer:void 0});var ic,oc,Zi,Qt,f0,d2;class fS{constructor(){S(this,f0);S(this,ic,!1);S(this,oc,null);S(this,Zi,null);S(this,Qt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=a(this,Qt).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return a(this,Qt).get(e)}remove(e){const t=a(this,Qt).get(e);if(t!==void 0&&(t instanceof Ve&&a(this,Zi).delete(t.annotationElementId),a(this,Qt).delete(e),a(this,Qt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of a(this,Qt).values())if(r instanceof Ve)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=a(this,Qt).get(e);let s=!1;if(r!==void 0)for(const[i,o]of Object.entries(t))r[i]!==o&&(s=!0,r[i]=o);else s=!0,a(this,Qt).set(e,t);s&&E(this,f0,d2).call(this),t instanceof Ve&&((a(this,Zi)||y(this,Zi,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return a(this,Qt).has(e)}get size(){return a(this,Qt).size}resetModified(){a(this,ic)&&(y(this,ic,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h2(this)}get serializable(){if(a(this,Qt).size===0)return $b;const e=new Map,t=new u2,r=[],s=Object.create(null);let i=!1;for(const[o,l]of a(this,Qt)){const c=l instanceof Ve?l.serialize(!1,s):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:$b}get editorStats(){let e=null;const t=new Map;let r=0,s=0;for(const i of a(this,Qt).values()){if(!(i instanceof Ve)){i.popup&&(i.popup.deleted?s+=1:r+=1);continue}i.isCommentDeleted?s+=1:i.hasEditedComment&&(r+=1);const o=i.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[u,d]of Object.entries(o)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const f=h.get(d)??0;h.set(d,f+1)}}if((s>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:s,edited:r}),!e)return null;for(const[i,o]of t)e[i]=o.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){y(this,oc,null)}updateEditor(e,t){var s;const r=(s=a(this,Zi))==null?void 0:s.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=a(this,Zi))==null?void 0:t.get(e))||null}get modifiedIds(){if(a(this,oc))return a(this,oc);const e=[];if(a(this,Zi))for(const t of a(this,Zi).values())t.serialize()&&e.push(t.annotationElementId);return y(this,oc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return a(this,Qt).entries()}}ic=new WeakMap,oc=new WeakMap,Zi=new WeakMap,Qt=new WeakMap,f0=new WeakSet,d2=function(){a(this,ic)||(y(this,ic,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var dm;class h2 extends fS{constructor(t){super();S(this,dm);const{map:r,hash:s,transfer:i}=t.serializable,o=structuredClone(r,i?{transfer:i}:null);y(this,dm,{map:o,hash:s,transfer:i})}get print(){$e("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,dm)}get modifiedIds(){return de(this,"modifiedIds",{ids:new Set,hash:""})}}dm=new WeakMap;var Ld;class e4{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Ld,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),a(this,Ld).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||a(this,Ld).has(e.loadedName))){if(xe(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:o}=e,l=new FontFace(s,i,o);this.addNativeFontFace(l);try{await l.load(),a(this,Ld).add(s),r==null||r(e)}catch{oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}$e("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw oe(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return de(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return de(this,"isSyncFontLoadingSupported",Rn||Gt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(xe(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:t,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return de(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(C,T){return C.charCodeAt(T)<<24|C.charCodeAt(T+1)<<16|C.charCodeAt(T+2)<<8|C.charCodeAt(T+3)&255}function s(C,T,k,P){const R=C.substring(0,T),N=C.substring(T+k);return R+P+N}let i,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(C,T){if(++u>30){oe("Load test font never loaded."),T();return}if(c.font="30px "+C,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,C,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const v=16,m=1482184792;let x=r(f,v);for(i=0,o=h.length-3;i<o;i+=4)x=x-m+r(h,i)|0;i<h.length&&(x=x-m+r(h+"XXX",i)|0),f=s(f,v,4,$3(x));const g=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(w);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const C of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=C,A.append(T)}this._document.body.append(A),d(h,()=>{A.remove(),t.complete()})}}Ld=new WeakMap;var Me;class t4{constructor(e,t=null,r,s){S(this,Me);this.compiledGlyphs=Object.create(null),y(this,Me,e),this._inspectFont=t,r&&Object.assign(this,r),s&&(this.charProcOperatorList=s)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${kR(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let s;try{s=e.get(r)}catch(o){oe(`getPathGenerator - ignoring character: "${o}".`)}const i=new Path2D(s||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=i}get black(){return a(this,Me).black}get bold(){return a(this,Me).bold}get disableFontFace(){return a(this,Me).disableFontFace??!1}get fontExtraProperties(){return a(this,Me).fontExtraProperties??!1}get isInvalidPDFjsFont(){return a(this,Me).isInvalidPDFjsFont}get isType3Font(){return a(this,Me).isType3Font}get italic(){return a(this,Me).italic}get missingFile(){return a(this,Me).missingFile}get remeasure(){return a(this,Me).remeasure}get vertical(){return a(this,Me).vertical}get ascent(){return a(this,Me).ascent}get defaultWidth(){return a(this,Me).defaultWidth}get descent(){return a(this,Me).descent}get bbox(){return a(this,Me).bbox}get fontMatrix(){return a(this,Me).fontMatrix}get fallbackName(){return a(this,Me).fallbackName}get loadedName(){return a(this,Me).loadedName}get mimetype(){return a(this,Me).mimetype}get name(){return a(this,Me).name}get data(){return a(this,Me).data}clearData(){a(this,Me).clearData()}get cssFontInfo(){return a(this,Me).cssFontInfo}get systemFontInfo(){return a(this,Me).systemFontInfo}get defaultVMetrics(){return a(this,Me).defaultVMetrics}}Me=new WeakMap;function n4(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Rn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function r4(n){if(Rn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return kg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ay(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Ub=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,s4=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",f2=W3.bind(null,Ub,s4);var Ji,p0;class i4{constructor(){S(this,Ji,new Map);S(this,p0,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};a(this,p0).then(()=>{for(const[s]of a(this,Ji))s.call(this,r)})}addEventListener(e,t,r=null){let s=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted){oe("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}a(this,Ji).set(t,s)}removeEventListener(e,t){const r=a(this,Ji).get(t);r==null||r(),a(this,Ji).delete(t)}terminate(){for(const[,e]of a(this,Ji))e==null||e();a(this,Ji).clear()}}Ji=new WeakMap,p0=new WeakMap;const ly={DATA:1,ERROR:2},Ct={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function BC(){}function zn(n){if(n instanceof Io||n instanceof Xv||n instanceof NC||n instanceof Pp||n instanceof Zw)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||$e('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Io(n.message);case"InvalidPDFException":return new Xv(n.message);case"PasswordException":return new NC(n.message,n.code);case"ResponseException":return new Pp(n.message,n.status,n.missing);case"UnknownErrorException":return new Zw(n.message,n.details)}return new Zw(n.message,n.toString())}var Id,es,p2,m2,g2,Uy;class Df{constructor(e,t,r){S(this,es);S(this,Id,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",E(this,es,p2).bind(this),{signal:a(this,Id).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},r)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,r,s){const i=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:i,data:t,desiredSize:u.desiredSize},s),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,c.postMessage({sourceName:o,targetName:l,stream:Ct.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{xe(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:Ct.CANCEL,streamId:i,reason:zn(u)}),d.promise}},r)}destroy(){var e;(e=a(this,Id))==null||e.abort(),y(this,Id,null)}}Id=new WeakMap,es=new WeakSet,p2=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,es,g2).call(this,e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===ly.DATA)s.resolve(e.data);else if(e.callback===ly.ERROR)s.reject(zn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(o){i.postMessage({sourceName:r,targetName:s,callback:ly.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:r,targetName:s,callback:ly.ERROR,callbackId:e.callbackId,reason:zn(o)})});return}if(e.streamId){E(this,es,m2).call(this,e);return}t(e.data)},m2=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:s,stream:Ct.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:Ct.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){xe(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:Ct.ERROR,streamId:t,reason:zn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){i.postMessage({sourceName:r,targetName:s,stream:Ct.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:Ct.START_COMPLETE,streamId:t,reason:zn(u)})})},g2=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Ct.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(zn(e.reason));break;case Ct.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(zn(e.reason));break;case Ct.PULL:if(!l){i.postMessage({sourceName:r,targetName:s,stream:Ct.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||BC).then(function(){i.postMessage({sourceName:r,targetName:s,stream:Ct.PULL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:Ct.PULL_COMPLETE,streamId:t,reason:zn(u)})});break;case Ct.ENQUEUE:if(xe(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Ct.CLOSE:if(xe(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,es,Uy).call(this,o,t);break;case Ct.ERROR:xe(o,"error should have stream controller"),o.controller.error(zn(e.reason)),E(this,es,Uy).call(this,o,t);break;case Ct.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(zn(e.reason)),E(this,es,Uy).call(this,o,t);break;case Ct.CANCEL:if(!l)break;const c=zn(e.reason);Promise.try(l.onCancel||BC,c).then(function(){i.postMessage({sourceName:r,targetName:s,stream:Ct.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:Ct.CANCEL_COMPLETE,streamId:t,reason:zn(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Uy=async function(e,t){var r,s,i;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(s=e.pullCall)==null?void 0:s.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var hm;class y2{constructor({enableHWA:e=!1}){S(this,hm,!1);y(this,hm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!a(this,hm)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){$e("Abstract method `_createCanvas` called.")}}hm=new WeakMap;class o4 extends y2{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class v2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){$e("Abstract method `_fetch` called.")}}class zC extends v2{async _fetch(e){const t=await af(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):kg(t)}}class w2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,s,i){return"none"}destroy(e=!1){}}var ac,Od,eo,to,pn,lc,cc,Y,un,Lf,Eu,Hy,Cu,x2,Hb,_u,If,Of,Vb,Ff;class a4 extends w2{constructor({docId:t,ownerDocument:r=globalThis.document}){super();S(this,Y);S(this,ac);S(this,Od);S(this,eo);S(this,to);S(this,pn);S(this,lc);S(this,cc,0);y(this,to,t),y(this,pn,r)}addFilter(t){if(!t)return"none";let r=a(this,Y,un).get(t);if(r)return r;const[s,i,o]=E(this,Y,Hy).call(this,t),l=t.length===1?s:`${s}${i}${o}`;if(r=a(this,Y,un).get(l),r)return a(this,Y,un).set(t,r),r;const c=`g_${a(this,to)}_transfer_map_${ht(this,cc)._++}`,u=E(this,Y,Cu).call(this,c);a(this,Y,un).set(t,u),a(this,Y,un).set(l,u);const d=E(this,Y,_u).call(this,c);return E(this,Y,Of).call(this,s,i,o,d),u}addHCMFilter(t,r){var v;const s=`${t}-${r}`,i="base";let o=a(this,Y,Lf).get(i);if((o==null?void 0:o.key)===s||(o?((v=o.filter)==null||v.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},a(this,Y,Lf).set(i,o)),!t||!r))return o.url;const l=E(this,Y,Ff).call(this,t);t=Q.makeHexColor(...l);const c=E(this,Y,Ff).call(this,r);if(r=Q.makeHexColor(...c),a(this,Y,Eu).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let m=0;m<=255;m++){const x=m/255;u[m]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=u.join(","),h=`g_${a(this,to)}_hcm_filter`,f=o.filter=E(this,Y,_u).call(this,h);E(this,Y,Of).call(this,d,d,d,f),E(this,Y,Hb).call(this,f);const p=(m,x)=>{const g=l[m]/255,w=c[m]/255,A=new Array(x+1);for(let C=0;C<=x;C++)A[C]=g+C/x*(w-g);return A.join(",")};return E(this,Y,Of).call(this,p(0,5),p(1,5),p(2,5),f),o.url=E(this,Y,Cu).call(this,h),o.url}addAlphaFilter(t){let r=a(this,Y,un).get(t);if(r)return r;const[s]=E(this,Y,Hy).call(this,[t]),i=`alpha_${s}`;if(r=a(this,Y,un).get(i),r)return a(this,Y,un).set(t,r),r;const o=`g_${a(this,to)}_alpha_map_${ht(this,cc)._++}`,l=E(this,Y,Cu).call(this,o);a(this,Y,un).set(t,l),a(this,Y,un).set(i,l);const c=E(this,Y,_u).call(this,o);return E(this,Y,Vb).call(this,s,c),l}addLuminosityFilter(t){let r=a(this,Y,un).get(t||"luminosity");if(r)return r;let s,i;if(t?([s]=E(this,Y,Hy).call(this,[t]),i=`luminosity_${s}`):i="luminosity",r=a(this,Y,un).get(i),r)return a(this,Y,un).set(t,r),r;const o=`g_${a(this,to)}_luminosity_map_${ht(this,cc)._++}`,l=E(this,Y,Cu).call(this,o);a(this,Y,un).set(t,l),a(this,Y,un).set(i,l);const c=E(this,Y,_u).call(this,o);return E(this,Y,x2).call(this,c),t&&E(this,Y,Vb).call(this,s,c),l}addHighlightHCMFilter(t,r,s,i,o){var w;const l=`${r}-${s}-${i}-${o}`;let c=a(this,Y,Lf).get(t);if((c==null?void 0:c.key)===l||(c?((w=c.filter)==null||w.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},a(this,Y,Lf).set(t,c)),!r||!s))return c.url;const[u,d]=[r,s].map(E(this,Y,Ff).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,v]=[i,o].map(E(this,Y,Ff).bind(this));f<h&&([h,f,p,v]=[f,h,v,p]),a(this,Y,Eu).style.color="";const m=(A,C,T)=>{const k=new Array(256),P=(f-h)/T,R=A/255,N=(C-A)/(255*T);let D=0;for(let M=0;M<=T;M++){const O=Math.round(h+M*P),$=R+M*N;for(let I=D;I<=O;I++)k[I]=$;D=O+1}for(let M=D;M<256;M++)k[M]=k[D-1];return k.join(",")},x=`g_${a(this,to)}_hcm_${t}_filter`,g=c.filter=E(this,Y,_u).call(this,x);return E(this,Y,Hb).call(this,g),E(this,Y,Of).call(this,m(p[0],v[0],5),m(p[1],v[1],5),m(p[2],v[2],5),g),c.url=E(this,Y,Cu).call(this,x),c.url}destroy(t=!1){var r,s,i,o;t&&((r=a(this,lc))!=null&&r.size)||((s=a(this,eo))==null||s.parentNode.parentNode.remove(),y(this,eo,null),(i=a(this,Od))==null||i.clear(),y(this,Od,null),(o=a(this,lc))==null||o.clear(),y(this,lc,null),y(this,cc,0))}}ac=new WeakMap,Od=new WeakMap,eo=new WeakMap,to=new WeakMap,pn=new WeakMap,lc=new WeakMap,cc=new WeakMap,Y=new WeakSet,un=function(){return a(this,Od)||y(this,Od,new Map)},Lf=function(){return a(this,lc)||y(this,lc,new Map)},Eu=function(){if(!a(this,eo)){const t=a(this,pn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const s=a(this,pn).createElementNS(Li,"svg");s.setAttribute("width",0),s.setAttribute("height",0),y(this,eo,a(this,pn).createElementNS(Li,"defs")),t.append(s),s.append(a(this,eo)),a(this,pn).body.append(t)}return a(this,eo)},Hy=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,s,i]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,l[u]=s[u]/255,c[u]=i[u]/255;return[o.join(","),l.join(","),c.join(",")]},Cu=function(t){if(a(this,ac)===void 0){y(this,ac,"");const r=a(this,pn).URL;r!==a(this,pn).baseURI&&(Rg(r)?oe('#createUrl: ignore "data:"-URL for performance reasons.'):y(this,ac,lS(r,"")))}return`url(${a(this,ac)}#${t})`},x2=function(t){const r=a(this,pn).createElementNS(Li,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},Hb=function(t){const r=a(this,pn).createElementNS(Li,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},_u=function(t){const r=a(this,pn).createElementNS(Li,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),a(this,Y,Eu).append(r),r},If=function(t,r,s){const i=a(this,pn).createElementNS(Li,r);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},Of=function(t,r,s,i){const o=a(this,pn).createElementNS(Li,"feComponentTransfer");i.append(o),E(this,Y,If).call(this,o,"feFuncR",t),E(this,Y,If).call(this,o,"feFuncG",r),E(this,Y,If).call(this,o,"feFuncB",s)},Vb=function(t,r){const s=a(this,pn).createElementNS(Li,"feComponentTransfer");r.append(s),E(this,Y,If).call(this,s,"feFuncA",t)},Ff=function(t){return a(this,Y,Eu).style.color=t,lf(getComputedStyle(a(this,Y,Eu)).getPropertyValue("color"))};class b2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){$e("Abstract method `_fetch` called.")}}class $C extends b2{async _fetch(e){const t=await af(e,"arraybuffer");return new Uint8Array(t)}}class A2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){$e("Abstract method `_fetch` called.")}}class UC extends A2{async _fetch(e){const t=await af(e,"arraybuffer");return new Uint8Array(t)}}Rn&&oe("Please use the `legacy` build in Node.js environments.");async function pS(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class l4 extends w2{}class c4 extends y2{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class u4 extends v2{async _fetch(e){return pS(e)}}class d4 extends b2{async _fetch(e){return pS(e)}}class h4 extends A2{async _fetch(e){return pS(e)}}const vu="__forcedDependency",{floor:HC,ceil:VC}=Math;function cy(n,e,t,r,s,i){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],s),n[e*4+3]=Math.max(n[e*4+3],i)}const Wb=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Fd,Ca;class f4{constructor(e,t){S(this,Fd);S(this,Ca);y(this,Fd,e),y(this,Ca,t)}get length(){return a(this,Fd).length}isEmpty(e){return a(this,Fd)[e]===Wb}minX(e){return a(this,Ca)[e*4+0]/256}minY(e){return a(this,Ca)[e*4+1]/256}maxX(e){return(a(this,Ca)[e*4+2]+1)/256}maxY(e){return(a(this,Ca)[e*4+3]+1)/256}}Fd=new WeakMap,Ca=new WeakMap;const uy=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Hn,Vn,uc,vs,dc,no,Pe,De,ro,Wn,fm,jd,hc,fc,so,mn,oi,pm,Gb;class p4{constructor(e,t,r=!1){S(this,pm);S(this,Hn,{__proto__:null});S(this,Vn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[vu]:[]});S(this,uc,new Map);S(this,vs,[]);S(this,dc,[]);S(this,no,[[1,0,0,1,0,0]]);S(this,Pe,[-1/0,-1/0,1/0,1/0]);S(this,De,new Float64Array([1/0,1/0,-1/0,-1/0]));S(this,ro,-1);S(this,Wn,new Set);S(this,fm,new Map);S(this,jd,new Map);S(this,hc);S(this,fc);S(this,so);S(this,mn);S(this,oi);y(this,hc,e.width),y(this,fc,e.height),E(this,pm,Gb).call(this,t),r&&y(this,oi,new Map)}growOperationsCount(e){e>=a(this,mn).length&&E(this,pm,Gb).call(this,e,a(this,mn))}save(e){return y(this,Hn,{__proto__:a(this,Hn)}),y(this,Vn,{__proto__:a(this,Vn),transform:{__proto__:a(this,Vn).transform},moveText:{__proto__:a(this,Vn).moveText},sameLineText:{__proto__:a(this,Vn).sameLineText},[vu]:{__proto__:a(this,Vn)[vu]}}),y(this,Pe,{__proto__:a(this,Pe)}),a(this,vs).push(e),this}restore(e){var s;const t=Object.getPrototypeOf(a(this,Hn));if(t===null)return this;y(this,Hn,t),y(this,Vn,Object.getPrototypeOf(a(this,Vn))),y(this,Pe,Object.getPrototypeOf(a(this,Pe)));const r=a(this,vs).pop();return r!==void 0&&((s=uy(a(this,oi),e))==null||s.dependencies.add(r),a(this,mn)[e]=a(this,mn)[r]),this}recordOpenMarker(e){return a(this,vs).push(e),this}getOpenMarker(){return a(this,vs).length===0?null:a(this,vs).at(-1)}recordCloseMarker(e){var r;const t=a(this,vs).pop();return t!==void 0&&((r=uy(a(this,oi),e))==null||r.dependencies.add(t),a(this,mn)[e]=a(this,mn)[t]),this}beginMarkedContent(e){return a(this,dc).push(e),this}endMarkedContent(e){var r;const t=a(this,dc).pop();return t!==void 0&&((r=uy(a(this,oi),e))==null||r.dependencies.add(t),a(this,mn)[e]=a(this,mn)[t]),this}pushBaseTransform(e){return a(this,no).push(Q.multiplyByDOMMatrix(a(this,no).at(-1),e.getTransform())),this}popBaseTransform(){return a(this,no).length>1&&a(this,no).pop(),this}recordSimpleData(e,t){return a(this,Hn)[e]=t,this}recordIncrementalData(e,t){return a(this,Vn)[e].push(t),this}resetIncrementalData(e,t){return a(this,Vn)[e].length=0,this}recordNamedData(e,t){return a(this,uc).set(e,t),this}recordSimpleDataFromNamed(e,t,r){a(this,Hn)[e]=a(this,uc).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(vu,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in a(this,Hn)&&this.recordFutureForcedDependency(t,a(this,Hn)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of a(this,Wn))this.recordFutureForcedDependency(vu,e);return this}resetBBox(e){return a(this,ro)!==e&&(y(this,ro,e),a(this,De)[0]=1/0,a(this,De)[1]=1/0,a(this,De)[2]=-1/0,a(this,De)[3]=-1/0),this}recordClipBox(e,t,r,s,i,o){const l=Q.multiplyByDOMMatrix(a(this,no).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];Q.axialAlignedBoundingBox([r,i,s,o],l,c);const u=Q.intersect(a(this,Pe),c);return u?(a(this,Pe)[0]=u[0],a(this,Pe)[1]=u[1],a(this,Pe)[2]=u[2],a(this,Pe)[3]=u[3]):(a(this,Pe)[0]=a(this,Pe)[1]=1/0,a(this,Pe)[2]=a(this,Pe)[3]=-1/0),this}recordBBox(e,t,r,s,i,o){const l=a(this,Pe);if(l[0]===1/0)return this;const c=Q.multiplyByDOMMatrix(a(this,no).at(-1),t.getTransform());if(l[0]===-1/0)return Q.axialAlignedBoundingBox([r,i,s,o],c,a(this,De)),this;const u=[1/0,1/0,-1/0,-1/0];return Q.axialAlignedBoundingBox([r,i,s,o],c,u),a(this,De)[0]=Math.min(a(this,De)[0],Math.max(u[0],l[0])),a(this,De)[1]=Math.min(a(this,De)[1],Math.max(u[1],l[1])),a(this,De)[2]=Math.max(a(this,De)[2],Math.min(u[2],l[2])),a(this,De)[3]=Math.max(a(this,De)[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,r,s=1,i=0,o=0,l){const c=r.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&a(this,jd).get(r),u!==!1&&(d=[0,0,0,0],Q.axialAlignedBoundingBox(c,r.fontMatrix,d),(s!==1||i!==0||o!==0)&&Q.scaleMinMax([s,0,0,-s,i,o],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!l)return this.recordFullPageBBox(e);const h=l();return c&&d&&u===void 0&&(u=d[0]<=i-h.actualBoundingBoxLeft&&d[2]>=i+h.actualBoundingBoxRight&&d[1]<=o-h.actualBoundingBoxAscent&&d[3]>=o+h.actualBoundingBoxDescent,a(this,jd).set(r,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,i-h.actualBoundingBoxLeft,i+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return a(this,De)[0]=Math.max(0,a(this,Pe)[0]),a(this,De)[1]=Math.max(0,a(this,Pe)[1]),a(this,De)[2]=Math.min(a(this,hc),a(this,Pe)[2]),a(this,De)[3]=Math.min(a(this,fc),a(this,Pe)[3]),this}getSimpleIndex(e){return a(this,Hn)[e]}recordDependencies(e,t){const r=a(this,Wn),s=a(this,Hn),i=a(this,Vn);for(const o of t)o in a(this,Hn)?r.add(s[o]):o in i&&i[o].forEach(r.add,r);return this}recordNamedDependency(e,t){return a(this,uc).has(t)&&a(this,Wn).add(a(this,uc).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[vu]),a(this,oi)){const r=uy(a(this,oi),e),{dependencies:s}=r;a(this,Wn).forEach(s.add,s),a(this,vs).forEach(s.add,s),a(this,dc).forEach(s.add,s),s.delete(e),r.isRenderingOperation=!0}if(a(this,ro)===e){const r=HC(a(this,De)[0]*256/a(this,hc)),s=HC(a(this,De)[1]*256/a(this,fc)),i=VC(a(this,De)[2]*256/a(this,hc)),o=VC(a(this,De)[3]*256/a(this,fc));cy(a(this,so),e,r,s,i,o);for(const l of a(this,Wn))l!==e&&cy(a(this,so),l,r,s,i,o);for(const l of a(this,vs))l!==e&&cy(a(this,so),l,r,s,i,o);for(const l of a(this,dc))l!==e&&cy(a(this,so),l,r,s,i,o);t||(a(this,Wn).clear(),y(this,ro,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(a(this,Wn));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const s of r)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(e,t=!1){return a(this,ro)===e&&(y(this,ro,-1),a(this,Pe)[0]=Math.max(a(this,Pe)[0],a(this,De)[0]),a(this,Pe)[1]=Math.max(a(this,Pe)[1],a(this,De)[1]),a(this,Pe)[2]=Math.min(a(this,Pe)[2],a(this,De)[2]),a(this,Pe)[3]=Math.min(a(this,Pe)[3],a(this,De)[3]),t||a(this,Wn).clear()),this}_takePendingDependencies(){const e=a(this,Wn);return y(this,Wn,new Set),e}_extractOperation(e){const t=a(this,fm).get(e);return a(this,fm).delete(e),t}_pushPendingDependencies(e){for(const t of e)a(this,Wn).add(t)}take(){return a(this,jd).clear(),new f4(a(this,mn),a(this,so))}takeDebugMetadata(){return a(this,oi)}}Hn=new WeakMap,Vn=new WeakMap,uc=new WeakMap,vs=new WeakMap,dc=new WeakMap,no=new WeakMap,Pe=new WeakMap,De=new WeakMap,ro=new WeakMap,Wn=new WeakMap,fm=new WeakMap,jd=new WeakMap,hc=new WeakMap,fc=new WeakMap,so=new WeakMap,mn=new WeakMap,oi=new WeakMap,pm=new WeakSet,Gb=function(e,t){const r=new ArrayBuffer(e*4);y(this,so,new Uint8ClampedArray(r)),y(this,mn,new Uint32Array(r)),t&&t.length>0?(a(this,mn).set(t),a(this,mn).fill(Wb,t.length)):a(this,mn).fill(Wb)};var je,mt,ws,Bd,zd;const PS=class PS{constructor(e,t,r){S(this,je);S(this,mt);S(this,ws);S(this,Bd,0);S(this,zd,0);if(e instanceof PS&&a(e,ws)===!!r)return e;y(this,je,e),y(this,mt,t),y(this,ws,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ht(this,zd)._++,a(this,je).save(a(this,mt)),this}restore(e){return a(this,zd)>0&&(a(this,je).restore(a(this,mt)),ht(this,zd)._--),this}recordOpenMarker(e){return ht(this,Bd)._++,this}getOpenMarker(){return a(this,Bd)>0?a(this,mt):a(this,je).getOpenMarker()}recordCloseMarker(e){return ht(this,Bd)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return a(this,je).pushBaseTransform(e),this}popBaseTransform(){return a(this,je).popBaseTransform(),this}recordSimpleData(e,t){return a(this,je).recordSimpleData(e,a(this,mt)),this}recordIncrementalData(e,t){return a(this,je).recordIncrementalData(e,a(this,mt)),this}resetIncrementalData(e,t){return a(this,je).resetIncrementalData(e,a(this,mt)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return a(this,je).recordSimpleDataFromNamed(e,t,a(this,mt)),this}recordFutureForcedDependency(e,t){return a(this,je).recordFutureForcedDependency(e,a(this,mt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return a(this,je).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return a(this,je).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return a(this,ws)||a(this,je).resetBBox(a(this,mt)),this}recordClipBox(e,t,r,s,i,o){return a(this,ws)||a(this,je).recordClipBox(a(this,mt),t,r,s,i,o),this}recordBBox(e,t,r,s,i,o){return a(this,ws)||a(this,je).recordBBox(a(this,mt),t,r,s,i,o),this}recordCharacterBBox(e,t,r,s,i,o,l){return a(this,ws)||a(this,je).recordCharacterBBox(a(this,mt),t,r,s,i,o,l),this}recordFullPageBBox(e){return a(this,ws)||a(this,je).recordFullPageBBox(a(this,mt)),this}getSimpleIndex(e){return a(this,je).getSimpleIndex(e)}recordDependencies(e,t){return a(this,je).recordDependencies(a(this,mt),t),this}recordNamedDependency(e,t){return a(this,je).recordNamedDependency(a(this,mt),t),this}recordOperation(e){return a(this,je).recordOperation(a(this,mt),!0),this}recordShowTextOperation(e){return a(this,je).recordShowTextOperation(a(this,mt),!0),this}bboxToClipBoxDropOperation(e){return a(this,ws)||a(this,je).bboxToClipBoxDropOperation(a(this,mt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};je=new WeakMap,mt=new WeakMap,ws=new WeakMap,Bd=new WeakMap,zd=new WeakMap;let Qv=PS;const Ir={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},tn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function qb(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,r),n.clip(s)}class mS{isModifyingCurrentTransform(){return!1}getPattern(){$e("Abstract method `getPattern` called.")}}class m4 extends mS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,s){let i;if(s===tn.STROKE||s===tn.FILL){const o=t.current.getClippedPathBoundingBox(s,st(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=Q.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),qb(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);i.setTransform(h)}else qb(e,this._bbox),i=this._createGradient(e);return i}}function tx(n,e,t,r,s,i,o,l){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=i,i=o,o=f),c[r+1]>c[s+1]&&(f=r,r=s,s=f,f=o,o=l,l=f),c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=i,i=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,v=(c[t+1]+e.offsetY)*e.scaleY,m=(c[r]+e.offsetX)*e.scaleX,x=(c[r+1]+e.offsetY)*e.scaleY,g=(c[s]+e.offsetX)*e.scaleX,w=(c[s+1]+e.offsetY)*e.scaleY;if(v>=w)return;const A=u[i],C=u[i+1],T=u[i+2],k=u[o],P=u[o+1],R=u[o+2],N=u[l],D=u[l+1],M=u[l+2],O=Math.round(v),$=Math.round(w);let I,W,j,B,L,F,H,ne;for(let V=O;V<=$;V++){if(V<x){const te=V<v?0:(v-V)/(v-x);I=p-(p-m)*te,W=A-(A-k)*te,j=C-(C-P)*te,B=T-(T-R)*te}else{let te;V>w?te=1:x===w?te=0:te=(x-V)/(x-w),I=m-(m-g)*te,W=k-(k-N)*te,j=P-(P-D)*te,B=R-(R-M)*te}let X;V<v?X=0:V>w?X=1:X=(v-V)/(v-w),L=p-(p-g)*X,F=A-(A-N)*X,H=C-(C-D)*X,ne=T-(T-M)*X;const re=Math.round(Math.min(I,L)),me=Math.round(Math.max(I,L));let be=h*V+re*4;for(let te=re;te<=me;te++)X=(I-te)/(I-L),X<0?X=0:X>1&&(X=1),d[be++]=W-(W-F)*X|0,d[be++]=j-(j-H)*X|0,d[be++]=B-(B-ne)*X|0,d[be++]=255}}function g4(n,e,t){const r=e.coords,s=e.colors;let i,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(r.length/l)-1,u=l-1;for(i=0;i<c;i++){let d=i*l;for(let h=0;h<u;h++,d++)tx(n,t,r[d],r[d+1],r[d+l],s[d],s[d+1],s[d+l]),tx(n,t,r[d+l+1],r[d+1],r[d+l],s[d+l+1],s[d+1],s[d+l])}break;case"triangles":for(i=0,o=r.length;i<o;i+=3)tx(n,t,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class y4 extends mS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,v=d/f,m={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/p,scaleY:1/v},x=h+2*2,g=f+2*2,w=r.getCanvas("mesh",x,g),A=w.context,C=A.createImageData(h,f);if(t){const k=C.data;for(let P=0,R=k.length;P<R;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)g4(C,k,m);return A.putImageData(C,2,2),{canvas:w.canvas,offsetX:l-2*p,offsetY:c-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,s){qb(e,this._bbox);const i=new Float32Array(2);if(s===tn.SHADING)Q.singularValueDecompose2dScale(st(e),i);else if(this.matrix){Q.singularValueDecompose2dScale(this.matrix,i);const[l,c]=i;Q.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=l,i[1]*=c}else Q.singularValueDecompose2dScale(t.baseTransform,i);const o=this._createMeshCanvas(i,s===tn.SHADING?null:this._background,t.cachedCanvases);return s!==tn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class v4 extends mS{getPattern(){return"hotpink"}}function w4(n){switch(n[0]){case"RadialAxial":return new m4(n);case"Mesh":return new y4(n);case"Dummy":return new v4}throw new Error(`Unknown IR type: ${n[0]}`)}const WC={COLORED:1,UNCOLORED:2},m0=class m0{constructor(e,t,r,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e,t){var F,H;const{bbox:r,operatorList:s,paintType:i,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),nw("TilingType: "+o);const h=r[0],f=r[1],p=r[2],v=r[3],m=p-h,x=v-f,g=new Float32Array(2);Q.singularValueDecompose2dScale(this.matrix,g);const[w,A]=g;Q.singularValueDecompose2dScale(this.baseTransform,g);const C=w*g[0],T=A*g[1];let k=m,P=x,R=!1,N=!1;const D=Math.ceil(u*C),M=Math.ceil(d*T),O=Math.ceil(m*C),$=Math.ceil(x*T);D>=O?k=u:R=!0,M>=$?P=d:N=!0;const I=this.getSizeAndScale(k,this.ctx.canvas.width,C),W=this.getSizeAndScale(P,this.ctx.canvas.height,T),j=e.cachedCanvases.getCanvas("pattern",I.size,W.size),B=j.context,L=c.createCanvasGraphics(B,t);if(L.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(L,i,l),B.translate(-I.scale*h,-W.scale*f),L.transform(0,I.scale,0,0,W.scale,0,0),B.save(),(F=L.dependencyTracker)==null||F.save(),this.clipBbox(L,h,f,p,v),L.baseTransform=st(L.ctx),L.executeOperatorList(s),L.endDrawing(),(H=L.dependencyTracker)==null||H.restore(),B.restore(),R||N){const ne=j.canvas;R&&(k=u),N&&(P=d);const V=this.getSizeAndScale(k,this.ctx.canvas.width,C),X=this.getSizeAndScale(P,this.ctx.canvas.height,T),re=V.size,me=X.size,be=e.cachedCanvases.getCanvas("pattern-workaround",re,me),te=be.context,An=R?Math.floor(m/u):0,ut=N?Math.floor(x/d):0;for(let we=0;we<=An;we++)for(let dt=0;dt<=ut;dt++)te.drawImage(ne,re*we,me*dt,re,me,0,0,re,me);return{canvas:be.canvas,scaleX:V.scale,scaleY:X.scale,offsetX:h,offsetY:f}}return{canvas:j.canvas,scaleX:I.scale,scaleY:W.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,r){const s=Math.max(m0.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*r);return i>=s?i=s:r=i/e,{scale:r,size:i}}clipBbox(e,t,r,s,i){const o=s-t,l=i-r;e.ctx.rect(t,r,o,l),Q.axialAlignedBoundingBox([t,r,s,i],st(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const s=e.ctx,i=e.current;switch(t){case WC.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;s.fillStyle=i.fillColor=o,s.strokeStyle=i.strokeColor=l;break;case WC.UNCOLORED:s.fillStyle=s.strokeStyle=r,i.fillColor=i.strokeColor=r;break;default:throw new z3(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,s,i){let o=r;s!==tn.SHADING&&(o=Q.transform(o,t.baseTransform),this.matrix&&(o=Q.transform(o,this.matrix)));const l=this.createPatternCanvas(t,i);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}};z(m0,"MAX_PATTERN_SIZE",3e3);let Xb=m0;function x4({src:n,srcPos:e=0,dest:t,width:r,height:s,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const l=Gt.isLittleEndian?4278190080:255,[c,u]=o?[i,l]:[l,i],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let v=0;v<s;v++){for(const x=e+d;e<x;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:c,t[p++]=g&64?u:c,t[p++]=g&32?u:c,t[p++]=g&16?u:c,t[p++]=g&8?u:c,t[p++]=g&4?u:c,t[p++]=g&2?u:c,t[p++]=g&1?u:c}if(h===0)continue;const m=e<f?n[e++]:255;for(let x=0;x<h;x++)t[p++]=m&1<<7-x?u:c}return{srcPos:e,destPos:p}}const GC=16,qC=100,b4=15,XC=10,Kn=16,nx=new DOMMatrix,Sr=new Float32Array(2),Uu=new Float32Array([1/0,1/0,-1/0,-1/0]);function A4(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,s,i,o,l){e.transform(t,r,s,i,o,l),this.__originalTransform(t,r,s,i,o,l)},n.setTransform=function(t,r,s,i,o,l){e.setTransform(t,r,s,i,o,l),this.__originalSetTransform(t,r,s,i,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,s,i,o,l){e.bezierCurveTo(t,r,s,i,o,l),this.__originalBezierCurveTo(t,r,s,i,o,l)},n.rect=function(t,r,s,i){e.rect(t,r,s,i),this.__originalRect(t,r,s,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class S4{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,r)):(s=this.canvasFactory.create(t,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function dy(n,e,t,r,s,i,o,l,c,u){const[d,h,f,p,v,m]=st(n);if(h===0&&f===0){const w=o*d+v,A=Math.round(w),C=l*p+m,T=Math.round(C),k=(o+c)*d+v,P=Math.abs(Math.round(k)-A)||1,R=(l+u)*p+m,N=Math.abs(Math.round(R)-T)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),A,T),n.drawImage(e,t,r,s,i,0,0,P,N),n.setTransform(d,h,f,p,v,m),[P,N]}if(d===0&&p===0){const w=l*f+v,A=Math.round(w),C=o*h+m,T=Math.round(C),k=(l+u)*f+v,P=Math.abs(Math.round(k)-A)||1,R=(o+c)*h+m,N=Math.abs(Math.round(R)-T)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,A,T),n.drawImage(e,t,r,s,i,0,0,N,P),n.setTransform(d,h,f,p,v,m),[N,P]}n.drawImage(e,t,r,s,i,o,l,c,u);const x=Math.hypot(d,h),g=Math.hypot(f,p);return[x*c,g*u]}class YC{constructor(e,t,r){z(this,"alphaIsShape",!1);z(this,"fontSize",0);z(this,"fontSizeScale",1);z(this,"textMatrix",null);z(this,"textMatrixScale",1);z(this,"fontMatrix",xb);z(this,"leading",0);z(this,"x",0);z(this,"y",0);z(this,"lineX",0);z(this,"lineY",0);z(this,"charSpacing",0);z(this,"wordSpacing",0);z(this,"textHScale",1);z(this,"textRenderingMode",Xt.FILL);z(this,"textRise",0);z(this,"fillColor","#000000");z(this,"strokeColor","#000000");z(this,"patternFill",!1);z(this,"patternStroke",!1);z(this,"fillAlpha",1);z(this,"strokeAlpha",1);z(this,"lineWidth",1);z(this,"activeSMask",null);z(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Uu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=tn.FILL,t=null){const r=this.minMax.slice();if(e===tn.STROKE){t||$e("Stroke bounding box must include transform."),Q.singularValueDecompose2dScale(t,Sr);const s=Sr[0]*this.lineWidth/2,i=Sr[1]*this.lineWidth/2;r[0]-=s,r[1]-=i,r[2]+=s,r[3]+=i}return r}updateClipFromPath(){const e=Q.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Uu,0)}getClippedPathBoundingBox(e=tn.FILL,t=null){return Q.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function KC(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,s=t%Kn,i=(t-s)/Kn,o=s===0?i:i+1,l=n.createImageData(r,Kn);let c=0,u;const d=e.data,h=l.data;let f,p,v,m;if(e.kind===ip.GRAYSCALE_1BPP){const x=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),w=g.length,A=r+7>>3,C=4294967295,T=Gt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(v=f<i?Kn:s,u=0,p=0;p<v;p++){const k=x-c;let P=0;const R=k>A?r:k*8-7,N=R&-8;let D=0,M=0;for(;P<N;P+=8)M=d[c++],g[u++]=M&128?C:T,g[u++]=M&64?C:T,g[u++]=M&32?C:T,g[u++]=M&16?C:T,g[u++]=M&8?C:T,g[u++]=M&4?C:T,g[u++]=M&2?C:T,g[u++]=M&1?C:T;for(;P<R;P++)D===0&&(M=d[c++],D=128),g[u++]=M&D?C:T,D>>=1}for(;u<w;)g[u++]=0;n.putImageData(l,0,f*Kn)}}else if(e.kind===ip.RGBA_32BPP){for(p=0,m=r*Kn*4,f=0;f<i;f++)h.set(d.subarray(c,c+m)),c+=m,n.putImageData(l,0,p),p+=Kn;f<o&&(m=r*s*4,h.set(d.subarray(c,c+m)),n.putImageData(l,0,p))}else if(e.kind===ip.RGB_24BPP)for(v=Kn,m=r*v,f=0;f<o;f++){for(f>=i&&(v=s,m=r*v),u=0,p=m;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(l,0,f*Kn)}else throw new Error(`bad image kind: ${e.kind}`)}function QC(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,s=t%Kn,i=(t-s)/Kn,o=s===0?i:i+1,l=n.createImageData(r,Kn);let c=0;const u=e.data,d=l.data;for(let h=0;h<o;h++){const f=h<i?Kn:s;({srcPos:c}=x4({src:u,srcPos:c,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(l,0,h*Kn)}}function wf(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function hy(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function ZC(n,e){if(e)return!0;Q.singularValueDecompose2dScale(n,Sr);const t=Math.fround(Is.pixelRatio*Oo.PDF_TO_CSS_UNITS);return Sr[0]<=t&&Sr[1]<=t}const E4=["butt","round","square"],C4=["miter","round","bevel"],_4={},JC={};var Os,Yb,Kb,Qb;const RS=class RS{constructor(e,t,r,s,i,{optionalContentConfig:o,markedContentStack:l=null},c,u,d){S(this,Os);this.ctx=e,this.current=new YC(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new S4(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,r=null){var s;return typeof t=="string"?((s=this.dependencyTracker)==null||s.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:s=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=l,r){const c=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...st(this.compositeCtx))}this.ctx.save(),hy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=st(this.ctx)}executeOperatorList(e,t,r,s,i){var g;const o=e.argsArray,l=e.fnArray;let c=t||0;const u=o.length;if(u===c)return c;const d=u-c>XC&&typeof r=="function",h=d?Date.now()+b4:0;let f=0;const p=this.commonObjs,v=this.objs;let m,x;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,r),c;if(!i||i(c))if(m=l[c],x=o[c]??null,m!==Yh.dependency)x===null?this[m](c):this[m](c,...x);else for(const w of x){(g=this.dependencyTracker)==null||g.recordNamedData(w,c);const A=w.startsWith("g_")?p:v;if(!A.has(w))return A.get(w,r),c}if(c++,c===u)return c;if(d&&++f>XC){if(Date.now()>h)return r(),c;f=0}}}endDrawing(){E(this,Os,Yb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,Os,Kb).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=r,c=s,u="prescale1",d,h;for(;i>2&&l>1||o>2&&c>1;){let f=l,p=c;i>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),i/=l/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,l,c,0,0,f,p),e=d.canvas,l=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){var D,M;const r=this.ctx,{width:s,height:i}=t,o=this.current.fillColor,l=this.current.patternFill,c=st(r);let u,d,h,f;if((t.bitmap||t.data)&&t.count>1){const O=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(O),u||(u=new Map,this._cachedBitmapsMap.set(O,u));const $=u.get(d);if($&&!l){const I=Math.round(Math.min(c[0],c[2])+c[4]),W=Math.round(Math.min(c[1],c[3])+c[5]);return(D=this.dependencyTracker)==null||D.recordDependencies(e,Ir.transformAndFill),{canvas:$,offsetX:I,offsetY:W}}h=$}h||(f=this.cachedCanvases.getCanvas("maskCanvas",s,i),QC(f.context,t));let p=Q.transform(c,[1/s,0,0,-1/i,0,0]);p=Q.transform(p,[1,0,0,1,0,-i]);const v=Uu.slice();Q.axialAlignedBoundingBox([0,0,s,i],p,v);const[m,x,g,w]=v,A=Math.round(g-m)||1,C=Math.round(w-x)||1,T=this.cachedCanvases.getCanvas("fillCanvas",A,C),k=T.context,P=m,R=x;k.translate(-P,-R),k.transform(...p),h||(h=this._scaleImage(f.canvas,Hs(k)),h=h.img,u&&l&&u.set(d,h)),k.imageSmoothingEnabled=ZC(st(k),t.interpolate),dy(k,h,0,0,h.width,h.height,0,0,s,i),k.globalCompositeOperation="source-in";const N=Q.transform(Hs(k),[1,0,0,1,-P,-R]);return k.fillStyle=l?o.getPattern(r,this,N,tn.FILL,e):o,k.fillRect(0,0,s,i),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,T.canvas)),(M=this.dependencyTracker)==null||M.recordDependencies(e,Ir.transformAndFill),{canvas:T.canvas,offsetX:Math.round(P),offsetY:Math.round(R)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=E4[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=C4[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("dash",e);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,s,i,o,l;for(const[c,u]of t)switch(c){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(s=this.dependencyTracker)==null||s.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(i=this.dependencyTracker)==null||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,t,r);this.suspendedCtx=this.ctx;const o=this.ctx=i.context;o.setTransform(this.suspendedCtx.getTransform()),wf(this.suspendedCtx,o),A4(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),wf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,s){const i=s[0],o=s[1],l=s[2]-i,c=s[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,r,l,c,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,s,i,o,l,c,u,d,h){let f=e.canvas,p=c-d,v=u-h;if(o)if(p<0||v<0||p+r>f.width||v+s>f.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,s),g=x.context;g.drawImage(f,-p,-v),g.globalCompositeOperation="destination-atop",g.fillStyle=o,g.fillRect(0,0,r,s),g.globalCompositeOperation="source-over",f=x.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(p,v,r,s),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,v,r,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const m=new Path2D;m.rect(c,u,r,s),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,v,r,s,c,u,r,s),t.restore()}save(e){var r;this.inSMaskMode&&wf(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&wf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,s,i,o,l){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,r,s,i,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,s){let[i]=r;if(!s){i||(i=r[0]=new Path2D),this[t](e,i);return}if(this.dependencyTracker!==null){const o=t===Yh.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,s[0]-o,s[2]+o,s[1]-o,s[3]+o).recordDependencies(e,["transform"])}if(!(i instanceof Path2D)){const o=r[0]=new Path2D;for(let l=0,c=i.length;l<c;)switch(i[l++]){case iy.moveTo:o.moveTo(i[l++],i[l++]);break;case iy.lineTo:o.lineTo(i[l++],i[l++]);break;case iy.curveTo:o.bezierCurveTo(i[l++],i[l++],i[l++],i[l++],i[l++],i[l++]);break;case iy.closePath:o.closePath();break;default:oe(`Unrecognized drawing path operator: ${i[l-1]}`);break}i=o}Q.axialAlignedBoundingBox(s,st(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var o;const s=this.ctx,i=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const l=i.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=i.getPattern(s,this,Hs(s),tn.STROKE,e),l){const c=new Path2D;c.addPath(t,s.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,Ir.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(tn.STROKE,st(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,d,h;const s=this.ctx,i=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const f=i.isModifyingCurrentTransform()?s.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),s.save(),s.fillStyle=i.getPattern(s,this,Hs(s),tn.FILL,e),f){const p=new Path2D;p.addPath(t,s.getTransform().invertSelf().multiplySelf(f)),t=p}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ir.fill),l&&(s.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Ir.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=_4}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=JC}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;t!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",e),s.recordCloseMarker(e)}if(t!==void 0){const s=new Path2D,i=r.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:u,path:d}of t)d&&s.addPath(d,new DOMMatrix(o).preMultiplySelf(i).translate(l,c).scale(u,-u));r.clip(s)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const s=this.commonObjs.get(t),i=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=s.fontMatrix||xb,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&oe("Invalid font matrix for font "+t),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=r,s.isType3Font)return;const o=s.loadedName||"sans-serif",l=((f=s.systemFontInfo)==null?void 0:f.css)||`"${o}", ${s.fallbackName}`;let c="normal";s.black?c="900":s.bold&&(c="bold");const u=s.italic?"italic":"normal";let d=r;r<GC?d=GC:r>qC&&(d=qC),this.current.fontSizeScale=r/d,this.ctx.font=`${u} ${c} ${d}px ${l}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var s;(s=this.dependencyTracker)==null||s.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,s,i,o){var g,w,A,C;const l=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=d&Xt.FILL_STROKE_MASK,p=!!(d&Xt.ADD_TO_PATH_FLAG),v=c.patternFill&&!u.missingFile,m=c.patternStroke&&!u.missingFile;let x;if((u.disableFontFace||p||v||m)&&!u.missingFile&&(x=u.getPathGenerator(this.commonObjs,t)),x&&(u.disableFontFace||v||m)){l.save(),l.translate(r,s),l.scale(h,-h),(g=this.dependencyTracker)==null||g.recordCharacterBBox(e,l,u);let T;if(f===Xt.FILL||f===Xt.FILL_STROKE)if(i){T=l.getTransform(),l.setTransform(...i);const k=E(this,Os,Qb).call(this,x,T,i);l.fill(k)}else l.fill(x);if(f===Xt.STROKE||f===Xt.FILL_STROKE)if(o){T||(T=l.getTransform()),l.setTransform(...o);const{a:k,b:P,c:R,d:N}=T,D=Q.inverseTransform(o),M=Q.transform([k,P,R,N,0,0],D);Q.singularValueDecompose2dScale(M,Sr),l.lineWidth*=Math.max(Sr[0],Sr[1])/h,l.stroke(E(this,Os,Qb).call(this,x,T,o))}else l.lineWidth/=h,l.stroke(x);l.restore()}else(f===Xt.FILL||f===Xt.FILL_STROKE)&&(l.fillText(t,r,s),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,l,u,h,r,s,()=>l.measureText(t))),(f===Xt.STROKE||f===Xt.FILL_STROKE)&&(this.dependencyTracker&&((A=this.dependencyTracker)==null||A.recordCharacterBBox(e,l,u,h,r,s,()=>l.measureText(t)).recordDependencies(e,Ir.stroke)),l.strokeText(t,r,s));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:st(l),x:r,y:s,fontSize:h,path:x}),(C=this.dependencyTracker)==null||C.recordCharacterBBox(e,l,u,h,r,s))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){r=!0;break}return de(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var R,N,D,M;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ir.showText).resetBBox(e),this.current.textRenderingMode&Xt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,s=r.font;if(s.isType3Font){this.showType3Text(e,t),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e);return}const i=r.fontSize;if(i===0){(N=this.dependencyTracker)==null||N.recordOperation(e);return}const o=this.ctx,l=r.fontSizeScale,c=r.charSpacing,u=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,f=t.length,p=s.vertical,v=p?1:-1,m=s.defaultVMetrics,x=i*r.fontMatrix[0],g=r.textRenderingMode===Xt.FILL&&!s.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),d>0?o.scale(h,-1):o.scale(h,1);let w,A;if(r.patternFill){o.save();const O=r.fillColor.getPattern(o,this,Hs(o),tn.FILL,e);w=st(o),o.restore(),o.fillStyle=O}if(r.patternStroke){o.save();const O=r.strokeColor.getPattern(o,this,Hs(o),tn.STROKE,e);A=st(o),o.restore(),o.strokeStyle=O}let C=r.lineWidth;const T=r.textMatrixScale;if(T===0||C===0){const O=r.textRenderingMode&Xt.FILL_STROKE_MASK;(O===Xt.STROKE||O===Xt.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=T;if(l!==1&&(o.scale(l,l),C/=l),o.lineWidth=C,s.isInvalidPDFjsFont){const O=[];let $=0;for(const W of t)O.push(W.unicode),$+=W.width;const I=O.join("");if(o.fillText(I,0,0),this.dependencyTracker!==null){const W=o.measureText(I);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=$*x*h,o.restore(),this.compose();return}let k=0,P;for(P=0;P<f;++P){const O=t[P];if(typeof O=="number"){k+=v*O*i/1e3;continue}let $=!1;const I=(O.isSpace?u:0)+c,W=O.fontChar,j=O.accent;let B,L,F=O.width;if(p){const V=O.vmetric||m,X=-(O.vmetric?V[1]:F*.5)*x,re=V[2]*x;F=V?-V[0]:F,B=X/l,L=(k+re)/l}else B=k/l,L=0;let H;if(s.remeasure&&F>0){H=o.measureText(W);const V=H.width*1e3/i*l;if(F<V&&this.isFontSubpixelAAEnabled){const X=F/V;$=!0,o.save(),o.scale(X,1),B/=X}else F!==V&&(B+=(F-V)/2e3*i/l)}if(this.contentVisible&&(O.isInFont||s.missingFile)){if(g&&!j)o.fillText(W,B,L),(D=this.dependencyTracker)==null||D.recordCharacterBBox(e,o,H?{bbox:null}:s,i/l,B,L,()=>H??o.measureText(W));else if(this.paintChar(e,W,B,L,w,A),j){const V=B+i*j.offset.x/l,X=L-i*j.offset.y/l;this.paintChar(e,j.fontChar,V,X,w,A)}}const ne=p?F*x-I*d:F*x+I*d;k+=ne,$&&o.restore()}p?r.y-=k:r.x+=k*h,o.restore(),this.compose(),(M=this.dependencyTracker)==null||M.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,s=this.current,i=s.font,o=s.fontSize,l=s.fontDirection,c=i.vertical?1:-1,u=s.charSpacing,d=s.wordSpacing,h=s.textHScale*l,f=s.fontMatrix||xb,p=t.length,v=s.textRenderingMode===Xt.INVISIBLE;let m,x,g,w;if(v||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),s.textMatrix&&r.transform(...s.textMatrix),r.translate(s.x,s.y+s.textRise),r.scale(h,l);const A=this.dependencyTracker;for(this.dependencyTracker=A?new Qv(A,e):null,m=0;m<p;++m){if(x=t[m],typeof x=="number"){w=c*x*o/1e3,this.ctx.translate(w,0),s.x+=w*h;continue}const C=(x.isSpace?d:0)+u,T=i.charProcOperatorList[x.operatorListId];T?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...f),this.executeOperatorList(T),this.restore()):oe(`Type3 character "${x.operatorListId}" is not available.`);const k=[x.width,0];Q.applyTransform(k,f),g=k[0]*o+C,r.translate(g,0),s.x+=g*h}r.restore(),A&&(this.dependencyTracker=A)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,s,i,o,l){var u;const c=new Path2D;c.rect(s,i,o-s,l-i),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,s,o,i,l).recordClipBox(e,this.ctx,s,o,i,l),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const s=this.baseTransform||st(this.ctx),i={createCanvasGraphics:(o,l)=>new RS(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Qv(this.dependencyTracker,l,!0):null)};r=new Xb(t,this.ctx,i,s)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=w4(this.getObject(e,t)),this.cachedPatterns.set(t,s)),r&&(s.matrix=r),s}shadingFill(e,t){var o;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const s=this._getPattern(e,t);r.fillStyle=s.getPattern(r,this,Hs(r),tn.SHADING,e);const i=Hs(r);if(i){const{width:l,height:c}=r.canvas,u=Uu.slice();Q.axialAlignedBoundingBox([0,0,l,c],i,u);const[d,h,f,p]=u;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ir.transform).recordDependencies(e,Ir.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){$e("Should not call beginInlineImage")}beginImageData(){$e("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var s;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=st(this.ctx),r)){Q.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,o,l,c]=r,u=new Path2D;u.rect(i,o,l-i,c-o),this.ctx.clip(u),(s=this.dependencyTracker)==null||s.recordClipBox(e,this.ctx,i,l,o,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var A;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||nw("TODO: Support non-isolated groups."),t.knockout&&oe("Knockout groups not supported.");const s=st(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=Uu.slice();Q.axialAlignedBoundingBox(t.bbox,st(r),i);const o=[0,0,r.canvas.width,r.canvas.height];i=Q.intersect(i,o)||[0,0,0,0];const l=Math.floor(i[0]),c=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-l,1),d=Math.max(Math.ceil(i[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),p=f.context;p.translate(-l,-c),p.transform(...s);let v=new Path2D;const[m,x,g,w]=t.bbox;if(v.rect(m,x,g-m,w-x),t.matrix){const C=new Path2D;C.addPath(v,new DOMMatrix(t.matrix)),v=C}p.clip(v),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(l,c),r.save()),wf(r,p),this.ctx=p,(A=this.dependencyTracker)==null||A.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var i;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,(i=this.dependencyTracker)==null||i.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=st(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const l=Uu.slice();Q.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],o,l),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,r,s,i,o){if(E(this,Os,Yb).call(this),hy(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const l=r[2]-r[0],c=r[3]-r[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=r[0],s[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=l,r[3]=c,Q.singularValueDecompose2dScale(st(this.ctx),Sr);const{viewportScale:u}=this,d=Math.ceil(l*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Sr[0],0,0,-Sr[1],0,c*Sr[1]),hy(this.ctx)}else{hy(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],l,c),this.ctx.clip(u)}}this.current=new YC(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...s),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),E(this,Os,Kb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var l;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const s=this.ctx,i=this._createMaskCanvas(e,t),o=i.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,i.offsetX,i.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(e).recordBBox(e,this.ctx,i.offsetX,i.offsetX+o.width,i.offsetY,i.offsetY+o.height).recordOperation(e),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,s=0,i=0,o,l){var h,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=st(c);c.transform(r,s,i,o,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let v=0,m=l.length;v<m;v+=2){const x=Q.transform(u,[r,s,i,o,l[v],l[v+1]]);c.drawImage(d.canvas,x[4],x[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,x[4],x[4]+d.canvas.width,x[5],x[5]+d.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,l,c;if(!this.contentVisible)return;const r=this.ctx,s=this.current.fillColor,i=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,Ir.transformAndFill);for(const u of t){const{data:d,width:h,height:f,transform:p}=u,v=this.cachedCanvases.getCanvas("maskCanvas",h,f),m=v.context;m.save();const x=this.getObject(e,d,u);QC(m,x),m.globalCompositeOperation="source-in",m.fillStyle=i?s.getPattern(m,this,Hs(r),tn.FILL,e):s,m.fillRect(0,0,h,f),m.restore(),r.save(),r.transform(...p),r.scale(1,-1),dy(r,v.canvas,0,0,h,f,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,r,0,h,0,f),r.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,s,i){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){oe("Dependent image isn't ready yet");return}const l=o.width,c=o.height,u=[];for(let d=0,h=i.length;d<h;d+=2)u.push({transform:[r,0,0,s,i[d],i[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,s),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,s=t.height,i=this.ctx;this.save(e);const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none"),i.scale(1/r,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,s).context;KC(h,t),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,Hs(i));i.imageSmoothingEnabled=ZC(st(i),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,i,0,r,-s,0).recordDependencies(e,Ir.imageXObject).recordOperation(e),dy(i,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,r,s),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var o,l,c;if(!this.contentVisible)return;const s=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const u=t.width,d=t.height,f=this.cachedCanvases.getCanvas("inlineImage",u,d).context;KC(f,t),i=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of r)s.save(),s.transform(...u.transform),s.scale(1,-1),dy(s,i,u.x,u.y,u.w,u.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,s,0,1,-1,0),s.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ir.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var o,l;const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const i=this.ctx;this.pendingClip?(s||(this.pendingClip===JC?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(l=this.dependencyTracker)==null||l.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=st(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:s,d:i}=this.ctx.getTransform();let o,l;if(r===0&&s===0){const c=Math.abs(t),u=Math.abs(i);if(c===u)if(e===0)o=l=1/c;else{const d=c*e;o=l=d<1?1/d:1}else if(e===0)o=1/c,l=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,l=h<1?1/h:1}}else{const c=Math.abs(t*i-r*s),u=Math.hypot(t,r),d=Math.hypot(s,i);if(e===0)o=d/c,l=u/c;else{const h=e*c;o=d>h?d/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:s}}=this,[i,o]=this.getScaleForStroking();if(i===o){r.lineWidth=(s||1)*i,r.stroke(e);return}const l=r.getLineDash();t&&r.save(),r.scale(i,o),nx.a=1/i,nx.d=1/o;const c=new Path2D;if(c.addPath(e,nx),l.length>0){const u=Math.max(i,o);r.setLineDash(l.map(d=>d/u)),r.lineDashOffset/=u}r.lineWidth=s||1,r.stroke(c),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Os=new WeakSet,Yb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Kb=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Qb=function(e,t,r){const s=new Path2D;return s.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),s};let nd=RS;for(const n in Yh)nd.prototype[n]!==void 0&&(nd.prototype[Yh[n]]=nd.prototype[n]);var $d,Ud,mm,Hd,Vy;const Vu=class Vu{constructor(e){S(this,Hd);S(this,$d);S(this,Ud);S(this,mm);y(this,$d,e),y(this,Ud,new DataView(a(this,$d))),y(this,mm,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let s=0;for(const u of Vu.strings){const d=t.encode(e[u]);r[u]=d,s+=4+d.length}const i=new ArrayBuffer(s),o=new Uint8Array(i),l=new DataView(i);let c=0;for(const u of Vu.strings){const d=r[u],h=d.length;l.setUint32(c,h),o.set(d,c+4),c+=4+h}return xe(c===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}get fontFamily(){return E(this,Hd,Vy).call(this,0)}get fontWeight(){return E(this,Hd,Vy).call(this,1)}get italicAngle(){return E(this,Hd,Vy).call(this,2)}};$d=new WeakMap,Ud=new WeakMap,mm=new WeakMap,Hd=new WeakSet,Vy=function(e){xe(e<Vu.strings.length,"Invalid string index");let t=0;for(let s=0;s<e;s++)t+=a(this,Ud).getUint32(t)+4;const r=a(this,Ud).getUint32(t);return a(this,mm).decode(new Uint8Array(a(this,$d),t+4,r))},z(Vu,"strings",["fontFamily","fontWeight","italicAngle"]);let Zv=Vu;var _a,ai,pc,mc,jf;const Wu=class Wu{constructor(e){S(this,mc);S(this,_a);S(this,ai);S(this,pc);y(this,_a,e),y(this,ai,new DataView(a(this,_a))),y(this,pc,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let s=0;for(const f of Wu.strings){const p=t.encode(e[f]);r[f]=p,s+=4+p.length}s+=4;let i,o,l=1+s;e.style&&(i=t.encode(e.style.style),o=t.encode(e.style.weight),l+=4+i.length+4+o.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,s=0;for(const f of Wu.strings){const p=r[f],v=p.length;s+=4+v,d.setUint32(h,v),u.set(p,h+4),h+=4+v}return d.setUint32(h-s-4,s),e.style&&(d.setUint32(h,i.length),u.set(i,h+4),h+=4+i.length,d.setUint32(h,o.length),u.set(o,h+4),h+=4+o.length),xe(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return a(this,ai).getUint8(0)!==0}get css(){return E(this,mc,jf).call(this,0)}get loadedName(){return E(this,mc,jf).call(this,1)}get baseFontName(){return E(this,mc,jf).call(this,2)}get src(){return E(this,mc,jf).call(this,3)}get style(){let e=1;e+=4+a(this,ai).getUint32(e);const t=a(this,ai).getUint32(e),r=a(this,pc).decode(new Uint8Array(a(this,_a),e+4,t));e+=4+t;const s=a(this,ai).getUint32(e),i=a(this,pc).decode(new Uint8Array(a(this,_a),e+4,s));return{style:r,weight:i}}};_a=new WeakMap,ai=new WeakMap,pc=new WeakMap,mc=new WeakSet,jf=function(e){xe(e<Wu.strings.length,"Invalid string index");let t=5;for(let s=0;s<e;s++)t+=a(this,ai).getUint32(t)+4;const r=a(this,ai).getUint32(t);return a(this,pc).decode(new Uint8Array(a(this,_a),t+4,r))},z(Wu,"strings",["css","loadedName","baseFontName","src"]);let Jv=Wu;var Vd,Wd,Gd,qd,ar,li,gm,Le,vt,cs,Wy,Bf;const ce=class ce{constructor({data:e,extra:t}){S(this,vt);S(this,li);S(this,gm);S(this,Le);y(this,li,e),y(this,gm,new TextDecoder),y(this,Le,new DataView(a(this,li))),t&&Object.assign(this,t)}get black(){return E(this,vt,cs).call(this,0)}get bold(){return E(this,vt,cs).call(this,1)}get disableFontFace(){return E(this,vt,cs).call(this,2)}get fontExtraProperties(){return E(this,vt,cs).call(this,3)}get isInvalidPDFjsFont(){return E(this,vt,cs).call(this,4)}get isType3Font(){return E(this,vt,cs).call(this,5)}get italic(){return E(this,vt,cs).call(this,6)}get missingFile(){return E(this,vt,cs).call(this,7)}get remeasure(){return E(this,vt,cs).call(this,8)}get vertical(){return E(this,vt,cs).call(this,9)}get ascent(){return E(this,vt,Wy).call(this,0)}get defaultWidth(){return E(this,vt,Wy).call(this,1)}get descent(){return E(this,vt,Wy).call(this,2)}get bbox(){let e=a(ce,Wd);if(a(this,Le).getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<4;s++)r.push(a(this,Le).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=a(ce,Gd);if(a(this,Le).getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<6;s++)r.push(a(this,Le).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=a(ce,qd);if(a(this,Le).getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<3;s++)r.push(a(this,Le).getInt16(e,!0)),e+=2;return r}get fallbackName(){return E(this,vt,Bf).call(this,0)}get loadedName(){return E(this,vt,Bf).call(this,1)}get mimetype(){return E(this,vt,Bf).call(this,2)}get name(){return E(this,vt,Bf).call(this,3)}get data(){let e=a(ce,ar);const t=a(this,Le).getUint32(e);e+=4+t;const r=a(this,Le).getUint32(e);e+=4+r;const s=a(this,Le).getUint32(e);e+=4+s;const i=a(this,Le).getUint32(e);if(i!==0)return new Uint8Array(a(this,li),e+4,i)}clearData(){let e=a(ce,ar);const t=a(this,Le).getUint32(e);e+=4+t;const r=a(this,Le).getUint32(e);e+=4+r;const s=a(this,Le).getUint32(e);e+=4+s;const i=a(this,Le).getUint32(e);new Uint8Array(a(this,li),e+4,i).fill(0),a(this,Le).setUint32(e,0)}get cssFontInfo(){let e=a(ce,ar);const t=a(this,Le).getUint32(e);e+=4+t;const r=a(this,Le).getUint32(e);e+=4+r;const s=a(this,Le).getUint32(e);if(s===0)return null;const i=new Uint8Array(s);return i.set(new Uint8Array(a(this,li),e+4,s)),new Zv(i.buffer)}get systemFontInfo(){let e=a(ce,ar);const t=a(this,Le).getUint32(e);e+=4+t;const r=a(this,Le).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(a(this,li),e+4,r)),new Jv(s.buffer)}static write(e){const t=e.systemFontInfo?Jv.write(e.systemFontInfo):null,r=e.cssFontInfo?Zv.write(e.cssFontInfo):null,s=new TextEncoder,i={};let o=0;for(const m of ce.strings)i[m]=s.encode(e[m]),o+=4+i[m].length;const l=a(ce,ar)+4+o+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;const f=ce.bools.length;let p=0,v=0;for(let m=0;m<f;m++){const x=e[ce.bools[m]];p|=(x===void 0?0:x?2:1)<<v,v+=2,(v===8||m===f-1)&&(d.setUint8(h++,p),p=0,v=0)}xe(h===a(ce,Vd),"FontInfo.write: Boolean properties offset mismatch");for(const m of ce.numbers)d.setFloat64(h,e[m]),h+=8;if(xe(h===a(ce,Wd),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const m of e.bbox)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=2*4;if(xe(h===a(ce,Gd),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const m of e.fontMatrix)d.setFloat64(h,m,!0),h+=8}else d.setUint8(h++,0),h+=8*6;if(xe(h===a(ce,qd),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const m of e.defaultVMetrics)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=3*2;xe(h===a(ce,ar),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(a(ce,ar),0),h+=4;for(const m of ce.strings){const x=i[m],g=x.length;d.setUint32(h,g),u.set(x,h+4),h+=4+g}if(d.setUint32(a(ce,ar),h-a(ce,ar)-4),!t)d.setUint32(h,0),h+=4;else{const m=t.byteLength;d.setUint32(h,m),xe(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+m}if(!r)d.setUint32(h,0),h+=4;else{const m=r.byteLength;d.setUint32(h,m),xe(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),h+4),h+=4+m}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),xe(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};Vd=new WeakMap,Wd=new WeakMap,Gd=new WeakMap,qd=new WeakMap,ar=new WeakMap,li=new WeakMap,gm=new WeakMap,Le=new WeakMap,vt=new WeakSet,cs=function(e){xe(e<ce.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,s=a(this,Le).getUint8(t)>>r&3;return s===0?void 0:s===2},Wy=function(e){return xe(e<ce.numbers.length,"Invalid number index"),a(this,Le).getFloat64(a(ce,Vd)+e*8)},Bf=function(e){xe(e<ce.strings.length,"Invalid string index");let t=a(ce,ar)+4;for(let i=0;i<e;i++)t+=a(this,Le).getUint32(t)+4;const r=a(this,Le).getUint32(t),s=new Uint8Array(r);return s.set(new Uint8Array(a(this,li),t+4,r)),a(this,gm).decode(s)},z(ce,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),z(ce,"numbers",["ascent","defaultWidth","descent"]),z(ce,"strings",["fallbackName","loadedName","mimetype","name"]),S(ce,Vd,Math.ceil(ce.bools.length*2/8)),S(ce,Wd,a(ce,Vd)+ce.numbers.length*8),S(ce,Gd,a(ce,Wd)+1+2*4),S(ce,qd,a(ce,Gd)+1+8*6),S(ce,ar,a(ce,qd)+1+2*3);let Zb=ce;var ym,vm;class Kr{static get workerPort(){return a(this,ym)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");y(this,ym,e)}static get workerSrc(){return a(this,vm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");y(this,vm,e)}}ym=new WeakMap,vm=new WeakMap,S(Kr,ym,null),S(Kr,vm,"");var Xd,wm;class T4{constructor({parsedData:e,rawData:t}){S(this,Xd);S(this,wm);y(this,Xd,e),y(this,wm,t)}getRaw(){return a(this,wm)}get(e){return a(this,Xd).get(e)??null}[Symbol.iterator](){return a(this,Xd).entries()}}Xd=new WeakMap,wm=new WeakMap;const Tu=Symbol("INTERNAL");var xm,bm,Am,Yd;class k4{constructor(e,{name:t,intent:r,usage:s,rbGroups:i}){S(this,xm,!1);S(this,bm,!1);S(this,Am,!1);S(this,Yd,!0);y(this,xm,!!(e&br.DISPLAY)),y(this,bm,!!(e&br.PRINT)),this.name=t,this.intent=r,this.usage=s,this.rbGroups=i}get visible(){if(a(this,Am))return a(this,Yd);if(!a(this,Yd))return!1;const{print:e,view:t}=this.usage;return a(this,xm)?(t==null?void 0:t.viewState)!=="OFF":a(this,bm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Tu&&$e("Internal method `_setVisible` called."),y(this,Am,r),y(this,Yd,t)}}xm=new WeakMap,bm=new WeakMap,Am=new WeakMap,Yd=new WeakMap;var Ta,Ie,Kd,Qd,Sm,Jb;class P4{constructor(e,t=br.DISPLAY){S(this,Sm);S(this,Ta,null);S(this,Ie,new Map);S(this,Kd,null);S(this,Qd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,y(this,Qd,e.order);for(const r of e.groups)a(this,Ie).set(r.id,new k4(t,r));if(e.baseState==="OFF")for(const r of a(this,Ie).values())r._setVisible(Tu,!1);for(const r of e.on)a(this,Ie).get(r)._setVisible(Tu,!0);for(const r of e.off)a(this,Ie).get(r)._setVisible(Tu,!1);y(this,Kd,this.getHash())}}isVisible(e){if(a(this,Ie).size===0)return!0;if(!e)return nw("Optional content group not defined."),!0;if(e.type==="OCG")return a(this,Ie).has(e.id)?a(this,Ie).get(e.id).visible:(oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Sm,Jb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!a(this,Ie).has(t))return oe(`Optional content group not found: ${t}`),!0;if(a(this,Ie).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!a(this,Ie).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!a(this,Ie).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!a(this,Ie).has(t))return oe(`Optional content group not found: ${t}`),!0;if(!a(this,Ie).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!a(this,Ie).has(t))return oe(`Optional content group not found: ${t}`),!0;if(a(this,Ie).get(t).visible)return!1}return!0}return oe(`Unknown optional content policy ${e.policy}.`),!0}return oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var i;const s=a(this,Ie).get(e);if(!s){oe(`Optional content group not found: ${e}`);return}if(r&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const l of o)l!==e&&((i=a(this,Ie).get(l))==null||i._setVisible(Tu,!1,!0));s._setVisible(Tu,!!t,!0),y(this,Ta,null)}setOCGState({state:e,preserveRB:t}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const i=a(this,Ie).get(s);if(i)switch(r){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}y(this,Ta,null)}get hasInitialVisibility(){return a(this,Kd)===null||this.getHash()===a(this,Kd)}getOrder(){return a(this,Ie).size?a(this,Qd)?a(this,Qd).slice():[...a(this,Ie).keys()]:null}getGroup(e){return a(this,Ie).get(e)||null}getHash(){if(a(this,Ta)!==null)return a(this,Ta);const e=new u2;for(const[t,r]of a(this,Ie))e.update(`${t}:${r.visible}`);return y(this,Ta,e.hexdigest())}[Symbol.iterator](){return a(this,Ie).entries()}}Ta=new WeakMap,Ie=new WeakMap,Kd=new WeakMap,Qd=new WeakMap,Sm=new WeakSet,Jb=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let s=1;s<t;s++){const i=e[s];let o;if(Array.isArray(i))o=E(this,Sm,Jb).call(this,i);else if(a(this,Ie).has(i))o=a(this,Ie).get(i).visible;else return oe(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class R4{constructor(e,{disableRange:t=!1,disableStream:r=!1}){xe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});xe(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,s,i;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){xe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new N4(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new M4(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class N4{constructor(e,t,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=sw(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class M4{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function D4(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=l(t);return d=unescape(d),d=c(d),d=u(d),i(d)}if(t=o(n),t){const d=u(t);return i(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=l(t);return d=u(d),i(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=kg(h);h=f.decode(p),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),e&&(d=s("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,m,x,g]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[x,g]}const v=[];for(let m=0;m<h.length&&m in h;++m){let[x,g]=h[m];g=l(g),x&&(g=unescape(g),m===0&&(g=c(g))),v.push(g)}return v.join("")}function l(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return s(f,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,x){return String.fromCharCode(parseInt(x,16))}),s(f,v);try{v=atob(v)}catch{}return s(f,v)})}return""}function S2(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const s=e[r];s!==void 0&&t.append(r,s)}return t}function iw(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function E2({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function C2(n){const e=n.get("Content-Disposition");if(e){let t=D4(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(sw(t))return t}return null}function Mg(n,e){return new Pp(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function _2(n){return n===200||n===206}function T2(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function k2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(oe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class L4{constructor(e){z(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=S2(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I4(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new O4(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class I4{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),s=t.url;fetch(s,T2(r,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=iw(i.url),!_2(i.status))throw Mg(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:l,suggestedLength:c}=E2({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=C2(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Io("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:k2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class O4{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const o=s.url;fetch(o,T2(i,this._withCredentials,this._abortController)).then(l=>{const c=iw(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!_2(l.status))throw Mg(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:k2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const rx=200,sx=206;function F4(n){const e=n.response;return typeof e!="string"?e:kg(e).buffer}class j4{constructor({url:e,httpHeaders:t,withCredentials:r}){z(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=S2(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=sx):s.expectedStatus=rx,t.responseType="arraybuffer",xe(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var s;const r=this.pendingRequests[e];r&&((s=r.onProgress)==null||s.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){r.onError(s.status);return}const i=s.status||rx;if(!(i===rx&&r.expectedStatus===sx)&&i!==r.expectedStatus){r.onError(s.status);return}const l=F4(s);if(i===sx){const c=s.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?r.onDone({begin:parseInt(u[1],10),chunk:l}):(oe('Missing or invalid "Content-Range" header.'),r.onError(0))}else l?r.onDone({begin:0,chunk:l}):r.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class B4{constructor(e){this._source=e,this._manager=new j4(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return xe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new z4(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new $4(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class z4{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=iw(t.responseURL);const r=t.getAllResponseHeaders(),s=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:o}=E2({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=C2(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Mg(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class $4{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=iw((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Mg(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const U4=/^[a-z][a-z0-9\-+.]+:/i;function H4(n){if(U4.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class V4{constructor(e){this.source=e,this.url=H4(e.url),xe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return xe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new W4(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new G4(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class W4{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Mg(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Io("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class G4{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const xf=Symbol("INITIAL_DATA");var lr,Em,e1;class P2{constructor(){S(this,Em);S(this,lr,Object.create(null))}get(e,t=null){if(t){const s=E(this,Em,e1).call(this,e);return s.promise.then(()=>t(s.data)),null}const r=a(this,lr)[e];if(!r||r.data===xf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=a(this,lr)[e];return!!t&&t.data!==xf}delete(e){const t=a(this,lr)[e];return!t||t.data===xf?!1:(delete a(this,lr)[e],!0)}resolve(e,t=null){const r=E(this,Em,e1).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in a(this,lr)){const{data:r}=a(this,lr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}y(this,lr,Object.create(null))}*[Symbol.iterator](){for(const e in a(this,lr)){const{data:t}=a(this,lr)[e];t!==xf&&(yield[e,t])}}}lr=new WeakMap,Em=new WeakSet,e1=function(e){var t;return(t=a(this,lr))[e]||(t[e]={...Promise.withResolvers(),data:xf})};const q4=1e5,e_=30;var R_,ka,Gn,Cm,_m,gc,io,Tm,km,yc,Zd,Jd,Pa,eh,Pm,th,vc,Rm,Nm,yt,nh,wc,Mm,Ra,rh,Bo,R2,N2,t1,Pr,Gy,n1,M2,D2;let Dp=(yt=class{constructor({textContentSource:e,container:t,viewport:r}){S(this,Bo);S(this,ka,Promise.withResolvers());S(this,Gn,null);S(this,Cm,!1);S(this,_m,!!((R_=globalThis.FontInspector)!=null&&R_.enabled));S(this,gc,null);S(this,io,null);S(this,Tm,0);S(this,km,0);S(this,yc,null);S(this,Zd,null);S(this,Jd,0);S(this,Pa,0);S(this,eh,Object.create(null));S(this,Pm,[]);S(this,th,null);S(this,vc,[]);S(this,Rm,new WeakMap);S(this,Nm,null);var c;if(e instanceof ReadableStream)y(this,th,e);else if(typeof e=="object")y(this,th,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');y(this,Gn,y(this,Zd,t)),y(this,Pa,r.scale*Is.pixelRatio),y(this,Jd,r.rotation),y(this,io,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:o,pageY:l}=r.rawDims;y(this,Nm,[1,0,0,-1,-o,l+i]),y(this,km,s),y(this,Tm,i),E(c=yt,Pr,M2).call(c),gl(t,r),a(this,ka).promise.finally(()=>{a(yt,rh).delete(this),y(this,io,null),y(this,eh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Gt.platform;return de(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{a(this,yc).read().then(({value:t,done:r})=>{if(r){a(this,ka).resolve();return}a(this,gc)??y(this,gc,t.lang),Object.assign(a(this,eh),t.styles),E(this,Bo,R2).call(this,t.items),e()},a(this,ka).reject)};return y(this,yc,a(this,th).getReader()),a(yt,rh).add(this),e(),a(this,ka).promise}update({viewport:e,onBefore:t=null}){var i;const r=e.scale*Is.pixelRatio,s=e.rotation;if(s!==a(this,Jd)&&(t==null||t(),y(this,Jd,s),gl(a(this,Zd),{rotation:s})),r!==a(this,Pa)){t==null||t(),y(this,Pa,r);const o={div:null,properties:null,ctx:E(i=yt,Pr,Gy).call(i,a(this,gc))};for(const l of a(this,vc))o.properties=a(this,Rm).get(l),o.div=l,E(this,Bo,t1).call(this,o)}}cancel(){var t;const e=new Io("TextLayer task cancelled.");(t=a(this,yc))==null||t.cancel(e).catch(()=>{}),y(this,yc,null),a(this,ka).reject(e)}get textDivs(){return a(this,vc)}get textContentItemsStr(){return a(this,Pm)}static cleanup(){if(!(a(this,rh).size>0)){a(this,nh).clear();for(const{canvas:e}of a(this,wc).values())e.remove();a(this,wc).clear()}}},ka=new WeakMap,Gn=new WeakMap,Cm=new WeakMap,_m=new WeakMap,gc=new WeakMap,io=new WeakMap,Tm=new WeakMap,km=new WeakMap,yc=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,Pa=new WeakMap,eh=new WeakMap,Pm=new WeakMap,th=new WeakMap,vc=new WeakMap,Rm=new WeakMap,Nm=new WeakMap,nh=new WeakMap,wc=new WeakMap,Mm=new WeakMap,Ra=new WeakMap,rh=new WeakMap,Bo=new WeakSet,R2=function(e){var s,i;if(a(this,Cm))return;(i=a(this,io)).ctx??(i.ctx=E(s=yt,Pr,Gy).call(s,a(this,gc)));const t=a(this,vc),r=a(this,Pm);for(const o of e){if(t.length>q4){oe("Ignoring additional textDivs for performance reasons."),y(this,Cm,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=a(this,Gn);y(this,Gn,document.createElement("span")),a(this,Gn).classList.add("markedContent"),o.id&&a(this,Gn).setAttribute("id",`${o.id}`),l.append(a(this,Gn))}else o.type==="endMarkedContent"&&y(this,Gn,a(this,Gn).parentNode);continue}r.push(o.str),E(this,Bo,N2).call(this,o)}},N2=function(e){var m;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};a(this,vc).push(t);const s=Q.transform(a(this,Nm),e.transform);let i=Math.atan2(s[1],s[0]);const o=a(this,eh)[e.fontName];o.vertical&&(i+=Math.PI/2);let l=a(this,_m)&&o.fontSubstitution||o.fontFamily;l=yt.fontFamilyMap.get(l)||l;const c=Math.hypot(s[2],s[3]),u=c*E(m=yt,Pr,D2).call(m,l,o,a(this,gc));let d,h;i===0?(d=s[4],h=s[5]-u):(d=s[4]+u*Math.sin(i),h=s[5]-u*Math.cos(i));const f="calc(var(--total-scale-factor) *",p=t.style;a(this,Gn)===a(this,Zd)?(p.left=`${(100*d/a(this,km)).toFixed(2)}%`,p.top=`${(100*h/a(this,Tm)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(a(yt,Ra)*c).toFixed(2)}px)`,p.fontFamily=l,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,a(this,_m)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);x!==g&&Math.max(x,g)/Math.min(x,g)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),a(this,Rm).set(t,r),a(this,io).div=t,a(this,io).properties=r,E(this,Bo,t1).call(this,a(this,io)),r.hasText&&a(this,Gn).append(t),r.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),a(this,Gn).append(x)}},t1=function(e){var l;const{div:t,properties:r,ctx:s}=e,{style:i}=t;let o="";if(a(yt,Ra)>1&&(o=`scale(${1/a(yt,Ra)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=i,{canvasWidth:u,fontSize:d}=r;E(l=yt,Pr,n1).call(l,s,d*a(this,Pa),c);const{width:h}=s.measureText(t.textContent);h>0&&(o=`scaleX(${u*a(this,Pa)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(i.transform=o)},Pr=new WeakSet,Gy=function(e=null){let t=a(this,wc).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),a(this,wc).set(e,t),a(this,Mm).set(t,{size:0,family:""})}return t},n1=function(e,t,r){const s=a(this,Mm).get(e);t===s.size&&r===s.family||(e.font=`${t}px ${r}`,s.size=t,s.family=r)},M2=function(){if(a(this,Ra)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),y(this,Ra,e.getBoundingClientRect().height),e.remove()},D2=function(e,t,r){const s=a(this,nh).get(e);if(s)return s;const i=E(this,Pr,Gy).call(this,r);i.canvas.width=i.canvas.height=e_,E(this,Pr,n1).call(this,i,e_,e);const o=i.measureText(""),l=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let u=.8;return l?u=l/(l+c):(Gt.platform.isFirefox&&oe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),a(this,nh).set(e,u),u},S(yt,Pr),S(yt,nh,new Map),S(yt,wc,new Map),S(yt,Mm,new WeakMap),S(yt,Ra,null),S(yt,rh,new Set),yt);const X4=100;function gS(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new r1,{docId:t}=e,r=n.url?n4(n.url):null,s=n.data?r4(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,c=n.range instanceof yS?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof Kh?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Rg(n.docBaseUrl)?n.docBaseUrl:null,p=ay(n.cMapUrl),v=n.cMapPacked!==!1,m=n.CMapReaderFactory||(Rn?u4:zC),x=ay(n.iccUrl),g=ay(n.standardFontDataUrl),w=n.StandardFontDataFactory||(Rn?d4:$C),A=ay(n.wasmUrl),C=n.WasmFactory||(Rn?h4:UC),T=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Rn,N=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Rn&&(Gt.platform.isFirefox||!globalThis.chrome),D=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,M=typeof n.disableFontFace=="boolean"?n.disableFontFace:Rn,O=n.fontExtraProperties===!0,$=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,W=n.disableRange===!0,j=n.disableStream===!0,B=n.disableAutoFetch===!0,L=n.pdfBug===!0,F=n.CanvasFactory||(Rn?c4:o4),H=n.FilterFactory||(Rn?l4:a4),ne=n.enableHWA===!0,V=n.useWasm!==!1,X=c?c.length:n.length??NaN,re=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Rn&&!M,me=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===zC&&w===$C&&C===UC&&p&&g&&A&&Tf(p,document.baseURI)&&Tf(g,document.baseURI)&&Tf(A,document.baseURI)),be=null;F3(h);const te={canvasFactory:new F({ownerDocument:I,enableHWA:ne}),filterFactory:new H({docId:t,ownerDocument:I}),cMapReaderFactory:me?null:new m({baseUrl:p,isCompressed:v}),standardFontDataFactory:me?null:new w({baseUrl:g}),wasmFactory:me?null:new C({baseUrl:A})};d||(d=Kh.create({verbosity:h,port:Kr.workerPort}),e._worker=d);const An={docId:t,apiVersion:"5.4.296",data:s,password:l,disableAutoFetch:B,rangeChunkSize:u,length:X,docBaseUrl:f,enableXfa:$,evaluatorOptions:{maxImageSize:k,disableFontFace:M,ignoreErrors:T,isEvalSupported:P,isOffscreenCanvasSupported:R,isImageDecoderSupported:N,canvasMaxAreaInBytes:D,fontExtraProperties:O,useSystemFonts:re,useWasm:V,useWorkerFetch:me,cMapUrl:p,iccUrl:x,standardFontDataUrl:g,wasmUrl:A}},ut={ownerDocument:I,pdfBug:L,styleElement:be,loadingParams:{disableAutoFetch:B,enableXfa:$}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const we=d.messageHandler.sendWithPromise("GetDocRequest",An,s?[s.buffer]:null);let dt;if(c)dt=new R4(c,{disableRange:W,disableStream:j});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");const an=Tf(r)?L4:Rn?V4:B4;dt=new an({url:r,length:X,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:W,disableStream:j})}return we.then(an=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const pe=new Df(t,an,d.port),Te=new Q4(pe,e,dt,ut,te,ne);e._transport=Te,pe.send("Ready",null)})}).catch(e._capability.reject),e}var g0;const y0=class y0{constructor(){z(this,"_capability",Promise.withResolvers());z(this,"_transport",null);z(this,"_worker",null);z(this,"docId",`d${ht(y0,g0)._++}`);z(this,"destroyed",!1);z(this,"onPassword",null);z(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};g0=new WeakMap,S(y0,g0,0);let r1=y0;var xc,Dm,Lm,Im,Om,N_;let yS=(N_=class{constructor(e,t,r=!1,s=null){S(this,xc,Promise.withResolvers());S(this,Dm,[]);S(this,Lm,[]);S(this,Im,[]);S(this,Om,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=s}addRangeListener(e){a(this,Om).push(e)}addProgressListener(e){a(this,Im).push(e)}addProgressiveReadListener(e){a(this,Lm).push(e)}addProgressiveDoneListener(e){a(this,Dm).push(e)}onDataRange(e,t){for(const r of a(this,Om))r(e,t)}onDataProgress(e,t){a(this,xc).promise.then(()=>{for(const r of a(this,Im))r(e,t)})}onDataProgressiveRead(e){a(this,xc).promise.then(()=>{for(const t of a(this,Lm))t(e)})}onDataProgressiveDone(){a(this,xc).promise.then(()=>{for(const e of a(this,Dm))e()})}transportReady(){a(this,xc).resolve()}requestDataRange(e,t){$e("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},xc=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,Im=new WeakMap,Om=new WeakMap,N_);class Y4{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var oo,bc,zf;class K4{constructor(e,t,r,s=!1){S(this,bc);S(this,oo,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=s?new DC:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new P2,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:i=!1}={}){return new Pg({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:s="display",annotationMode:i=xi.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:v=null}){var N,D,M;(N=this._stats)==null||N.time("Overall");const m=this._transport.getRenderingIntent(s,i,h,f),{renderingIntent:x,cacheKey:g}=m;y(this,oo,!1),c||(c=this._transport.getOptionalContentConfig(x));let w=this._intentStates.get(g);w||(w=Object.create(null),this._intentStates.set(g,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const A=!!(x&br.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(m));const C=!!(this._pdfBug&&((M=globalThis.StepperManager)!=null&&M.enabled)),T=!this.recordedBBoxes&&(p||C),k=O=>{var $,I;if(w.renderTasks.delete(P),T){const W=($=P.gfx)==null?void 0:$.dependencyTracker.take();W&&(P.stepper&&P.stepper.setOperatorBBoxes(W,P.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=W))}A&&y(this,oo,!0),E(this,bc,zf).call(this),O?(P.capability.reject(O),this._abortOperatorList({intentState:w,reason:O instanceof Error?O:new Error(O)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new s1({callback:k,params:{canvas:t,canvasContext:e,dependencyTracker:T?new p4(t,w.operatorList.length,C):null,viewport:r,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:v});(w.renderTasks||(w.renderTasks=new Set)).add(P);const R=P.task;return Promise.all([w.displayReadyCapability.promise,c]).then(([O,$])=>{var I;if(this.destroyed){k();return}if((I=this._stats)==null||I.time("Rendering"),!($.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:O,optionalContentConfig:$}),P.operatorListChanged()}).catch(k),R}getOperatorList({intent:e="display",annotationMode:t=xi.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){var u;function i(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,r,s,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Rp.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,s){function i(){o.read().then(function({value:c,done:u}){if(u){r(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),i()},s)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),y(this,oo,!1),Promise.all(e)}cleanup(e=!1){y(this,oo,!0);const t=E(this,bc,zf).call(this);return e&&t&&this._stats&&(this._stats=new DC),t}_startRenderPage(e,t){var s,i;const r=this._intentStates.get(t);r&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=r.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let r=0,s=e.length;r<s;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&E(this,bc,zf).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:s}){const{map:i,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();E(this,bc,zf).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof rw){let s=X4;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new Io(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}oo=new WeakMap,bc=new WeakSet,zf=function(){if(!a(this,oo)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y(this,oo,!1),!0};var Na,xs,ao,Ac,v0,Sc,Ec,Dn,qy,L2,I2,$f,sh,Xy;const Ke=class Ke{constructor({name:e=null,port:t=null,verbosity:r=j3()}={}){S(this,Dn);S(this,Na,Promise.withResolvers());S(this,xs,null);S(this,ao,null);S(this,Ac,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(a(Ke,Ec).has(t))throw new Error("Cannot use more than one PDFWorker per port.");a(Ke,Ec).set(t,this),E(this,Dn,L2).call(this,t)}else E(this,Dn,I2).call(this)}get promise(){return a(this,Na).promise}get port(){return a(this,ao)}get messageHandler(){return a(this,xs)}destroy(){var e,t;this.destroyed=!0,(e=a(this,Ac))==null||e.terminate(),y(this,Ac,null),a(Ke,Ec).delete(a(this,ao)),y(this,ao,null),(t=a(this,xs))==null||t.destroy(),y(this,xs,null)}static create(e){const t=a(this,Ec).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ke(e)}static get workerSrc(){if(Kr.workerSrc)return Kr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return de(this,"_setupFakeWorkerGlobal",(async()=>a(this,sh,Xy)?a(this,sh,Xy):(await import(this.workerSrc)).WorkerMessageHandler)())}};Na=new WeakMap,xs=new WeakMap,ao=new WeakMap,Ac=new WeakMap,v0=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,Dn=new WeakSet,qy=function(){a(this,Na).resolve(),a(this,xs).send("configure",{verbosity:this.verbosity})},L2=function(e){y(this,ao,e),y(this,xs,new Df("main","worker",e)),a(this,xs).on("ready",()=>{}),E(this,Dn,qy).call(this)},I2=function(){if(a(Ke,Sc)||a(Ke,sh,Xy)){E(this,Dn,$f).call(this);return}let{workerSrc:e}=Ke;try{Ke._isSameOrigin(window.location,e)||(e=Ke._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Df("main","worker",t),s=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?a(this,Na).reject(new Error("Worker was destroyed")):E(this,Dn,$f).call(this)},i=new AbortController;t.addEventListener("error",()=>{a(this,Ac)||s()},{signal:i.signal}),r.on("test",l=>{if(i.abort(),this.destroyed||!l){s();return}y(this,xs,r),y(this,ao,t),y(this,Ac,t),E(this,Dn,qy).call(this)}),r.on("ready",l=>{if(i.abort(),this.destroyed){s();return}try{o()}catch{E(this,Dn,$f).call(this)}});const o=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};o();return}catch{nw("The worker has been disabled.")}E(this,Dn,$f).call(this)},$f=function(){a(Ke,Sc)||(oe("Setting up fake worker."),y(Ke,Sc,!0)),Ke._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){a(this,Na).reject(new Error("Worker was destroyed"));return}const t=new i4;y(this,ao,t);const r=`fake${ht(Ke,v0)._++}`,s=new Df(r+"_worker",r,t);e.setup(s,t),y(this,xs,new Df(r,r+"_worker",t)),E(this,Dn,qy).call(this)}).catch(e=>{a(this,Na).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},sh=new WeakSet,Xy=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(Ke,sh),S(Ke,v0,0),S(Ke,Sc,!1),S(Ke,Ec,new WeakMap),Rn&&(y(Ke,Sc,!0),Kr.workerSrc||(Kr.workerSrc="./pdf.worker.mjs")),Ke._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const s=new URL(t,r);return r.origin===s.origin},Ke._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Ke.fromPort=e=>{if(q3("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ke.create(e)};let Kh=Ke;var lo,ci,ih,oh,co,Cc,Uf;class Q4{constructor(e,t,r,s,i,o){S(this,Cc);S(this,lo,new Map);S(this,ci,new Map);S(this,ih,new Map);S(this,oh,new Map);S(this,co,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new P2,this.fontLoader=new e4({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return de(this,"annotationStorage",new fS)}getRenderingIntent(e,t=xi.ENABLE,r=null,s=!1,i=!1){let o=br.DISPLAY,l=$b;switch(e){case"any":o=br.ANY;break;case"display":break;case"print":o=br.PRINT;break;default:oe(`getRenderingIntent - invalid intent: ${e}`)}const c=o&br.PRINT&&r instanceof h2?r:this.annotationStorage;switch(t){case xi.DISABLE:o+=br.ANNOTATIONS_DISABLE;break;case xi.ENABLE:break;case xi.ENABLE_FORMS:o+=br.ANNOTATIONS_FORMS;break;case xi.ENABLE_STORAGE:o+=br.ANNOTATIONS_STORAGE,l=c.serializable;break;default:oe(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=br.IS_EDITING),i&&(o+=br.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,l.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=a(this,co))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of a(this,ci).values())e.push(s._destroy());a(this,ci).clear(),a(this,ih).clear(),a(this,oh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,i;this.commonObjs.clear(),this.fontLoader.clear(),a(this,lo).clear(),this.filterFactory.destroy(),Dp.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Io("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,s)=>{xe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){s.close();return}xe(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:o}=this._fullReader;return(!s||!i)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(r,s)=>{xe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:o,done:l}){if(l){s.close();return}xe(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{i.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Y4(r,this))}),e.on("DocException",r=>{t._capability.reject(zn(r))}),e.on("PasswordRequest",r=>{y(this,co,Promise.withResolvers());try{if(!t.onPassword)throw zn(r);const s=i=>{i instanceof Error?a(this,co).reject(i):a(this,co).resolve({password:i})};t.onPassword(s,r.code)}catch(s){a(this,co).reject(s)}return a(this,co).promise}),e.on("DataLoaded",r=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;a(this,ci).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,i])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":if("error"in i){const h=i.error;oe(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const l=new Zb(i),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new t4(l,c,i.extra,i.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:d}=i;xe(d,"The imageRef must be defined.");for(const h of a(this,ci).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===d)return f.dataLen?(this.commonObjs.resolve(r,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,i,o])=>{var c;if(this.destroyed)return;const l=a(this,ci).get(s);if(!l.objs.has(r)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(i){case"Image":case"Pattern":l.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[r.type];if(!s)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=a(this,ih).get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&a(this,oh).set(i.refStr,e);const o=new K4(t,i,this,this._params.pdfBug);return a(this,ci).set(t,o),o});return a(this,ih).set(t,s),s}getPageIndex(e){return Ub(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,Cc,Uf).call(this,"GetFieldObjects")}hasJSActions(){return E(this,Cc,Uf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return E(this,Cc,Uf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,Cc,Uf).call(this,"GetOptionalContentConfig").then(t=>new P4(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=a(this,lo).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(s=>{var i,o;return{info:s[0],metadata:s[1]?new T4(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return a(this,lo).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of a(this,ci).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),a(this,lo).clear(),this.filterFactory.destroy(!0),Dp.cleanup()}}cachedPageNumber(e){if(!Ub(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,oh).get(t)??null}}lo=new WeakMap,ci=new WeakMap,ih=new WeakMap,oh=new WeakMap,co=new WeakMap,Cc=new WeakSet,Uf=function(e,t=null){const r=a(this,lo).get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,t);return a(this,lo).set(e,s),s};var Ma;class Z4{constructor(e){S(this,Ma,null);z(this,"onContinue",null);z(this,"onError",null);y(this,Ma,e)}get promise(){return a(this,Ma).capability.promise}cancel(e=0){a(this,Ma).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=a(this,Ma).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=a(this,Ma);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ma=new WeakMap;var Da,_c;const Nl=class Nl{constructor({callback:e,params:t,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:v=null}){S(this,Da,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Z4(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,u;if(this.cancelled)return;if(this._canvas){if(a(Nl,_c).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(Nl,_c).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:s,background:i,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new nd(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,s,i;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),a(this,Da)&&(window.cancelAnimationFrame(a(this,Da)),y(this,Da,null)),a(Nl,_c).delete(this._canvas),e||(e=new rw(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(s=this.task).onError)==null||i.call(s,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?y(this,Da,window.requestAnimationFrame(()=>{y(this,Da,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),a(Nl,_c).delete(this._canvas),this.callback())))}};Da=new WeakMap,_c=new WeakMap,S(Nl,_c,new WeakSet);let s1=Nl;const vS="5.4.296",O2="f56dc8601";var cr,Tc,ah,Mt,Fm,lh,uo,jm,La,bs,Bm,Oe,i1,o1,a1,Tl,F2,Ko;const $n=class $n{constructor({editor:e=null,uiManager:t=null}){S(this,Oe);S(this,cr,null);S(this,Tc,null);S(this,ah);S(this,Mt,null);S(this,Fm,!1);S(this,lh,!1);S(this,uo,null);S(this,jm);S(this,La,null);S(this,bs,null);var r,s;e?(y(this,lh,!1),y(this,uo,e)):y(this,lh,!0),y(this,bs,(e==null?void 0:e._uiManager)||t),y(this,jm,a(this,bs)._eventBus),y(this,ah,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((s=a(this,bs))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),a($n,Bm)||y($n,Bm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return de(this,"_keyboardManager",new Ng([[["Escape","mac+Escape"],$n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],$n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],$n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],$n.prototype._moveToPrevious],[["Home","mac+Home"],$n.prototype._moveToBeginning],[["End","mac+End"],$n.prototype._moveToEnd]]))}renderButton(){const e=y(this,cr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",a(this,uo)&&(e.ariaControls=`${a(this,uo).id}_colorpicker_dropdown`);const t=a(this,bs)._signal;e.addEventListener("click",E(this,Oe,Tl).bind(this),{signal:t}),e.addEventListener("keydown",E(this,Oe,a1).bind(this),{signal:t});const r=y(this,Tc,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=a(this,ah),e.append(r),e}renderMainDropdown(){const e=y(this,Mt,E(this,Oe,i1).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===a(this,cr)){E(this,Oe,Tl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,Oe,o1).call(this,t,e)}_moveToNext(e){var t,r;if(!a(this,Oe,Ko)){E(this,Oe,Tl).call(this,e);return}if(e.target===a(this,cr)){(t=a(this,Mt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=a(this,Mt))==null?void 0:t.firstChild)||e.target===a(this,cr)){a(this,Oe,Ko)&&this._hideDropdownFromKeyboard();return}a(this,Oe,Ko)||E(this,Oe,Tl).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!a(this,Oe,Ko)){E(this,Oe,Tl).call(this,e);return}(t=a(this,Mt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!a(this,Oe,Ko)){E(this,Oe,Tl).call(this,e);return}(t=a(this,Mt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=a(this,Mt))==null||e.classList.add("hidden"),a(this,cr).ariaExpanded="false",(t=a(this,La))==null||t.abort(),y(this,La,null)}_hideDropdownFromKeyboard(){var e;if(!a(this,lh)){if(!a(this,Oe,Ko)){(e=a(this,uo))==null||e.unselect();return}this.hideDropdown(),a(this,cr).focus({preventScroll:!0,focusVisible:a(this,Fm)})}}updateColor(e){if(a(this,Tc)&&(a(this,Tc).style.backgroundColor=e),!a(this,Mt))return;const t=a(this,bs).highlightColors.values();for(const r of a(this,Mt).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=a(this,cr))==null||e.remove(),y(this,cr,null),y(this,Tc,null),(t=a(this,Mt))==null||t.remove(),y(this,Mt,null)}};cr=new WeakMap,Tc=new WeakMap,ah=new WeakMap,Mt=new WeakMap,Fm=new WeakMap,lh=new WeakMap,uo=new WeakMap,jm=new WeakMap,La=new WeakMap,bs=new WeakMap,Bm=new WeakMap,Oe=new WeakSet,i1=function(){const e=document.createElement("div"),t=a(this,bs)._signal;e.addEventListener("contextmenu",Nr,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),a(this,uo)&&(e.id=`${a(this,uo).id}_colorpicker_dropdown`);for(const[r,s]of a(this,bs).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=r,i.setAttribute("data-l10n-id",a($n,Bm)[r]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=s,i.ariaSelected=s===a(this,ah),i.addEventListener("click",E(this,Oe,o1).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",E(this,Oe,a1).bind(this),{signal:t}),e},o1=function(e,t){t.stopPropagation(),a(this,jm).dispatch("switchannotationeditorparams",{source:this,type:ve.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},a1=function(e){$n._keyboardManager.exec(this,e)},Tl=function(e){if(a(this,Oe,Ko)){this.hideDropdown();return}if(y(this,Fm,e.detail===0),a(this,La)||(y(this,La,new AbortController),window.addEventListener("pointerdown",E(this,Oe,F2).bind(this),{signal:a(this,bs).combinedSignal(a(this,La))})),a(this,cr).ariaExpanded="true",a(this,Mt)){a(this,Mt).classList.remove("hidden");return}const t=y(this,Mt,E(this,Oe,i1).call(this));a(this,cr).append(t)},F2=function(e){var t;(t=a(this,Mt))!=null&&t.contains(e.target)||this.hideDropdown()},Ko=function(){return a(this,Mt)&&!a(this,Mt).classList.contains("hidden")},S($n,Bm,null);let Lp=$n;var ui,zm,ch,$m;const Ml=class Ml{constructor(e){S(this,ui,null);S(this,zm,null);S(this,ch,null);y(this,zm,e),y(this,ch,e._uiManager),a(Ml,$m)||y(Ml,$m,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(a(this,ui))return a(this,ui);const{editorType:e,colorType:t,colorValue:r}=a(this,zm),s=y(this,ui,document.createElement("input"));return s.type="color",s.value=r||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",a(Ml,$m)[e]),s.addEventListener("input",()=>{a(this,ch).updateParams(t,s.value)},{signal:a(this,ch)._signal}),s}update(e){a(this,ui)&&(a(this,ui).value=e)}destroy(){var e;(e=a(this,ui))==null||e.remove(),y(this,ui,null)}hideDropdown(){}};ui=new WeakMap,zm=new WeakMap,ch=new WeakMap,$m=new WeakMap,S(Ml,$m,null);let e0=Ml;function t_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function bf(n){return Math.max(0,Math.min(255,255*n))}class n_{static CMYK_G([e,t,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=bf(e),[e,e,e]}static G_HTML([e]){const t=t_(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(bf)}static RGB_HTML(e){return`#${e.map(t_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,r,s]){return[bf(1-Math.min(1,e+s)),bf(1-Math.min(1,r+s)),bf(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const s=1-e,i=1-t,o=1-r,l=Math.min(s,i,o);return["CMYK",s,i,o,l]}}class J4{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){$e("Abstract method `_createSVG` called.")}}class Ip extends J4{_createSVG(e){return document.createElementNS(Li,e)}}const e5=9,lu=new WeakSet,t5=new Date().getTimezoneOffset()*60*1e3;class r_{static create(e){switch(e.data.annotationType){case xt.LINK:return new wS(e);case xt.TEXT:return new r5(e);case xt.WIDGET:switch(e.data.fieldType){case"Tx":return new s5(e);case"Btn":return e.data.radioButton?new z2(e):e.data.checkBox?new o5(e):new a5(e);case"Ch":return new l5(e);case"Sig":return new i5(e)}return new pu(e);case xt.POPUP:return new c1(e);case xt.FREETEXT:return new W2(e);case xt.LINE:return new u5(e);case xt.SQUARE:return new d5(e);case xt.CIRCLE:return new h5(e);case xt.POLYLINE:return new G2(e);case xt.CARET:return new p5(e);case xt.INK:return new xS(e);case xt.POLYGON:return new f5(e);case xt.HIGHLIGHT:return new q2(e);case xt.UNDERLINE:return new m5(e);case xt.SQUIGGLY:return new g5(e);case xt.STRIKEOUT:return new y5(e);case xt.STAMP:return new X2(e);case xt.FILEATTACHMENT:return new v5(e);default:return new lt(e)}}}var kc,uh,Wr,Um,l1;const NS=class NS{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){S(this,Um);S(this,kc,null);S(this,uh,!1);S(this,Wr,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return NS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var l;const e=(l=this.annotationStorage)==null?void 0:l.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:s}=this.data;let i=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],i=t[c+2]):t[c+1]===o&&(i=Math.max(i,t[c+2]));return[i,o]}if((r==null?void 0:r.length)>=1){for(const c of r)for(let u=0,d=c.length;u<d;u+=2)c[u+1]>o?(o=c[u+1],i=c[u]):c[u+1]===o&&(i=Math.max(i,c[u]));if(i!==1/0)return[i,o]}return s?[s[2],s[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/r,e[1]=100*(e[1]-o)/s,e}get commentText(){var t,r,s;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${kp}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((s=e.contentsObj)==null?void 0:s.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${kp}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=a(this,Wr))==null?void 0:e.popup)||this.popup)==null||t.remove(),y(this,Wr,this.popup=null)}updateEdited(e){var i;if(!this.container)return;e.rect&&(a(this,kc)||y(this,kc,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&E(this,Um,l1).call(this,t);let s=((i=a(this,Wr))==null?void 0:i.popup)||this.popup;!s&&(r!=null&&r.text)&&(this._createPopup(r),s=a(this,Wr).popup),s&&(s.updateEdited(e),r!=null&&r.deleted&&(s.remove(),y(this,Wr,null),this.popup=null))}resetEdited(){var e;a(this,kc)&&(E(this,Um,l1).call(this,a(this,kc).rect),(e=a(this,Wr))==null||e.popup.resetEdited(),y(this,kc,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),!(this instanceof pu)&&!(this instanceof wS)&&(i.tabIndex=0);const{style:o}=i;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof c1){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,i),i}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(m>0||x>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof z2){const w=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case Au.SOLID:o.borderStyle="solid";break;case Au.DASHED:o.borderStyle="dashed";break;case Au.BEVELED:oe("Unimplemented border style: beveled");break;case Au.INSET:oe("Unimplemented border style: inset");break;case Au.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(y(this,uh,!0),o.borderColor=Q.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=Q.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*l/d}%`,o.height=`${100*c/h}%`):this.setRotation(v,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims;let{width:i,height:o}=this;e%180!==0&&([i,o]=[o,i]),t.style.width=`${100*i/r}%`,t.style.height=`${100*o/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,s)=>{const i=s.detail[t],o=i[0],l=i.slice(1);s.target.style[r]=n_[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:n_[`${o}_rgb`](l)})};return de(this,"_commonActions",{display:t=>{const{display:r}=t.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||r[s];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[s,i]of Object.entries(t)){const o=r[s];if(o){const l={detail:{[s]:i},target:e};o(l),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,s,i]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,x,g,w]=e.subarray(2,6);if(s===m&&i===x&&t===g&&r===w)return}const{style:o}=this.container;let l;if(a(this,uh)){const{borderColor:m,borderWidth:x}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const c=s-t,u=i-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,x=e.length;m<x;m+=8){const g=e[m],w=e[m+1],A=e[m+2],C=e[m+3],T=d.createElement("rect"),k=(A-t)/c,P=(i-w)/u,R=(g-A)/c,N=(w-C)/u;T.setAttribute("x",k),T.setAttribute("y",P),T.setAttribute("width",R),T.setAttribute("height",N),p.append(T),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${R}" height="${N}"/>`)}a(this,uh)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let r,s;e?(r={str:e.text},s=e.date):(r=t.contentsObj,s=t.modificationDate);const i=y(this,Wr,new c1({data:{color:t.color,titleObj:t.titleObj,modificationDate:s,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(i.render())}get hasPopupElement(){return!!(a(this,Wr)||this.popup||this.data.popupRef)}get extraPopupElement(){return a(this,Wr)}render(){$e("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:o,exportValues:l}of s){if(i===-1||o===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!lu.has(u)){oe(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:u})}return r}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,o=s.getAttribute("data-element-id");o!==t&&lu.has(s)&&r.push({id:o,exportValue:i,domElement:s})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};kc=new WeakMap,uh=new WeakMap,Wr=new WeakMap,Um=new WeakSet,l1=function(e){const{container:{style:t},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:l,pageY:c}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-l)/i}%`,t.top=`${100*(o-e[3]+c)/o}%`,s===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(s)};let lt=NS;class n5 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Cr,kl,j2,B2;class wS extends lt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});S(this,Cr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(r.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action,t.overlaidText),i=!0):t.attachment?(E(this,Cr,j2).call(this,s,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(E(this,Cr,B2).call(this,s,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(s,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}_bindLink(t,r,s=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&E(this,Cr,kl).call(this),s&&(t.title=s)}_bindNamedAction(t,r,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),s&&(t.title=s),E(this,Cr,kl).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(r.actions)){const o=s.get(i);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:i}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),E(this,Cr,kl).call(this)}_bindResetFormAction(t,r){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),E(this,Cr,kl).call(this),!this._fieldObjects){oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var h;s==null||s();const{fields:i,refs:o,include:l}=r,c=[];if(i.length!==0||o.length!==0){const f=new Set(o);for(const p of i){const v=this._fieldObjects[p]||[];for(const{id:m}of v)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===l&&c.push(v)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!lu.has(v)){oe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Cr=new WeakSet,kl=function(){this.container.setAttribute("data-internal-link","")},j2=function(t,r,s="",i=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:s&&(t.title=s),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,i),!1},E(this,Cr,kl).call(this)},B2=function(t,r,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),s&&(t.title=s),E(this,Cr,kl).call(this)};class r5 extends lt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class pu extends lt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Gt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,s,i){r.includes("mouse")?e.addEventListener(r,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var l;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}i&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o)}}))})}_setEventListeners(e,t,r,s){var i,o,l;for(const[c,u]of r)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Q.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||e5,i=e.style;let o;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(Qw*s))||1,h=u/d;o=Math.min(s,c(h/Qw))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(s,c(u/Qw))}i.fontSize=`calc(${o}px * var(--total-scale-factor))`,i.color=Q.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class s5 extends pu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,s){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),i.setValue(o.id,{[s]:r})}render(){var s,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??l,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??l),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),lu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,v=!!f&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",x=>{e.setValue(t,{value:x.target.value}),this.setPropertyOnSiblings(r,"value",x.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",x=>{const g=this.data.defaultFieldValue??"";r.value=d.userValue=g,d.formattedValue=null});let m=x=>{const{formattedValue:g}=d;g!=null&&(x.target.value=g),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",g=>{var A;if(d.focused)return;const{target:w}=g;if(v&&(w.type=f,p&&(w.step=p)),d.userValue){const C=d.userValue;if(v)if(f==="time"){const T=new Date(C),k=[T.getHours(),T.getMinutes(),T.getSeconds()];w.value=k.map(P=>P.toString().padStart(2,"0")).join(":")}else w.value=new Date(C-t5).toISOString().split(f==="date"?"T":".",1)[0];else w.value=C}d.lastCommittedValue=w.value,d.commitKey=1,(A=this.data.actions)!=null&&A.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const w={value(A){d.userValue=A.detail.value??"",v||e.setValue(t,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:C}=A.detail;d.formattedValue=C,C!=null&&A.target!==document.activeElement&&(A.target.value=C);const T={formattedValue:C};v&&(T.value=C),e.setValue(t,T)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{var P;const{charLimit:C}=A.detail,{target:T}=A;if(C===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",C);let k=d.userValue;!k||k.length<=C||(k=k.slice(0,C),T.value=d.userValue=k,e.setValue(t,{value:k}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(w,g)}),r.addEventListener("keydown",g=>{var C;d.commitKey=1;let w=-1;if(g.key==="Escape"?w=0:g.key==="Enter"&&!this.data.multiLine?w=2:g.key==="Tab"&&(d.commitKey=3),w===-1)return;const{value:A}=g.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:w,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const x=m;m=null,r.addEventListener("blur",g=>{var C,T;if(!d.focused||!g.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(d.focused=!1);const{target:w}=g;let{value:A}=w;if(v){if(A&&f==="time"){const k=A.split(":").map(P=>parseInt(P,10));A=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),w.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();w.type="text"}d.userValue=A,d.lastCommittedValue!==A&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:d.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),x(g)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",g=>{var N;d.lastCommittedValue=null;const{data:w,target:A}=g,{value:C,selectionStart:T,selectionEnd:k}=A;let P=T,R=k;switch(g.inputType){case"deleteWordBackward":{const D=C.substring(0,T).match(/\w*[^\w]*$/);D&&(P-=D[0].length);break}case"deleteWordForward":{const D=C.substring(T).match(/^[^\w]*\w*/);D&&(R+=D[0].length);break}case"deleteContentBackward":T===k&&(P-=1);break;case"deleteContentForward":T===k&&(R+=1);break}g.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:w||"",willCommit:!1,selStart:P,selEnd:R}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&r.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class i5 extends pu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class o5 extends pu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return lu.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,r)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:c})}),i.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class z2 extends pu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(r,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(lu.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:c})}),i.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class a5 extends wS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class l5 extends pu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");lu.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),s.append(h)}let o=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),o=()=>{d.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const l=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=l(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const m of s.options)m.selected=v.has(m.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,v=f.detail.remove;p[v].selected=!1,s.remove(v),p.length>0&&Array.prototype.findIndex.call(p,x=>x.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(f){const{index:p,displayValue:v,exportValue:m}=f.detail.insert,x=s.children[p],g=document.createElement("option");g.textContent=v,g.value=m,x?x.before(g):s.append(g),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const v of p){const{displayValue:m,exportValue:x}=v,g=document.createElement("option");g.textContent=m,g.value=x,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},indices(f){const p=new Set(f.detail.indices);for(const v of f.target.options)v.selected=p.has(v.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),s.addEventListener("input",d=>{var p;const h=l(!0),f=l(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}var Hm,u1;class c1 extends lt{constructor(t){const{data:r,elements:s,parent:i}=t,o=!!i._commentManager;super(t,{isRenderable:!o&&lt._hasPopupData(r)});S(this,Hm);if(this.elements=s,o&&lt._hasPopupData(r)){const l=this.popup=E(this,Hm,u1).call(this);for(const c of s)c.popup=l}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=E(this,Hm,u1).call(this),s=[];for(const i of this.elements)i.popup=r,i.container.ariaHasPopup="dialog",s.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(i=>`${uS}${i}`).join(",")),this.container}}Hm=new WeakSet,u1=function(){return new c5({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ur,Ia,w0,x0,dh,hh,gt,di,Oa,Pc,fh,ph,hi,dr,ho,fo,jt,po,Fa,Vm,mo,mh,Rc,ja,gn,Ba,fe,Yy,d1,h1,f1,Ky,p1,$2,U2,H2,V2,Qy,Zy,m1;class c5{constructor({container:e,color:t,elements:r,titleObj:s,modificationDate:i,contentsObj:o,richText:l,parent:c,rect:u,parentRect:d,open:h,commentManager:f=null}){S(this,fe);S(this,ur,null);S(this,Ia,E(this,fe,H2).bind(this));S(this,w0,E(this,fe,m1).bind(this));S(this,x0,E(this,fe,Zy).bind(this));S(this,dh,E(this,fe,Qy).bind(this));S(this,hh,null);S(this,gt,null);S(this,di,null);S(this,Oa,null);S(this,Pc,null);S(this,fh,null);S(this,ph,null);S(this,hi,!1);S(this,dr,null);S(this,ho,null);S(this,fo,null);S(this,jt,null);S(this,po,null);S(this,Fa,null);S(this,Vm,null);S(this,mo,null);S(this,mh,null);S(this,Rc,null);S(this,ja,!1);S(this,gn,null);S(this,Ba,null);y(this,gt,e),y(this,mh,s),y(this,di,o),y(this,mo,l),y(this,fh,c),y(this,hh,t),y(this,Vm,u),y(this,ph,d),y(this,Pc,r),y(this,ur,f),y(this,gn,r[0]),y(this,Oa,Np.toDateObject(i)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(E(this,fe,Yy).call(this),a(this,gt).hidden=!0,h&&E(this,fe,Qy).call(this))}renderCommentButton(){if(a(this,jt)||(a(this,po)||E(this,fe,d1).call(this),!a(this,po)))return;const{signal:e}=y(this,ho,new AbortController),t=!!a(this,gn).extraPopupElement,r=()=>{a(this,ur).toggleCommentPopup(this,!0,void 0,!t)},s=()=>{a(this,ur).toggleCommentPopup(this,!1,!0,!t)},i=()=>{a(this,ur).toggleCommentPopup(this,!1,!1)};if(t){y(this,jt,a(this,gn).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",a(this,Ia),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",s,{signal:e}),o.addEventListener("pointerleave",i,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=y(this,jt,document.createElement("button"));o.className="annotationCommentButton";const l=a(this,gn).container;o.style.zIndex=l.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),E(this,fe,f1).call(this),E(this,fe,h1).call(this),o.addEventListener("keydown",a(this,Ia),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",s,{signal:e}),o.addEventListener("pointerleave",i,{signal:e}),l.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=a(this,gn).commentData;return e?a(this,fh)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=a(this,jt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:s,modificationDate:i}=a(this,gn).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:s,modificationDate:i}}get elementBeforePopup(){return a(this,jt)}get comment(){return a(this,Ba)||y(this,Ba,a(this,gn).commentText),a(this,Ba)}set comment(e){e!==this.comment&&(a(this,gn).commentText=y(this,Ba,e))}get parentBoundingClientRect(){return a(this,gn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){a(this,jt)&&(a(this,jt).classList.toggle("selected",e),a(this,jt).ariaExpanded=t)}setSelectedCommentButton(e){a(this,jt).classList.toggle("selected",e)}get commentPopupPosition(){if(a(this,Fa))return a(this,Fa);const{x:e,y:t,height:r}=a(this,jt).getBoundingClientRect(),{x:s,y:i,width:o,height:l}=a(this,gn).layer.getBoundingClientRect();return[(e-s)/o,(t+r-i)/l]}set commentPopupPosition(e){y(this,Fa,e)}hasDefaultPopupPosition(){return a(this,Fa)===null}get commentButtonPosition(){return a(this,po)}get commentButtonWidth(){return a(this,jt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=a(this,Fa)||this.commentButtonPosition.map(u=>u/100),s=this.parentBoundingClientRect,{x:i,y:o,width:l,height:c}=s;a(this,ur).showDialog(null,this,i+t*l,o+r*c,{...e,parentDimensions:s})}render(){var r,s;if(a(this,dr))return;const e=y(this,dr,document.createElement("div"));if(e.className="popup",a(this,hh)){const i=e.style.outlineColor=Q.makeHexColor(...a(this,hh));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=a(this,mh))!=null&&r.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=a(this,mh)}if(e.append(t),a(this,Oa)){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:a(this,Oa).valueOf()})),i.dateTime=a(this,Oa).toISOString(),t.append(i)}hS({html:a(this,fe,Ky)||a(this,di).str,dir:(s=a(this,di))==null?void 0:s.dir,className:"popupContent"},e),a(this,gt).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var s;if(a(this,ur)){r?(this.remove(),y(this,Ba,null)):t&&(t.deleted?this.remove():(E(this,fe,f1).call(this),y(this,Ba,t.text))),e&&(y(this,po,null),E(this,fe,d1).call(this),E(this,fe,h1).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}E(this,fe,Yy).call(this),a(this,Rc)||y(this,Rc,{contentsObj:a(this,di),richText:a(this,mo)}),e&&y(this,fo,null),t&&t.text&&(y(this,mo,E(this,fe,U2).call(this,t.text)),y(this,Oa,Np.toDateObject(t.date)),y(this,di,null)),(s=a(this,dr))==null||s.remove(),y(this,dr,null)}resetEdited(){var e;a(this,Rc)&&({contentsObj:ht(this,di)._,richText:ht(this,mo)._}=a(this,Rc),y(this,Rc,null),(e=a(this,dr))==null||e.remove(),y(this,dr,null),y(this,fo,null))}remove(){var e,t,r;if((e=a(this,ho))==null||e.abort(),y(this,ho,null),(t=a(this,dr))==null||t.remove(),y(this,dr,null),y(this,ja,!1),y(this,hi,!1),(r=a(this,jt))==null||r.remove(),y(this,jt,null),this.trigger)for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){y(this,ja,this.isVisible),a(this,ja)&&(a(this,gt).hidden=!0)}maybeShow(){a(this,ur)||(E(this,fe,Yy).call(this),a(this,ja)&&(a(this,dr)||E(this,fe,Zy).call(this),y(this,ja,!1),a(this,gt).hidden=!1))}get isVisible(){return a(this,ur)?!1:a(this,gt).hidden===!1}}ur=new WeakMap,Ia=new WeakMap,w0=new WeakMap,x0=new WeakMap,dh=new WeakMap,hh=new WeakMap,gt=new WeakMap,di=new WeakMap,Oa=new WeakMap,Pc=new WeakMap,fh=new WeakMap,ph=new WeakMap,hi=new WeakMap,dr=new WeakMap,ho=new WeakMap,fo=new WeakMap,jt=new WeakMap,po=new WeakMap,Fa=new WeakMap,Vm=new WeakMap,mo=new WeakMap,mh=new WeakMap,Rc=new WeakMap,ja=new WeakMap,gn=new WeakMap,Ba=new WeakMap,fe=new WeakSet,Yy=function(){var t;if(a(this,ho))return;y(this,ho,new AbortController);const{signal:e}=a(this,ho);for(const r of this.trigger)r.addEventListener("click",a(this,dh),{signal:e}),r.addEventListener("pointerenter",a(this,x0),{signal:e}),r.addEventListener("pointerleave",a(this,w0),{signal:e}),r.classList.add("popupTriggerArea");for(const r of a(this,Pc))(t=r.container)==null||t.addEventListener("keydown",a(this,Ia),{signal:e})},d1=function(){const e=a(this,Pc).find(t=>t.hasCommentButton);e&&y(this,po,e._normalizePoint(e.commentButtonPosition))},h1=function(){if(a(this,gn).extraPopupElement&&!a(this,gn).editor)return;this.renderCommentButton();const[e,t]=a(this,po),{style:r}=a(this,jt);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},f1=function(){a(this,gn).extraPopupElement||(this.renderCommentButton(),a(this,jt).style.backgroundColor=this.commentButtonColor||"")},Ky=function(){const e=a(this,mo),t=a(this,di);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&a(this,mo).html||null},p1=function(){var e,t,r;return((r=(t=(e=a(this,fe,Ky))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},$2=function(){var e,t,r;return((r=(t=(e=a(this,fe,Ky))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},U2=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:a(this,fe,$2),fontSize:a(this,fe,p1)?`calc(${a(this,fe,p1)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return r},H2=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&a(this,hi))&&E(this,fe,Qy).call(this)},V2=function(){if(a(this,fo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:s,pageY:i}}}=a(this,fh);let o=!!a(this,ph),l=o?a(this,ph):a(this,Vm);for(const v of a(this,Pc))if(!l||Q.intersect(v.data.rect,l)!==null){l=v.data.rect,o=!0;break}const c=Q.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),d=o?l[2]-l[0]+5:0,h=c[0]+d,f=c[1];y(this,fo,[100*(h-s)/t,100*(f-i)/r]);const{style:p}=a(this,gt);p.left=`${a(this,fo)[0]}%`,p.top=`${a(this,fo)[1]}%`},Qy=function(){if(a(this,ur)){a(this,ur).toggleCommentPopup(this,!1);return}y(this,hi,!a(this,hi)),a(this,hi)?(E(this,fe,Zy).call(this),a(this,gt).addEventListener("click",a(this,dh)),a(this,gt).addEventListener("keydown",a(this,Ia))):(E(this,fe,m1).call(this),a(this,gt).removeEventListener("click",a(this,dh)),a(this,gt).removeEventListener("keydown",a(this,Ia)))},Zy=function(){a(this,dr)||this.render(),this.isVisible?a(this,hi)&&a(this,gt).classList.add("focused"):(E(this,fe,V2).call(this),a(this,gt).hidden=!1,a(this,gt).style.zIndex=parseInt(a(this,gt).style.zIndex)+1e3)},m1=function(){a(this,gt).classList.remove("focused"),!(a(this,hi)||!this.isVisible)&&(a(this,gt).hidden=!0,a(this,gt).style.zIndex=parseInt(a(this,gt).style.zIndex)-1e3)};class W2 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ie.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Wm;class u5 extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Wm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),o=y(this,Wm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Wm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wm=new WeakMap;var Gm;class d5 extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Gm,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,l=y(this,Gm,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",r-o),l.setAttribute("height",s-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Gm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gm=new WeakMap;var qm;class h5 extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,qm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:s}=this,i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,l=y(this,qm,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",r/2),l.setAttribute("cy",s/2),l.setAttribute("rx",r/2-o/2),l.setAttribute("ry",s/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,qm)}addHighlightArea(){this.container.classList.add("highlightArea")}}qm=new WeakMap;var Xm;class G2 extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Xm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:s,popupRef:i},width:o,height:l}=this;if(!r)return this.container;const c=this.svgFactory.create(o,l,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-t[0],v=t[3]-r[h+1];u.push(`${p},${v}`)}u=u.join(" ");const d=y(this,Xm,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Xm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xm=new WeakMap;class f5 extends G2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class p5 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ym,Nc,Km,g1;class xS extends lt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Km);S(this,Ym,null);S(this,Nc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ie.HIGHLIGHT:ie.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:s,borderStyle:i,popupRef:o}}=this,{transform:l,width:c,height:u}=E(this,Km,g1).call(this,r,t),d=this.svgFactory.create(c,u,!0),h=y(this,Ym,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let f=0,p=s.length;f<p;f++){const v=this.svgFactory.createElement(this.svgElementName);a(this,Nc).push(v),v.setAttribute("points",s[f].join(",")),h.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:s,rect:i}=t,o=a(this,Ym);if(r>=0&&o.setAttribute("stroke-width",r||1),s)for(let l=0,c=a(this,Nc).length;l<c;l++)a(this,Nc)[l].setAttribute("points",s[l].join(","));if(i){const{transform:l,width:c,height:u}=E(this,Km,g1).call(this,this.data.rotation,i);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return a(this,Nc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ym=new WeakMap,Nc=new WeakMap,Km=new WeakSet,g1=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class q2 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ie.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class m5 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class g5 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class y5 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class X2 extends lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ie.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qm,Zm,y1;class v5 extends lt{constructor(t){var s;super(t,{isRenderable:!0});S(this,Zm);S(this,Qm,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let s;r.hasAppearance||r.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),s.addEventListener("dblclick",E(this,Zm,y1).bind(this)),y(this,Qm,s);const{isMac:i}=Gt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&E(this,Zm,y1).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return a(this,Qm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qm=new WeakMap,Zm=new WeakSet,y1=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var gh,Mc,yh,za,Jm,Dc,wl,v1,w1,vh;let bS=(vh=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:o,structTreeLayer:l,commentManager:c,linkService:u,annotationStorage:d}){S(this,wl);S(this,gh,null);S(this,Mc,null);S(this,yh,null);S(this,za,new Map);S(this,Jm,null);S(this,Dc,null);this.div=e,y(this,gh,t),y(this,Mc,r),y(this,Jm,l||null),y(this,Dc,u||null),y(this,yh,d||new fS),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=c||null}hasEditableAnnotations(){return a(this,za).size>0}async render(e){var o,l,c;const{annotations:t}=e,r=this.div;gl(r,this.viewport);const s=new Map,i={data:null,layer:r,linkService:a(this,Dc),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Ip,annotationStorage:a(this,yh),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===xt.POPUP;if(d){const p=s.get(u.id);if(!p)continue;i.elements=p}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;i.data=u;const h=r_.create(i);if(!h.isRenderable)continue;if(!d&&u.popupRef){const p=s.get(u.popupRef);p?p.push(h):s.set(u.popupRef,[h])}const f=h.render();u.hidden&&(f.style.visibility="hidden"),await E(this,wl,v1).call(this,f,u.id,i.elements),(l=(o=h.extraPopupElement)==null?void 0:o.popup)==null||l.renderCommentButton(),h._isEditable&&(a(this,za).set(h.data.id,h),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(h))}E(this,wl,w1).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:a(this,Dc),svgFactory:new Ip,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=vh._defaultBorderStyle),t.data=r;const s=r_.create(t);if(!s.isRenderable)continue;const i=s.render();await E(this,wl,v1).call(this,i,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,gl(t,{rotation:e.rotation}),E(this,wl,w1).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(a(this,za).values())}getEditableAnnotation(e){return a(this,za).get(e)}addFakeAnnotation(e){var l;const{div:t}=this,{id:r,rotation:s}=e,i=new n5({data:{id:r,rect:e.getPDFRect(),rotation:s},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:a(this,Dc),annotationStorage:a(this,yh)}),o=i.render();return t.append(o),(l=a(this,gh))==null||l.moveElementInDOM(t,o,o,!1),i.createOrUpdatePopup(),i}static get _defaultBorderStyle(){return de(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Au.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},gh=new WeakMap,Mc=new WeakMap,yh=new WeakMap,za=new WeakMap,Jm=new WeakMap,Dc=new WeakMap,wl=new WeakSet,v1=async function(e,t,r){var l,c;const s=e.firstChild||e,i=s.id=`${uS}${t}`,o=await((l=a(this,Jm))==null?void 0:l.getAriaAttributes(i));if(o)for(const[u,d]of o)s.setAttribute(u,d);r?r.at(-1).container.after(e):(this.div.append(e),(c=a(this,gh))==null||c.moveElementInDOM(this.div,e,s,!1))},w1=function(){var t;if(!a(this,Mc))return;const e=this.div;for(const[r,s]of a(this,Mc)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):i.append(s);const l=a(this,za).get(r);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,i.id,s),l._hasNoCanvas=!1):l.canvas=s)}a(this,Mc).clear()},vh);const fy=/\r\n?|\n/g;var hr,eg,Lc,fr,kt,Y2,K2,Q2,Jy,To,ev,tv,Z2,b1,J2;const qe=class qe extends Ve{constructor(t){super({...t,name:"freeTextEditor"});S(this,kt);S(this,hr,"");S(this,eg,`${this.id}-editor`);S(this,Lc,null);S(this,fr);z(this,"_colorPicker",null);this.color=t.color||qe._defaultColor||Ve._defaultLineColor,y(this,fr,t.fontSize||qe._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=qe.prototype,r=o=>o.isEmpty(),s=yl.TRANSLATE_SMALL,i=yl.TRANSLATE_BIG;return de(this,"_keyboardManager",new Ng([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(t,r){Ve.initialize(t,r);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case ve.FREETEXT_SIZE:qe._defaultFontSize=r;break;case ve.FREETEXT_COLOR:qe._defaultColor=r;break}}updateParams(t,r){switch(t){case ve.FREETEXT_SIZE:E(this,kt,Y2).call(this,r);break;case ve.FREETEXT_COLOR:E(this,kt,K2).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ve.FREETEXT_SIZE,qe._defaultFontSize],[ve.FREETEXT_COLOR,qe._defaultColor||Ve._defaultLineColor]]}get propertiesToUpdate(){return[[ve.FREETEXT_SIZE,a(this,fr)],[ve.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new e0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ve.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-qe._internalPadding*t,-(qe._internalPadding+a(this,fr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),y(this,Lc,new AbortController);const t=this._uiManager.combinedSignal(a(this,Lc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,eg)),this._isDraggable=!0,(t=a(this,Lc))==null||t.abort(),y(this,Lc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=a(this,hr),r=y(this,hr,E(this,kt,Q2).call(this).trimEnd());if(t===r)return;const s=i=>{if(y(this,hr,i),!i){this.remove();return}E(this,kt,tv).call(this),this._uiManager.rebuild(this),E(this,kt,Jy).call(this)};this.addCommands({cmd:()=>{s(r)},undo:()=>{s(t)},mustExec:!1}),E(this,kt,Jy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){qe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,eg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${a(this,fr)}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let v,m;switch(this.rotation){case 0:v=t+(l[0]-f)/d,m=r+this.height-(l[1]-p)/h;break;case 90:v=t+(l[0]-f)/d,m=r-(l[1]-p)/h,[c,u]=[u,-c];break;case 180:v=t-this.width+(l[0]-f)/d,m=r-(l[1]-p)/h,[c,u]=[-c,-u];break;case 270:v=t+(l[0]-f-this.height*h)/d,m=r+(l[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(v*i,m*o,c,u)}else this._moveAfterPaste(t,r);E(this,kt,tv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,m,x;const r=t.clipboardData||window.clipboardData,{types:s}=r;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=E(v=qe,To,b1).call(v,r.getData("text")||"").replaceAll(fy,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!i.includes(`
`)){l.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=l,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const g=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(fy,"")),g!==this.editorDiv){let w=d;for(const A of this.editorDiv.childNodes){if(A===g){w=h;continue}w.push(E(m=qe,To,ev).call(m,A))}}d.push(c.nodeValue.slice(0,u).replaceAll(fy,""))}else if(c===this.editorDiv){let g=d,w=0;for(const A of this.editorDiv.childNodes)w++===u&&(g=h),g.push(E(x=qe,To,ev).call(x,A))}y(this,hr,`${d.join(`
`)}${i}${h.join(`
`)}`),E(this,kt,tv).call(this);const f=new Range;let p=Math.sumPrecise(d.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const w=g.nodeValue.length;if(p<=w){f.setStart(g,p),f.setEnd(g,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=qe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,s){var l;let i=null;if(t instanceof W2){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,richText:v,contentsObj:m,creationDate:x,modificationDate:g},textContent:w,textPosition:A,parent:{page:{pageNumber:C}}}=t;if(!w||w.length===0)return null;i=t={annotationType:ie.FREETEXT,color:Array.from(u),fontSize:c,value:w.join(`
`),position:A,pageIndex:C-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:v,creationDate:x,modificationDate:g}}const o=await super.deserialize(t,r,s);return y(o,fr,t.fontSize),o.color=Q.makeHexColor(...t.color),y(o,hr,E(l=qe,To,b1).call(l,t.value)),o._initialData=i,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Ve._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(t),{color:r,fontSize:a(this,fr),value:E(this,kt,Z2).call(this)});return this.addComment(s),t?(s.isCopy=!0,s):this.annotationElementId&&!E(this,kt,J2).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:s}=r;s.fontSize=`calc(${a(this,fr)}px * var(--total-scale-factor))`,s.color=this.color,r.replaceChildren();for(const i of a(this,hr).split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),r.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:a(this,hr)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};hr=new WeakMap,eg=new WeakMap,Lc=new WeakMap,fr=new WeakMap,kt=new WeakSet,Y2=function(t){const r=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-a(this,fr))*this.parentScale),y(this,fr,i),E(this,kt,Jy).call(this)},s=a(this,fr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},K2=function(t){const r=i=>{this.color=i,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q2=function(){var s;const t=[];this.editorDiv.normalize();let r=null;for(const i of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(E(s=qe,To,ev).call(s,i)),r=i);return t.join(`
`)},Jy=function(){const[t,r]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/r):(this.width=s.height/t,this.height=s.width/r),this.fixAndSetPosition()},To=new WeakSet,ev=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(fy,"")},tv=function(){if(this.editorDiv.replaceChildren(),!!a(this,hr))for(const t of a(this,hr).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Z2=function(){return a(this,hr).replaceAll(""," ")},b1=function(t){return t.replaceAll(" ","")},J2=function(t){const{value:r,fontSize:s,color:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==s||t.color.some((l,c)=>l!==i[c])||t.pageIndex!==o},S(qe,To),z(qe,"_freeTextDefaultContent",""),z(qe,"_internalPadding",0),z(qe,"_defaultColor",null),z(qe,"_defaultFontSize",10),z(qe,"_type","freetext"),z(qe,"_editorType",ie.FREETEXT);let x1=qe;class K{toSVGPath(){$e("Abstract method `toSVGPath` must be implemented.")}get box(){$e("Abstract getter `box` must be implemented.")}serialize(e,t){$e("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,s,i,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l]*s,o[l+1]=r+e[l+1]*i;return o}static _rescaleAndSwap(e,t,r,s,i,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l+1]*s,o[l+1]=r+e[l]*i;return o}static _translate(e,t,r,s){s||(s=new Float32Array(e.length));for(let i=0,o=e.length;i<o;i+=2)s[i]=t+e[i],s[i+1]=r+e[i+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,s,i){switch(i){case 90:return[1-t/r,e/s];case 180:return[1-e/r,1-t/s];case 270:return[t/r,1-e/s];default:return[e/r,t/s]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,s,i,o){return[(e+5*r)/6,(t+5*s)/6,(5*r+i)/6,(5*s+o)/6,(r+i)/2,(s+o)/2]}}z(K,"PRECISION",1e-4);var pr,As,wh,xh,fi,ge,Ic,Oc,tg,ng,bh,Ah,$a,rg,b0,A0,Ot,Hf,eN,tN,nN,rN,sN,iN;const Bi=class Bi{constructor({x:e,y:t},r,s,i,o,l=0){S(this,Ot);S(this,pr);S(this,As,[]);S(this,wh);S(this,xh);S(this,fi,[]);S(this,ge,new Float32Array(18));S(this,Ic);S(this,Oc);S(this,tg);S(this,ng);S(this,bh);S(this,Ah);S(this,$a,[]);y(this,pr,r),y(this,Ah,i*s),y(this,xh,o),a(this,ge).set([NaN,NaN,NaN,NaN,e,t],6),y(this,wh,l),y(this,ng,a(Bi,rg)*s),y(this,tg,a(Bi,A0)*s),y(this,bh,s),a(this,$a).push(e,t)}isEmpty(){return isNaN(a(this,ge)[8])}add({x:e,y:t}){var N;y(this,Ic,e),y(this,Oc,t);const[r,s,i,o]=a(this,pr);let[l,c,u,d]=a(this,ge).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<a(this,tg))return!1;const v=p-a(this,ng),m=v/p,x=m*h,g=m*f;let w=l,A=c;l=u,c=d,u+=x,d+=g,(N=a(this,$a))==null||N.push(e,t);const C=-g/v,T=x/v,k=C*a(this,Ah),P=T*a(this,Ah);return a(this,ge).set(a(this,ge).subarray(2,8),0),a(this,ge).set([u+k,d+P],4),a(this,ge).set(a(this,ge).subarray(14,18),12),a(this,ge).set([u-k,d-P],16),isNaN(a(this,ge)[6])?(a(this,fi).length===0&&(a(this,ge).set([l+k,c+P],2),a(this,fi).push(NaN,NaN,NaN,NaN,(l+k-r)/i,(c+P-s)/o),a(this,ge).set([l-k,c-P],14),a(this,As).push(NaN,NaN,NaN,NaN,(l-k-r)/i,(c-P-s)/o)),a(this,ge).set([w,A,l,c,u,d],6),!this.isEmpty()):(a(this,ge).set([w,A,l,c,u,d],6),Math.abs(Math.atan2(A-c,w-l)-Math.atan2(g,x))<Math.PI/2?([l,c,u,d]=a(this,ge).subarray(2,6),a(this,fi).push(NaN,NaN,NaN,NaN,((l+u)/2-r)/i,((c+d)/2-s)/o),[l,c,w,A]=a(this,ge).subarray(14,18),a(this,As).push(NaN,NaN,NaN,NaN,((w+l)/2-r)/i,((A+c)/2-s)/o),!0):([w,A,l,c,u,d]=a(this,ge).subarray(0,6),a(this,fi).push(((w+5*l)/6-r)/i,((A+5*c)/6-s)/o,((5*l+u)/6-r)/i,((5*c+d)/6-s)/o,((l+u)/2-r)/i,((c+d)/2-s)/o),[u,d,l,c,w,A]=a(this,ge).subarray(12,18),a(this,As).push(((w+5*l)/6-r)/i,((A+5*c)/6-s)/o,((5*l+u)/6-r)/i,((5*c+d)/6-s)/o,((l+u)/2-r)/i,((c+d)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=a(this,fi),t=a(this,As);if(isNaN(a(this,ge)[6])&&!this.isEmpty())return E(this,Ot,eN).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);E(this,Ot,nN).call(this,r);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?r.push(`L${t[s+4]} ${t[s+5]}`):r.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return E(this,Ot,tN).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,s,i,o){return new oN(e,t,r,s,i,o)}getOutlines(){var h;const e=a(this,fi),t=a(this,As),r=a(this,ge),[s,i,o,l]=a(this,pr),c=new Float32Array((((h=a(this,$a))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(a(this,$a)[f]-s)/o,c[f+1]=(a(this,$a)[f+1]-i)/l;if(c[c.length-2]=(a(this,Ic)-s)/o,c[c.length-1]=(a(this,Oc)-i)/l,isNaN(r[6])&&!this.isEmpty())return E(this,Ot,rN).call(this,c);const u=new Float32Array(a(this,fi).length+24+a(this,As).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=E(this,Ot,iN).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return E(this,Ot,sN).call(this,u,d),this.newFreeDrawOutline(u,c,a(this,pr),a(this,bh),a(this,wh),a(this,xh))}};pr=new WeakMap,As=new WeakMap,wh=new WeakMap,xh=new WeakMap,fi=new WeakMap,ge=new WeakMap,Ic=new WeakMap,Oc=new WeakMap,tg=new WeakMap,ng=new WeakMap,bh=new WeakMap,Ah=new WeakMap,$a=new WeakMap,rg=new WeakMap,b0=new WeakMap,A0=new WeakMap,Ot=new WeakSet,Hf=function(){const e=a(this,ge).subarray(4,6),t=a(this,ge).subarray(16,18),[r,s,i,o]=a(this,pr);return[(a(this,Ic)+(e[0]-t[0])/2-r)/i,(a(this,Oc)+(e[1]-t[1])/2-s)/o,(a(this,Ic)+(t[0]-e[0])/2-r)/i,(a(this,Oc)+(t[1]-e[1])/2-s)/o]},eN=function(){const[e,t,r,s]=a(this,pr),[i,o,l,c]=E(this,Ot,Hf).call(this);return`M${(a(this,ge)[2]-e)/r} ${(a(this,ge)[3]-t)/s} L${(a(this,ge)[4]-e)/r} ${(a(this,ge)[5]-t)/s} L${i} ${o} L${l} ${c} L${(a(this,ge)[16]-e)/r} ${(a(this,ge)[17]-t)/s} L${(a(this,ge)[14]-e)/r} ${(a(this,ge)[15]-t)/s} Z`},tN=function(e){const t=a(this,As);e.push(`L${t[4]} ${t[5]} Z`)},nN=function(e){const[t,r,s,i]=a(this,pr),o=a(this,ge).subarray(4,6),l=a(this,ge).subarray(16,18),[c,u,d,h]=E(this,Ot,Hf).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-r)/i} L${c} ${u} L${d} ${h} L${(l[0]-t)/s} ${(l[1]-r)/i}`)},rN=function(e){const t=a(this,ge),[r,s,i,o]=a(this,pr),[l,c,u,d]=E(this,Ot,Hf).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-s)/o],0),this.newFreeDrawOutline(h,e,a(this,pr),a(this,bh),a(this,wh),a(this,xh))},sN=function(e,t){const r=a(this,As);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},iN=function(e,t){const r=a(this,ge).subarray(4,6),s=a(this,ge).subarray(16,18),[i,o,l,c]=a(this,pr),[u,d,h,f]=E(this,Ot,Hf).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/l,(r[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(s[0]-i)/l,(s[1]-o)/c],t),t+=24},S(Bi,rg,8),S(Bi,b0,2),S(Bi,A0,a(Bi,rg)+a(Bi,b0));let t0=Bi;var Sh,Fc,go,sg,mr,ig,At,S0,aN;class oN extends K{constructor(t,r,s,i,o,l){super();S(this,S0);S(this,Sh);S(this,Fc,new Float32Array(4));S(this,go);S(this,sg);S(this,mr);S(this,ig);S(this,At);y(this,At,t),y(this,mr,r),y(this,Sh,s),y(this,ig,i),y(this,go,o),y(this,sg,l),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],E(this,S0,aN).call(this,l);const[c,u,d,h]=a(this,Fc);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-c)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${a(this,At)[4]} ${a(this,At)[5]}`];for(let r=6,s=a(this,At).length;r<s;r+=6){if(isNaN(a(this,At)[r])){t.push(`L${a(this,At)[r+4]} ${a(this,At)[r+5]}`);continue}t.push(`C${a(this,At)[r]} ${a(this,At)[r+1]} ${a(this,At)[r+2]} ${a(this,At)[r+3]} ${a(this,At)[r+4]} ${a(this,At)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,s,i],o){const l=s-t,c=i-r;let u,d;switch(o){case 0:u=K._rescale(a(this,At),t,i,l,-c),d=K._rescale(a(this,mr),t,i,l,-c);break;case 90:u=K._rescaleAndSwap(a(this,At),t,r,l,c),d=K._rescaleAndSwap(a(this,mr),t,r,l,c);break;case 180:u=K._rescale(a(this,At),s,r,-l,c),d=K._rescale(a(this,mr),s,r,-l,c);break;case 270:u=K._rescaleAndSwap(a(this,At),s,i,-l,-c),d=K._rescaleAndSwap(a(this,mr),s,i,-l,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return a(this,Fc)}newOutliner(t,r,s,i,o,l=0){return new t0(t,r,s,i,o,l)}getNewOutline(t,r){const[s,i,o,l]=a(this,Fc),[c,u,d,h]=a(this,Sh),f=o*d,p=l*h,v=s*d+c,m=i*h+u,x=this.newOutliner({x:a(this,mr)[0]*f+v,y:a(this,mr)[1]*p+m},a(this,Sh),a(this,ig),t,a(this,sg),r??a(this,go));for(let g=2;g<a(this,mr).length;g+=2)x.add({x:a(this,mr)[g]*f+v,y:a(this,mr)[g+1]*p+m});return x.getOutlines()}}Sh=new WeakMap,Fc=new WeakMap,go=new WeakMap,sg=new WeakMap,mr=new WeakMap,ig=new WeakMap,At=new WeakMap,S0=new WeakSet,aN=function(t){const r=a(this,At);let s=r[4],i=r[5];const o=[s,i,s,i];let l=s,c=i,u=s,d=i;const h=t?Math.max:Math.min,f=new Float32Array(4);for(let v=6,m=r.length;v<m;v+=6){const x=r[v+4],g=r[v+5];isNaN(r[v])?(Q.pointBoundingBox(x,g,o),c>g?(l=x,c=g):c===g&&(l=h(l,x)),d<g?(u=x,d=g):d===g&&(u=h(u,x))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,Q.bezierBoundingBox(s,i,...r.slice(v,v+6),f),Q.rectBoundingBox(f[0],f[1],f[2],f[3],o),c>f[1]?(l=f[0],c=f[1]):c===f[1]&&(l=h(l,f[0])),d<f[3]?(u=f[2],d=f[3]):d===f[3]&&(u=h(u,f[2]))),s=x,i=g}const p=a(this,Fc);p[0]=o[0]-a(this,go),p[1]=o[1]-a(this,go),p[2]=o[2]-o[0]+2*a(this,go),p[3]=o[3]-o[1]+2*a(this,go),this.firstPoint=[l,c],this.lastPoint=[u,d]};var og,ag,lg,Ua,Ss,In,lN,nv,cN,uN,S1;class A1{constructor(e,t=0,r=0,s=!0){S(this,In);S(this,og);S(this,ag);S(this,lg);S(this,Ua,[]);S(this,Ss,[]);const i=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x,y:g,width:w,height:A}of e){const C=Math.floor((x-t)/l)*l,T=Math.ceil((x+w+t)/l)*l,k=Math.floor((g-t)/l)*l,P=Math.ceil((g+A+t)/l)*l,R=[C,k,P,!0],N=[T,k,P,!1];a(this,Ua).push(R,N),Q.rectBoundingBox(C,k,T,P,i)}const c=i[2]-i[0]+2*r,u=i[3]-i[1]+2*r,d=i[0]-r,h=i[1]-r;let f=s?-1/0:1/0,p=1/0;const v=a(this,Ua).at(s?-1:-2),m=[v[0],v[2]];for(const x of a(this,Ua)){const[g,w,A,C]=x;!C&&s?w<p?(p=w,f=g):w===p&&(f=Math.max(f,g)):C&&!s&&(w<p?(p=w,f=g):w===p&&(f=Math.min(f,g))),x[0]=(g-d)/c,x[1]=(w-h)/u,x[2]=(A-h)/u}y(this,og,new Float32Array([d,h,c,u])),y(this,ag,[f,p]),y(this,lg,m)}getOutlines(){a(this,Ua).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of a(this,Ua))t[3]?(e.push(...E(this,In,S1).call(this,t)),E(this,In,cN).call(this,t)):(E(this,In,uN).call(this,t),e.push(...E(this,In,S1).call(this,t)));return E(this,In,lN).call(this,e)}}og=new WeakMap,ag=new WeakMap,lg=new WeakMap,Ua=new WeakMap,Ss=new WeakMap,In=new WeakSet,lN=function(e){const t=[],r=new Set;for(const o of e){const[l,c,u]=o;t.push([l,c,o],[l,u,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),r.add(c),r.add(u)}const s=[];let i;for(;r.size>0;){const o=r.values().next().value;let[l,c,u,d,h]=o;r.delete(o);let f=l,p=c;for(i=[l,u],s.push(i);;){let v;if(r.has(d))v=d;else if(r.has(h))v=h;else break;r.delete(v),[l,c,u,d,h]=v,f!==l&&(i.push(f,p,l,p===c?c:u),f=l),p=p===c?u:c}i.push(f,p)}return new w5(s,a(this,og),a(this,ag),a(this,lg))},nv=function(e){const t=a(this,Ss);let r=0,s=t.length-1;for(;r<=s;){const i=r+s>>1,o=t[i][0];if(o===e)return i;o<e?r=i+1:s=i-1}return s+1},cN=function([,e,t]){const r=E(this,In,nv).call(this,e);a(this,Ss).splice(r,0,[e,t])},uN=function([,e,t]){const r=E(this,In,nv).call(this,e);for(let s=r;s<a(this,Ss).length;s++){const[i,o]=a(this,Ss)[s];if(i!==e)break;if(i===e&&o===t){a(this,Ss).splice(s,1);return}}for(let s=r-1;s>=0;s--){const[i,o]=a(this,Ss)[s];if(i!==e)break;if(i===e&&o===t){a(this,Ss).splice(s,1);return}}},S1=function(e){const[t,r,s]=e,i=[[t,r,s]],o=E(this,In,nv).call(this,s);for(let l=0;l<o;l++){const[c,u]=a(this,Ss)[l];for(let d=0,h=i.length;d<h;d++){const[,f,p]=i[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=c,p>u&&i.push([t,u,p])}}}return i};var cg,Eh;class w5 extends K{constructor(t,r,s,i){super();S(this,cg);S(this,Eh);y(this,Eh,t),y(this,cg,r),this.firstPoint=s,this.lastPoint=i}toSVGPath(){const t=[];for(const r of a(this,Eh)){let[s,i]=r;t.push(`M${s} ${i}`);for(let o=2;o<r.length;o+=2){const l=r[o],c=r[o+1];l===s?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${l}`),s=l)}t.push("Z")}return t.join(" ")}serialize([t,r,s,i],o){const l=[],c=s-t,u=i-r;for(const d of a(this,Eh)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=i-d[f+1]*u;l.push(h)}return l}get box(){return a(this,cg)}get classNamesForOutlining(){return["highlightOutline"]}}cg=new WeakMap,Eh=new WeakMap;class E1 extends t0{newFreeDrawOutline(e,t,r,s,i,o){return new x5(e,t,r,s,i,o)}}class x5 extends oN{newOutliner(e,t,r,s,i,o=0){return new E1(e,t,r,s,i,o)}}var Ch,ug,yo,jc,dg,qn,hg,fg,Bc,gr,yr,Zt,_h,Th,yn,kh,Gr,pg,he,C1,rv,dN,hN,fN,_1,Pl,Qr,ku,pN,sv,iv,mN,gN,yN,vN,wN;const Ce=class Ce extends Ve{constructor(t){super({...t,name:"highlightEditor"});S(this,he);S(this,Ch,null);S(this,ug,0);S(this,yo);S(this,jc,null);S(this,dg,null);S(this,qn,null);S(this,hg,null);S(this,fg,0);S(this,Bc,null);S(this,gr,null);S(this,yr,null);S(this,Zt,!1);S(this,_h,null);S(this,Th,null);S(this,yn,null);S(this,kh,"");S(this,Gr);S(this,pg,"");this.color=t.color||Ce._defaultColor,y(this,Gr,t.thickness||Ce._defaultThickness),this.opacity=t.opacity||Ce._defaultOpacity,y(this,yo,t.boxes||null),y(this,pg,t.methodOfCreation||""),y(this,kh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(y(this,Zt,!0),E(this,he,rv).call(this,t),E(this,he,Pl).call(this)):a(this,yo)&&(y(this,Ch,t.anchorNode),y(this,ug,t.anchorOffset),y(this,hg,t.focusNode),y(this,fg,t.focusOffset),E(this,he,C1).call(this),E(this,he,Pl).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ce.prototype;return de(this,"_keyboardManager",new Ng([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:a(this,Zt)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:a(this,Gr),methodOfCreation:a(this,pg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var s;Ve.initialize(t,r),Ce._defaultColor||(Ce._defaultColor=((s=r.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case ve.HIGHLIGHT_COLOR:Ce._defaultColor=r;break;case ve.HIGHLIGHT_THICKNESS:Ce._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return a(this,Th)}get commentButtonPosition(){return a(this,_h)}updateParams(t,r){switch(t){case ve.HIGHLIGHT_COLOR:E(this,he,dN).call(this,r);break;case ve.HIGHLIGHT_THICKNESS:E(this,he,hN).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ve.HIGHLIGHT_COLOR,Ce._defaultColor],[ve.HIGHLIGHT_THICKNESS,Ce._defaultThickness]]}get propertiesToUpdate(){return[[ve.HIGHLIGHT_COLOR,this.color||Ce._defaultColor],[ve.HIGHLIGHT_THICKNESS,a(this,Gr)||Ce._defaultThickness],[ve.HIGHLIGHT_FREE,a(this,Zt)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(a(this,yr),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=a(this,dg))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",y(this,dg,new Lp({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,he,iv).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,E(this,he,iv).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){E(this,he,_1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,he,Pl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?E(this,he,_1).call(this):t&&(E(this,he,Pl).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var i,o,l;const{drawLayer:r}=this.parent;let s;a(this,Zt)?(t=(t-this.rotation+360)%360,s=E(i=Ce,Qr,ku).call(i,a(this,gr).box,t)):s=E(o=Ce,Qr,ku).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(a(this,yr),{bbox:s,root:{"data-main-rotation":t}}),r.updateProperties(a(this,yn),{bbox:E(l=Ce,Qr,ku).call(l,a(this,qn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();a(this,kh)&&(t.setAttribute("aria-label",a(this,kh)),t.setAttribute("role","mark")),a(this,Zt)?t.classList.add("free"):this.div.addEventListener("keydown",E(this,he,pN).bind(this),{signal:this._uiManager._signal});const r=y(this,Bc,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=a(this,jc),this.setDims(this.width,this.height),zR(this,a(this,Bc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,yn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,yn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,he,sv).call(this,!0);break;case 1:case 3:E(this,he,sv).call(this,!1);break}}select(){var t;super.select(),a(this,yn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,yn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),a(this,yn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,yn),{rootClass:{selected:!1}}),a(this,Zt)||E(this,he,sv).call(this,!1))}get _mustFixPosition(){return!a(this,Zt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(a(this,yr),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(a(this,yn),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:s,x:i,y:o}){const{x:l,y:c,width:u,height:d}=s.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=v=>{h.abort(),E(this,Qr,vN).call(this,t,v)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",ot,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Nr,{signal:f}),s.addEventListener("pointermove",E(this,Qr,yN).bind(this,t),{signal:f}),this._freeHighlight=new E1({x:i,y:o},[l,c,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,s){var m,x,g,w;let i=null;if(t instanceof q2){const{data:{quadPoints:A,rect:C,rotation:T,id:k,color:P,opacity:R,popupRef:N,richText:D,contentsObj:M,creationDate:O,modificationDate:$},parent:{page:{pageNumber:I}}}=t;i=t={annotationType:ie.HIGHLIGHT,color:Array.from(P),opacity:R,quadPoints:A,boxes:null,pageIndex:I-1,rect:C.slice(0),rotation:T,annotationElementId:k,id:k,deleted:!1,popupRef:N,richText:D,comment:(M==null?void 0:M.str)||null,creationDate:O,modificationDate:$}}else if(t instanceof xS){const{data:{inkLists:A,rect:C,rotation:T,id:k,color:P,borderStyle:{rawWidth:R},popupRef:N,richText:D,contentsObj:M,creationDate:O,modificationDate:$},parent:{page:{pageNumber:I}}}=t;i=t={annotationType:ie.HIGHLIGHT,color:Array.from(P),thickness:R,inkLists:A,boxes:null,pageIndex:I-1,rect:C.slice(0),rotation:T,annotationElementId:k,id:k,deleted:!1,popupRef:N,richText:D,comment:(M==null?void 0:M.str)||null,creationDate:O,modificationDate:$}}const{color:o,quadPoints:l,inkLists:c,opacity:u}=t,d=await super.deserialize(t,r,s);d.color=Q.makeHexColor(...o),d.opacity=u||1,c&&y(d,Gr,t.thickness),d._initialData=i,t.comment&&d.setCommentData(t);const[h,f]=d.pageDimensions,[p,v]=d.pageTranslation;if(l){const A=y(d,yo,[]);for(let C=0;C<l.length;C+=8)A.push({x:(l[C]-p)/h,y:1-(l[C+1]-v)/f,width:(l[C+2]-l[C])/h,height:(l[C+1]-l[C+5])/f});E(m=d,he,C1).call(m),E(x=d,he,Pl).call(x),d.rotate(d.rotation)}else if(c){y(d,Zt,!0);const A=c[0],C={x:A[0]-p,y:f-(A[1]-v)},T=new E1(C,[0,0,h,f],1,a(d,Gr)/2,!0,.001);for(let R=0,N=A.length;R<N;R+=2)C.x=A[R]-p,C.y=f-(A[R+1]-v),T.add(C);const{id:k,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);E(g=d,he,rv).call(g,{highlightOutlines:T.getOutlines(),highlightId:k,clipPathId:P}),E(w=d,he,Pl).call(w),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Ve._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(t);return Object.assign(s,{color:r,opacity:this.opacity,thickness:a(this,Gr),quadPoints:E(this,he,mN).call(this),outlines:E(this,he,gN).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!E(this,he,wN).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ch=new WeakMap,ug=new WeakMap,yo=new WeakMap,jc=new WeakMap,dg=new WeakMap,qn=new WeakMap,hg=new WeakMap,fg=new WeakMap,Bc=new WeakMap,gr=new WeakMap,yr=new WeakMap,Zt=new WeakMap,_h=new WeakMap,Th=new WeakMap,yn=new WeakMap,kh=new WeakMap,Gr=new WeakMap,pg=new WeakMap,he=new WeakSet,C1=function(){const t=new A1(a(this,yo),.001);y(this,gr,t.getOutlines()),[this.x,this.y,this.width,this.height]=a(this,gr).box;const r=new A1(a(this,yo),.0025,.001,this._uiManager.direction==="ltr");y(this,qn,r.getOutlines());const{firstPoint:s}=a(this,gr);y(this,_h,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:i}=a(this,qn);y(this,Th,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},rv=function({highlightOutlines:t,highlightId:r,clipPathId:s}){var f,p;if(y(this,gr,t),y(this,qn,t.getNewOutline(a(this,Gr)/2+1.5,.0025)),r>=0)y(this,yr,r),y(this,jc,s),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),y(this,yn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:a(this,qn).box,path:{d:a(this,qn).toSVGPath()}},!0));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(a(this,yr),{bbox:E(f=Ce,Qr,ku).call(f,a(this,gr).box,(v-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(a(this,yn),{bbox:E(p=Ce,Qr,ku).call(p,a(this,qn).box,v),path:{d:a(this,qn).toSVGPath()}})}const[o,l,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=u;break;case 90:{const[v,m]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*m/v,this.height=u*v/m;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=u;break;case 270:{const[v,m]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*m/v,this.height=u*v/m;break}}const{firstPoint:d}=t;y(this,_h,[(d[0]-o)/c,(d[1]-l)/u]);const{lastPoint:h}=a(this,qn);y(this,Th,[(h[0]-o)/c,(h[1]-l)/u])},dN=function(t){const r=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},s=this.color,i=this.opacity;this.addCommands({cmd:r.bind(this,t,Ce._defaultOpacity),undo:r.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},hN=function(t){const r=a(this,Gr),s=i=>{y(this,Gr,i),E(this,he,fN).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ve.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},fN=function(t){a(this,Zt)&&(E(this,he,rv).call(this,{highlightOutlines:a(this,gr).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},_1=function(){a(this,yr)===null||!this.parent||(this.parent.drawLayer.remove(a(this,yr)),y(this,yr,null),this.parent.drawLayer.remove(a(this,yn)),y(this,yn,null))},Pl=function(t=this.parent){a(this,yr)===null&&({id:ht(this,yr)._,clipPathId:ht(this,jc)._}=t.drawLayer.draw({bbox:a(this,gr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:a(this,Zt)},path:{d:a(this,gr).toSVGPath()}},!1,!0),y(this,yn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:a(this,Zt)},bbox:a(this,qn).box,path:{d:a(this,qn).toSVGPath()}},a(this,Zt))),a(this,Bc)&&(a(this,Bc).style.clipPath=a(this,jc)))},Qr=new WeakSet,ku=function([t,r,s,i],o){switch(o){case 90:return[1-r-i,t,i,s];case 180:return[1-t-s,1-r-i,s,i];case 270:return[r,1-t-s,i,s]}return[t,r,s,i]},pN=function(t){Ce._keyboardManager.exec(this,t)},sv=function(t){if(!a(this,Ch))return;const r=window.getSelection();t?r.setPosition(a(this,Ch),a(this,ug)):r.setPosition(a(this,hg),a(this,fg))},iv=function(){return a(this,Zt)?this.rotation:0},mN=function(){if(a(this,Zt))return null;const[t,r]=this.pageDimensions,[s,i]=this.pageTranslation,o=a(this,yo),l=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+s,v=(1-d)*r+i;l[c]=l[c+4]=p,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=p+h*t,l[c+5]=l[c+7]=v-f*r,c+=8}return l},gN=function(t){return a(this,gr).serialize(t,E(this,he,iv).call(this))},yN=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},vN=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},wN=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((s,i)=>s!==r[i])},S(Ce,Qr),z(Ce,"_defaultColor",null),z(Ce,"_defaultOpacity",1),z(Ce,"_defaultThickness",12),z(Ce,"_type","highlight"),z(Ce,"_editorType",ie.HIGHLIGHT),z(Ce,"_freeHighlightId",-1),z(Ce,"_freeHighlight",null),z(Ce,"_freeHighlightClipId","");let n0=Ce;var zc;class xN{constructor(){S(this,zc,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){a(this,zc)[e]=t}toSVGProperties(){const e=a(this,zc);return y(this,zc,Object.create(null)),{root:e}}reset(){y(this,zc,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){$e("Not implemented")}}zc=new WeakMap;var vr,Ph,Bt,$c,Uc,Ha,Va,Wa,Hc,Se,T1,k1,P1,Vf,bN,ov,Wf,Pu;const J=class J extends Ve{constructor(t){super(t);S(this,Se);S(this,vr,null);S(this,Ph);z(this,"_colorPicker",null);z(this,"_drawId",null);y(this,Ph,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(E(this,Se,T1).call(this,t),E(this,Se,Vf).call(this))}static _mergeSVGProperties(t,r){const s=new Set(Object.keys(t));for(const[i,o]of Object.entries(r))s.has(i)?Object.assign(t[i],o):t[i]=o;return t}static getDefaultDrawingOptions(t){$e("Not implemented")}static get typesMap(){$e("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,r),this._currentParent&&(a(J,Bt).updateProperty(s,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[s,i]of this.typesMap)t.push([s,r[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[s,i]of this.constructor.typesMap)t.push([s,r[i]]);return t}_updateProperty(t,r,s){const i=this._drawingOptions,o=i[r],l=c=>{var d;i.updateProperty(r,c);const u=a(this,vr).updateProperty(r,c);u&&E(this,Se,Wf).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(a(this,vr).getPathResizingSVGProperties(E(this,Se,ov).call(this)),{bbox:E(this,Se,Pu).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(a(this,vr).getPathResizedSVGProperties(E(this,Se,ov).call(this)),{bbox:E(this,Se,Pu).call(this)}))}_onTranslating(t,r){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:E(this,Se,Pu).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(a(this,vr).getPathTranslatedSVGProperties(E(this,Se,ov).call(this),this.parentDimensions),{bbox:E(this,Se,Pu).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,a(this,Ph)&&(y(this,Ph,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){E(this,Se,P1).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,Se,Vf).call(this),E(this,Se,Wf).call(this,a(this,vr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),E(this,Se,P1).call(this)):t&&(this._uiManager.addShouldRescale(this),E(this,Se,Vf).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties({bbox:E(this,Se,Pu).call(this)},a(this,vr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&E(this,Se,Wf).call(this,a(this,vr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const s=super.render();s.classList.add("draw");const i=document.createElement("div");return s.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),s}static createDrawerInstance(t,r,s,i,o){$e("Not implemented")}static startDrawing(t,r,s,i){var x;const{target:o,offsetX:l,offsetY:c,pointerId:u,pointerType:d}=i;if(a(J,Va)&&a(J,Va)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),v=y(J,$c,new AbortController),m=t.combinedSignal(v);if(a(J,Ha)||y(J,Ha,u),a(J,Va)??y(J,Va,d),window.addEventListener("pointerup",g=>{var w;a(J,Ha)===g.pointerId?this._endDraw(g):(w=a(J,Wa))==null||w.delete(g.pointerId)},{signal:m}),window.addEventListener("pointercancel",g=>{var w;a(J,Ha)===g.pointerId?this._currentParent.endDrawingSession():(w=a(J,Wa))==null||w.delete(g.pointerId)},{signal:m}),window.addEventListener("pointerdown",g=>{a(J,Va)===g.pointerType&&((a(J,Wa)||y(J,Wa,new Set)).add(g.pointerId),a(J,Bt).isCancellable()&&(a(J,Bt).removeLastElement(),a(J,Bt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Nr,{signal:m}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),o.addEventListener("touchmove",g=>{g.timeStamp===a(J,Hc)&&ot(g)},{signal:m}),t.toggleDrawing(),(x=r._editorUndoBar)==null||x.hide(),a(J,Bt)){t.drawLayer.updateProperties(this._currentDrawId,a(J,Bt).startNew(l,c,f,p,h));return}r.updateUIForDefaultProperties(this),y(J,Bt,this.createDrawerInstance(l,c,f,p,h)),y(J,Uc,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(a(J,Uc).toSVGProperties(),a(J,Bt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(y(J,Hc,-1),!a(J,Bt))return;const{offsetX:r,offsetY:s,pointerId:i}=t;if(a(J,Ha)===i){if(((o=a(J,Wa))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,a(J,Bt).add(r,s)),y(J,Hc,t.timeStamp),ot(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,y(J,Bt,null),y(J,Uc,null),y(J,Va,null),y(J,Hc,NaN)),a(J,$c)&&(a(J,$c).abort(),y(J,$c,null),y(J,Ha,NaN),y(J,Wa,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,a(J,Bt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=a(J,Bt),i=this._currentDrawId,o=s.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(i,s.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(i,s.removeLastElement())},mustExec:!1,type:ve.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(ve.DRAW_STEP),!a(J,Bt).isEmpty()){const{pageDimensions:[s,i],scale:o}=r,l=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:a(J,Bt).getOutlines(s*o,i*o,o,this._INNER_MARGIN),drawingOptions:a(J,Uc),mustBeCommitted:!t});return this._cleanup(!0),l}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,s,i,o,l){$e("Not implemented")}static async deserialize(t,r,s){var h,f;const{rawDims:{pageWidth:i,pageHeight:o,pageX:l,pageY:c}}=r.viewport,u=this.deserializeDraw(l,c,i,o,this._INNER_MARGIN,t),d=await super.deserialize(t,r,s);return d.createDrawingOptions(t),E(h=d,Se,T1).call(h,{drawOutlines:u}),E(f=d,Se,Vf).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,s]=this.pageTranslation,[i,o]=this.pageDimensions;return a(this,vr).serialize([r,s,i,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};vr=new WeakMap,Ph=new WeakMap,Bt=new WeakMap,$c=new WeakMap,Uc=new WeakMap,Ha=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Hc=new WeakMap,Se=new WeakSet,T1=function({drawOutlines:t,drawId:r,drawingOptions:s}){y(this,vr,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=E(this,Se,k1).call(this,t,this.parent),E(this,Se,Wf).call(this,t.box)},k1=function(t,r){const{id:s}=r.drawLayer.draw(J._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},P1=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Vf=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=E(this,Se,k1).call(this,a(this,vr),t)}},bN=function([t,r,s,i]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[r,1-t,s*(l/o),i*(o/l)];case 180:return[1-t,1-r,s,i];case 270:return[1-r,t,s*(l/o),i*(o/l)];default:return[t,r,s,i]}},ov=function(){const{x:t,y:r,width:s,height:i,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-r,t,s*(o/l),i*(l/o)];case 180:return[1-t,1-r,s,i];case 270:return[r,1-t,s*(o/l),i*(l/o)];default:return[t,r,s,i]}},Wf=function(t){[this.x,this.y,this.width,this.height]=E(this,Se,bN).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Pu=function(){const{x:t,y:r,width:s,height:i,rotation:o,parentRotation:l,parentDimensions:[c,u]}=this;switch((o*4+l)/90){case 1:return[1-r-i,t,i,s];case 2:return[1-t-s,1-r-i,s,i];case 3:return[r,1-t-s,i,s];case 4:return[t,r-s*(c/u),i*(u/c),s*(c/u)];case 5:return[1-r,t,s*(c/u),i*(u/c)];case 6:return[1-t-i*(u/c),1-r,i*(u/c),s*(c/u)];case 7:return[r-s*(c/u),1-t-i*(u/c),s*(c/u),i*(u/c)];case 8:return[t-s,r-i,s,i];case 9:return[1-r,t-s,i,s];case 10:return[1-t,1-r,s,i];case 11:return[r-i,1-t,i,s];case 12:return[t-i*(u/c),r,i*(u/c),s*(c/u)];case 13:return[1-r-s*(c/u),t-i*(u/c),s*(c/u),i*(u/c)];case 14:return[1-t,1-r-s*(c/u),i*(u/c),s*(c/u)];case 15:return[r,1-t,s*(c/u),i*(u/c)];default:return[t,r,s,i]}},z(J,"_currentDrawId",-1),z(J,"_currentParent",null),S(J,Bt,null),S(J,$c,null),S(J,Uc,null),S(J,Ha,NaN),S(J,Va,null),S(J,Wa,null),S(J,Hc,NaN),z(J,"_INNER_MARGIN",3);let r0=J;var pi,zt,$t,Vc,Rh,Tn,Jt,qr,Wc,Gc,qc,Nh,av;class b5{constructor(e,t,r,s,i,o){S(this,Nh);S(this,pi,new Float64Array(6));S(this,zt);S(this,$t);S(this,Vc);S(this,Rh);S(this,Tn);S(this,Jt,"");S(this,qr,0);S(this,Wc,new Dg);S(this,Gc);S(this,qc);y(this,Gc,r),y(this,qc,s),y(this,Vc,i),y(this,Rh,o),[e,t]=E(this,Nh,av).call(this,e,t);const l=y(this,zt,[NaN,NaN,NaN,NaN,e,t]);y(this,Tn,[e,t]),y(this,$t,[{line:l,points:a(this,Tn)}]),a(this,pi).set(l,0)}updateProperty(e,t){e==="stroke-width"&&y(this,Rh,t)}isEmpty(){return!a(this,$t)||a(this,$t).length===0}isCancellable(){return a(this,Tn).length<=10}add(e,t){[e,t]=E(this,Nh,av).call(this,e,t);const[r,s,i,o]=a(this,pi).subarray(2,6),l=e-i,c=t-o;return Math.hypot(a(this,Gc)*l,a(this,qc)*c)<=2?null:(a(this,Tn).push(e,t),isNaN(r)?(a(this,pi).set([i,o,e,t],2),a(this,zt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(a(this,pi)[0])&&a(this,zt).splice(6,6),a(this,pi).set([r,s,i,o,e,t],0),a(this,zt).push(...K.createBezierPoints(r,s,i,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(a(this,Tn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,s,i){y(this,Gc,r),y(this,qc,s),y(this,Vc,i),[e,t]=E(this,Nh,av).call(this,e,t);const o=y(this,zt,[NaN,NaN,NaN,NaN,e,t]);y(this,Tn,[e,t]);const l=a(this,$t).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),a(this,$t).push({line:o,points:a(this,Tn)}),a(this,pi).set(o,0),y(this,qr,0),this.toSVGPath(),null}getLastElement(){return a(this,$t).at(-1)}setLastElement(e){return a(this,$t)?(a(this,$t).push(e),y(this,zt,e.line),y(this,Tn,e.points),y(this,qr,0),{path:{d:this.toSVGPath()}}):a(this,Wc).setLastElement(e)}removeLastElement(){if(!a(this,$t))return a(this,Wc).removeLastElement();a(this,$t).pop(),y(this,Jt,"");for(let e=0,t=a(this,$t).length;e<t;e++){const{line:r,points:s}=a(this,$t)[e];y(this,zt,r),y(this,Tn,s),y(this,qr,0),this.toSVGPath()}return{path:{d:a(this,Jt)}}}toSVGPath(){const e=K.svgRound(a(this,zt)[4]),t=K.svgRound(a(this,zt)[5]);if(a(this,Tn).length===2)return y(this,Jt,`${a(this,Jt)} M ${e} ${t} Z`),a(this,Jt);if(a(this,Tn).length<=6){const s=a(this,Jt).lastIndexOf("M");y(this,Jt,`${a(this,Jt).slice(0,s)} M ${e} ${t}`),y(this,qr,6)}if(a(this,Tn).length===4){const s=K.svgRound(a(this,zt)[10]),i=K.svgRound(a(this,zt)[11]);return y(this,Jt,`${a(this,Jt)} L ${s} ${i}`),y(this,qr,12),a(this,Jt)}const r=[];a(this,qr)===0&&(r.push(`M ${e} ${t}`),y(this,qr,6));for(let s=a(this,qr),i=a(this,zt).length;s<i;s+=6){const[o,l,c,u,d,h]=a(this,zt).slice(s,s+6).map(K.svgRound);r.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}return y(this,Jt,a(this,Jt)+r.join(" ")),y(this,qr,a(this,zt).length),a(this,Jt)}getOutlines(e,t,r,s){const i=a(this,$t).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),a(this,Wc).build(a(this,$t),e,t,r,a(this,Vc),a(this,Rh),s),y(this,pi,null),y(this,zt,null),y(this,$t,null),y(this,Jt,null),a(this,Wc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}pi=new WeakMap,zt=new WeakMap,$t=new WeakMap,Vc=new WeakMap,Rh=new WeakMap,Tn=new WeakMap,Jt=new WeakMap,qr=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Nh=new WeakSet,av=function(e,t){return K._normalizePoint(e,t,a(this,Gc),a(this,qc),a(this,Vc))};var kn,mg,gg,wr,mi,gi,Mh,Dh,Xc,nn,Oi,AN,SN,EN;class Dg extends K{constructor(){super(...arguments);S(this,nn);S(this,kn);S(this,mg,0);S(this,gg);S(this,wr);S(this,mi);S(this,gi);S(this,Mh);S(this,Dh);S(this,Xc)}build(t,r,s,i,o,l,c){y(this,mi,r),y(this,gi,s),y(this,Mh,i),y(this,Dh,o),y(this,Xc,l),y(this,gg,c??0),y(this,wr,t),E(this,nn,SN).call(this)}get thickness(){return a(this,Xc)}setLastElement(t){return a(this,wr).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return a(this,wr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of a(this,wr)){if(t.push(`M${K.svgRound(r[4])} ${K.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${K.svgRound(r[10])} ${K.svgRound(r[11])}`);continue}for(let s=6,i=r.length;s<i;s+=6){const[o,l,c,u,d,h]=r.subarray(s,s+6).map(K.svgRound);t.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,r,s,i],o){const l=[],c=[],[u,d,h,f]=E(this,nn,AN).call(this);let p,v,m,x,g,w,A,C,T;switch(a(this,Dh)){case 0:T=K._rescale,p=t,v=r+i,m=s,x=-i,g=t+u*s,w=r+(1-d-f)*i,A=t+(u+h)*s,C=r+(1-d)*i;break;case 90:T=K._rescaleAndSwap,p=t,v=r,m=s,x=i,g=t+d*s,w=r+u*i,A=t+(d+f)*s,C=r+(u+h)*i;break;case 180:T=K._rescale,p=t+s,v=r,m=-s,x=i,g=t+(1-u-h)*s,w=r+d*i,A=t+(1-u)*s,C=r+(d+f)*i;break;case 270:T=K._rescaleAndSwap,p=t+s,v=r+i,m=-s,x=-i,g=t+(1-d-f)*s,w=r+(1-u-h)*i,A=t+(1-d)*s,C=r+(1-u)*i;break}for(const{line:k,points:P}of a(this,wr))l.push(T(k,p,v,m,x,o?new Array(k.length):null)),c.push(T(P,p,v,m,x,o?new Array(P.length):null));return{lines:l,points:c,rect:[g,w,A,C]}}static deserialize(t,r,s,i,o,{paths:{lines:l,points:c},rotation:u,thickness:d}){const h=[];let f,p,v,m,x;switch(u){case 0:x=K._rescale,f=-t/s,p=r/i+1,v=1/s,m=-1/i;break;case 90:x=K._rescaleAndSwap,f=-r/i,p=-t/s,v=1/i,m=1/s;break;case 180:x=K._rescale,f=t/s+1,p=-r/i,v=-1/s,m=1/i;break;case 270:x=K._rescaleAndSwap,f=r/i+1,p=t/s+1,v=-1/i,m=-1/s;break}if(!l){l=[];for(const w of c){const A=w.length;if(A===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(A===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const C=new Float32Array(3*(A-2));l.push(C);let[T,k,P,R]=w.subarray(0,4);C.set([NaN,NaN,NaN,NaN,T,k],0);for(let N=4;N<A;N+=2){const D=w[N],M=w[N+1];C.set(K.createBezierPoints(T,k,P,R,D,M),(N-2)*3),[T,k,P,R]=[P,R,D,M]}}}for(let w=0,A=l.length;w<A;w++)h.push({line:x(l[w].map(C=>C??NaN),f,p,v,m),points:x(c[w].map(C=>C??NaN),f,p,v,m)});const g=new this.prototype.constructor;return g.build(h,s,i,1,u,d,o),g}get box(){return a(this,kn)}updateProperty(t,r){return t==="stroke-width"?E(this,nn,EN).call(this,r):null}updateParentDimensions([t,r],s){const[i,o]=E(this,nn,Oi).call(this);y(this,mi,t),y(this,gi,r),y(this,Mh,s);const[l,c]=E(this,nn,Oi).call(this),u=l-i,d=c-o,h=a(this,kn);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return y(this,mg,t),{path:{transform:this.rotationTransform}}}get viewBox(){return a(this,kn).map(K.svgRound).join(" ")}get defaultProperties(){const[t,r]=a(this,kn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=a(this,kn);let s=0,i=0,o=0,l=0,c=0,u=0;switch(a(this,mg)){case 90:i=r/t,o=-t/r,c=t;break;case 180:s=-1,l=-1,c=t,u=r;break;case 270:i=-r/t,o=t/r,u=r;break;default:return""}return`matrix(${s} ${i} ${o} ${l} ${K.svgRound(c)} ${K.svgRound(u)})`}getPathResizingSVGProperties([t,r,s,i]){const[o,l]=E(this,nn,Oi).call(this),[c,u,d,h]=a(this,kn);if(Math.abs(d-o)<=K.PRECISION||Math.abs(h-l)<=K.PRECISION){const x=t+s/2-(c+d/2),g=r+i/2-(u+h/2);return{path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(r)}`,transform:`${this.rotationTransform} translate(${x} ${g})`}}}const f=(s-2*o)/(d-2*o),p=(i-2*l)/(h-2*l),v=d/s,m=h/i;return{path:{"transform-origin":`${K.svgRound(c)} ${K.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${m}) translate(${K.svgRound(o)} ${K.svgRound(l)}) scale(${f} ${p}) translate(${K.svgRound(-o)} ${K.svgRound(-l)})`}}}getPathResizedSVGProperties([t,r,s,i]){const[o,l]=E(this,nn,Oi).call(this),c=a(this,kn),[u,d,h,f]=c;if(c[0]=t,c[1]=r,c[2]=s,c[3]=i,Math.abs(h-o)<=K.PRECISION||Math.abs(f-l)<=K.PRECISION){const g=t+s/2-(u+h/2),w=r+i/2-(d+f/2);for(const{line:A,points:C}of a(this,wr))K._translate(A,g,w,A),K._translate(C,g,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(s-2*o)/(h-2*o),v=(i-2*l)/(f-2*l),m=-p*(u+o)+t+o,x=-v*(d+l)+r+l;if(p!==1||v!==1||m!==0||x!==0)for(const{line:g,points:w}of a(this,wr))K._rescale(g,m,x,p,v,g),K._rescale(w,m,x,p,v,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${K.svgRound(t)} ${K.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],s){const[i,o]=s,l=a(this,kn),c=t-l[0],u=r-l[1];if(a(this,mi)===i&&a(this,gi)===o)for(const{line:d,points:h}of a(this,wr))K._translate(d,c,u,d),K._translate(h,c,u,h);else{const d=a(this,mi)/i,h=a(this,gi)/o;y(this,mi,i),y(this,gi,o);for(const{line:f,points:p}of a(this,wr))K._rescale(f,c,u,d,h,f),K._rescale(p,c,u,d,h,p);l[2]*=d,l[3]*=h}return l[0]=t,l[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${K.svgRound(t)} ${K.svgRound(r)}`}}}get defaultSVGProperties(){const t=a(this,kn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${K.svgRound(t[0])} ${K.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}kn=new WeakMap,mg=new WeakMap,gg=new WeakMap,wr=new WeakMap,mi=new WeakMap,gi=new WeakMap,Mh=new WeakMap,Dh=new WeakMap,Xc=new WeakMap,nn=new WeakSet,Oi=function(t=a(this,Xc)){const r=a(this,gg)+t/2*a(this,Mh);return a(this,Dh)%180===0?[r/a(this,mi),r/a(this,gi)]:[r/a(this,gi),r/a(this,mi)]},AN=function(){const[t,r,s,i]=a(this,kn),[o,l]=E(this,nn,Oi).call(this,0);return[t+o,r+l,s-2*o,i-2*l]},SN=function(){const t=y(this,kn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of a(this,wr)){if(i.length<=12){for(let c=4,u=i.length;c<u;c+=6)Q.pointBoundingBox(i[c],i[c+1],t);continue}let o=i[4],l=i[5];for(let c=6,u=i.length;c<u;c+=6){const[d,h,f,p,v,m]=i.subarray(c,c+6);Q.bezierBoundingBox(o,l,d,h,f,p,v,m,t),o=v,l=m}}const[r,s]=E(this,nn,Oi).call(this);t[0]=vn(t[0]-r,0,1),t[1]=vn(t[1]-s,0,1),t[2]=vn(t[2]+r,0,1),t[3]=vn(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]},EN=function(t){const[r,s]=E(this,nn,Oi).call(this);y(this,Xc,t);const[i,o]=E(this,nn,Oi).call(this),[l,c]=[i-r,o-s],u=a(this,kn);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u};class ow extends xN{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ve._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new ow(this._viewParameters);return e.updateAll(this),e}}var E0,CN;const Gu=class Gu extends r0{constructor(t){super({...t,name:"inkEditor"});S(this,E0);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Ve.initialize(t,r),this._defaultDrawingOptions=new ow(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return de(this,"typesMap",new Map([[ve.INK_THICKNESS,"stroke-width"],[ve.INK_COLOR,"stroke"],[ve.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,s,i,o){return new b5(t,r,s,i,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,s,i,o,l){return Dg.deserialize(t,r,s,i,o,l)}static async deserialize(t,r,s){let i=null;if(t instanceof xS){const{data:{inkLists:l,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:v,richText:m,contentsObj:x,creationDate:g,modificationDate:w},parent:{page:{pageNumber:A}}}=t;i=t={annotationType:ie.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:l},boxes:null,pageIndex:A-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:v,richText:m,comment:(x==null?void 0:x.str)||null,creationDate:g,modificationDate:w}}const o=await super.deserialize(t,r,s);return o._initialData=i,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new e0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ve.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:s}=this;r.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:s}){this._drawingOptions=Gu.getDefaultDrawingOptions({stroke:Q.makeHexColor(...t),"stroke-width":r,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:s}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Ve._colorManager.convert(i),opacity:o,thickness:l,paths:{lines:r,points:s}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!E(this,E0,CN).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};E0=new WeakSet,CN=function(t){const{color:r,thickness:s,opacity:i,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==r[c])||t.thickness!==s||t.opacity!==i||t.pageIndex!==o},z(Gu,"_type","ink"),z(Gu,"_editorType",ie.INK),z(Gu,"_defaultDrawingOptions",null);let R1=Gu;class N1 extends Dg{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const py=8,Af=3;var Yc,_e,M1,Es,_N,TN,D1,lv,kN,PN,RN,L1,I1,NN;class bi{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:s},i,o,l,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${r} ${s} ${h}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:m,actualBoundingBoxDescent:x,fontBoundingBoxAscent:g,fontBoundingBoxDescent:w,width:A}=d.measureText(e),C=1.5,T=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,A)*C),k=Math.ceil(Math.max(Math.abs(m)+Math.abs(x)||h,Math.abs(g)+Math.abs(w)||h)*C);u=new OffscreenCanvas(T,k),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,T,k),d.fillStyle="black",d.fillText(e,T*(C-1)/2,k*(3-C)/2);const P=E(this,_e,L1).call(this,d.getImageData(0,0,T,k).data),R=E(this,_e,RN).call(this,P),N=E(this,_e,I1).call(this,R),D=E(this,_e,D1).call(this,P,T,k,N);return this.processDrawnLines({lines:{curves:D,width:T,height:k},pageWidth:i,pageHeight:o,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,r,s,i){const[o,l,c]=E(this,_e,NN).call(this,e),[u,d]=E(this,_e,PN).call(this,o,l,c,Math.hypot(l,c)*a(this,Yc).sigmaSFactor,a(this,Yc).sigmaR,a(this,Yc).kernelSize),h=E(this,_e,I1).call(this,d),f=E(this,_e,D1).call(this,u,l,c,h);return this.processDrawnLines({lines:{curves:f,width:l,height:c},pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:o,areContours:l}){s%180!==0&&([t,r]=[r,t]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(t/u,r/d),v=p/t,m=p/r,x=[];for(const{points:w}of c){const A=o?E(this,_e,kN).call(this,w):w;if(!A)continue;x.push(A);const C=A.length,T=new Float32Array(C),k=new Float32Array(3*(C===2?2:C-2));if(f.push({line:k,points:T}),C===2){T[0]=A[0]*v,T[1]=A[1]*m,k.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[P,R,N,D]=A;P*=v,R*=m,N*=v,D*=m,T.set([P,R,N,D],0),k.set([NaN,NaN,NaN,NaN,P,R],0);for(let M=4;M<C;M+=2){const O=T[M]=A[M]*v,$=T[M+1]=A[M+1]*m;k.set(K.createBezierPoints(P,R,N,D,O,$),(M-2)*3),[P,R,N,D]=[N,D,O,$]}}if(f.length===0)return null;const g=l?new N1:new Dg;return g.build(f,t,r,1,s,l?0:h,i),{outline:g,newCurves:x,areContours:l,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:s,height:i}){let o=1/0,l=-1/0,c=0;for(const A of e){c+=A.length;for(let C=2,T=A.length;C<T;C++){const k=A[C]-A[C-2];o=Math.min(o,k),l=Math.max(l,k)}}let u;o>=-128&&l<=127?u=Int8Array:o>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=py+Af*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=s,f[p++]=i,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const A of e)f[p++]=A.length-2,f[p++]=A[0],f[p++]=A[1];const v=new CompressionStream("deflate-raw"),m=v.writable.getWriter();await m.ready,m.write(f);const x=u.prototype.constructor;for(const A of e){const C=new x(A.length-2);for(let T=2,k=A.length;T<k;T++)C[T-2]=A[T]-A[T-2];m.write(C)}m.close();const g=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(g);return kR(w)}static async decompressSignature(e){try{const t=G3(e),{readable:r,writable:s}=new DecompressionStream("deflate-raw"),i=s.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let o=null,l=0;for await(const A of r)o||(o=new Uint8Array(new Uint32Array(A.buffer,0,4)[0])),o.set(A,l),l+=A.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],v=c[6],m=c[7],x=[],g=(py+Af*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,g);break}l=0;for(let A=0;A<v;A++){const C=c[Af*A+py],T=new Float32Array(C+2);x.push(T);for(let k=0;k<Af-1;k++)T[k]=c[Af*A+py+k+1];for(let k=0;k<C;k++)T[k+2]=T[k]+w[l++]}return{areContours:f,thickness:p,outlines:x,width:d,height:h}}catch(t){return oe(`decompressSignature: ${t}`),null}}}Yc=new WeakMap,_e=new WeakSet,M1=function(e,t,r,s){return r-=e,s-=t,r===0?s>0?0:4:r===1?s+6:2-s},Es=new WeakMap,_N=function(e,t,r,s,i,o,l){const c=E(this,_e,M1).call(this,r,s,i,o);for(let u=0;u<8;u++){const d=(-u+c-l+16)%8,h=a(this,Es)[2*d],f=a(this,Es)[2*d+1];if(e[(r+h)*t+(s+f)]!==0)return d}return-1},TN=function(e,t,r,s,i,o,l){const c=E(this,_e,M1).call(this,r,s,i,o);for(let u=0;u<8;u++){const d=(u+c+l+16)%8,h=a(this,Es)[2*d],f=a(this,Es)[2*d+1];if(e[(r+h)*t+(s+f)]!==0)return d}return-1},D1=function(e,t,r,s){const i=e.length,o=new Int32Array(i);for(let d=0;d<i;d++)o[d]=e[d]<=s?1:0;for(let d=1;d<r-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*r-1-d]=0;let l=1,c;const u=[];for(let d=1;d<r-1;d++){c=1;for(let h=1;h<t-1;h++){const f=d*t+h,p=o[f];if(p===0)continue;let v=d,m=h;if(p===1&&o[f-1]===0)l+=1,m-=1;else if(p>=1&&o[f+1]===0)l+=1,m+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const x=[h,d],g=m===h+1,w={isHole:g,points:x,id:l,parent:0};u.push(w);let A;for(const M of u)if(M.id===c){A=M;break}A?A.isHole?w.parent=g?A.parent:c:w.parent=g?c:A.parent:w.parent=g?c:0;const C=E(this,_e,_N).call(this,o,t,d,h,v,m,0);if(C===-1){o[f]=-l,o[f]!==1&&(c=Math.abs(o[f]));continue}let T=a(this,Es)[2*C],k=a(this,Es)[2*C+1];const P=d+T,R=h+k;v=P,m=R;let N=d,D=h;for(;;){const M=E(this,_e,TN).call(this,o,t,N,D,v,m,1);T=a(this,Es)[2*M],k=a(this,Es)[2*M+1];const O=N+T,$=D+k;x.push($,O);const I=N*t+D;if(o[I+1]===0?o[I]=-l:o[I]===1&&(o[I]=l),O===d&&$===h&&N===P&&D===R){o[f]!==1&&(c=Math.abs(o[f]));break}else v=N,m=D,N=O,D=$}}}return u},lv=function(e,t,r,s){if(r-t<=4){for(let P=t;P<r-2;P+=2)s.push(e[P],e[P+1]);return}const i=e[t],o=e[t+1],l=e[r-4]-i,c=e[r-3]-o,u=Math.hypot(l,c),d=l/u,h=c/u,f=d*o-h*i,p=c/l,v=1/u,m=Math.atan(p),x=Math.cos(m),g=Math.sin(m),w=v*(Math.abs(x)+Math.abs(g)),A=v*(1-w+w**2),C=Math.max(Math.atan(Math.abs(g+x)*A),Math.atan(Math.abs(g-x)*A));let T=0,k=t;for(let P=t+2;P<r-2;P+=2){const R=Math.abs(f-d*e[P+1]+h*e[P]);R>T&&(k=P,T=R)}T>(u*C)**2?(E(this,_e,lv).call(this,e,t,k+2,s),E(this,_e,lv).call(this,e,k,r,s)):s.push(i,o)},kN=function(e){const t=[],r=e.length;return E(this,_e,lv).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},PN=function(e,t,r,s,i,o){const l=new Float32Array(o**2),c=-2*s**2,u=o>>1;for(let m=0;m<o;m++){const x=(m-u)**2;for(let g=0;g<o;g++)l[m*o+g]=Math.exp((x+(g-u)**2)/c)}const d=new Float32Array(256),h=-2*i**2;for(let m=0;m<256;m++)d[m]=Math.exp(m**2/h);const f=e.length,p=new Uint8Array(f),v=new Uint32Array(256);for(let m=0;m<r;m++)for(let x=0;x<t;x++){const g=m*t+x,w=e[g];let A=0,C=0;for(let k=0;k<o;k++){const P=m+k-u;if(!(P<0||P>=r))for(let R=0;R<o;R++){const N=x+R-u;if(N<0||N>=t)continue;const D=e[P*t+N],M=l[k*o+R]*d[Math.abs(D-w)];A+=D*M,C+=M}}const T=p[g]=Math.round(A/C);v[T]++}return[p,v]},RN=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},L1=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let s=-1/0,i=1/0;for(let l=0,c=r.length;l<c;l++){const u=r[l]=e[l<<2];s=Math.max(s,u),i=Math.min(i,u)}const o=255/(s-i);for(let l=0,c=r.length;l<c;l++)r[l]=(r[l]-i)*o;return r},I1=function(e){let t,r=-1/0,s=-1/0;const i=e.findIndex(c=>c!==0);let o=i,l=i;for(t=i;t<256;t++){const c=e[t];c>r&&(t-o>s&&(s=t-o,l=t-1),r=c,o=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},NN=function(e){const t=e,{width:r,height:s}=e,{maxDim:i}=a(this,Yc);let o=r,l=s;if(r>i||s>i){let f=r,p=s,v=Math.log2(Math.max(r,s)/i);const m=Math.floor(v);v=v===m?m-1:m;for(let g=0;g<v;g++){o=Math.ceil(f/2),l=Math.ceil(p/2);const w=new OffscreenCanvas(o,l);w.getContext("2d").drawImage(e,0,0,f,p,0,0,o,l),f=o,p=l,e!==t&&e.close(),e=w.transferToImageBitmap()}const x=Math.min(i/o,i/l);o=Math.round(o*x),l=Math.round(l*x)}const u=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,l);const d=u.getImageData(0,0,o,l).data;return[E(this,_e,L1).call(this,d),o,l]},S(bi,_e),S(bi,Yc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(bi,Es,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class AS extends xN{constructor(){super(),super.updateProperties({fill:Ve._defaultLineColor,"stroke-width":0})}clone(){const e=new AS;return e.updateAll(this),e}}class SS extends ow{constructor(e){super(e),super.updateProperties({stroke:Ve._defaultLineColor,"stroke-width":1})}clone(){const e=new SS(this._viewParameters);return e.updateAll(this),e}}var Ga,yi,qa,Kc;const rr=class rr extends r0{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,Ga,!1);S(this,yi,null);S(this,qa,null);S(this,Kc,null);this._willKeepAspectRatio=!0,y(this,qa,t.signatureData||null),y(this,yi,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Ve.initialize(t,r),this._defaultDrawingOptions=new AS,this._defaultDrawnSignatureOptions=new SS(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return de(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!a(this,yi)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(a(this,qa)){const{lines:i,mustSmooth:o,areContours:l,description:c,uuid:u,heightInPage:d}=a(this,qa),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,v=bi.processDrawnLines({lines:i,pageWidth:h,pageHeight:f,rotation:p,innerMargin:rr._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:a(this,yi)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){y(this,Kc,t),this.addEditToolbar()}getUuid(){return a(this,Kc)}get description(){return a(this,yi)}set description(t){y(this,yi,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:s,width:i,height:o}=a(this,qa),l=Math.max(i,o),c=bi.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:s,width:i,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,s,i){const{x:o,y:l}=this,{outline:c}=y(this,qa,t);y(this,Ga,c instanceof N1),this.description=s;let u;a(this,Ga)?u=rr.getDefaultDrawingOptions():(u=rr._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,d]=this.pageDimensions;let h=r/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:s},rotation:i}=this.parent.viewport;return bi.process(t,r,s,i,rr._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:s,pageHeight:i},rotation:o}=this.parent.viewport;return bi.extractContoursFromText(t,r,s,i,o,rr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:s},rotation:i}=this.parent.viewport;return bi.processDrawnLines({lines:t,pageWidth:r,pageHeight:s,rotation:i,innerMargin:rr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=rr.getDefaultDrawingOptions():(this._drawingOptions=rr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:a(this,Ga),color:[0,0,0],thickness:a(this,Ga)?0:i});return this.addComment(o),t?(o.paths={lines:r,points:s},o.uuid=a(this,Kc),o.isCopy=!0):o.lines=r,a(this,yi)&&(o.accessibilityData={type:"Figure",alt:a(this,yi)}),o}static deserializeDraw(t,r,s,i,o,l){return l.areContours?N1.deserialize(t,r,s,i,o,l):Dg.deserialize(t,r,s,i,o,l)}static async deserialize(t,r,s){var o;const i=await super.deserialize(t,r,s);return y(i,Ga,t.areContours),i.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",y(i,Kc,t.uuid),i}};Ga=new WeakMap,yi=new WeakMap,qa=new WeakMap,Kc=new WeakMap,z(rr,"_type","signature"),z(rr,"_editorType",ie.SIGNATURE),z(rr,"_defaultDrawingOptions",null);let O1=rr;var Ze,Ut,Xa,vo,Ya,Lh,wo,Qc,vi,xr,Ih,Ee,Gf,qf,cv,uv,dv,j1,hv,MN;class F1 extends Ve{constructor(t){super({...t,name:"stampEditor"});S(this,Ee);S(this,Ze,null);S(this,Ut,null);S(this,Xa,null);S(this,vo,null);S(this,Ya,null);S(this,Lh,"");S(this,wo,null);S(this,Qc,!1);S(this,vi,null);S(this,xr,!1);S(this,Ih,!1);y(this,vo,t.bitmapUrl),y(this,Ya,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Ve.initialize(t,r)}static isHandlingMimeForPasting(t){return Yv.includes(t)}static paste(t,r){r.pasteEditor({mode:ie.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:i,width:o,height:l,channels:i.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;a(this,Ut)&&(y(this,Ze,null),this._uiManager.imageManager.deleteId(a(this,Ut)),(t=a(this,wo))==null||t.remove(),y(this,wo,null),a(this,vi)&&(clearTimeout(a(this,vi)),y(this,vi,null))),super.remove()}rebuild(){if(!this.parent){a(this,Ut)&&E(this,Ee,cv).call(this);return}super.rebuild(),this.div!==null&&(a(this,Ut)&&a(this,wo)===null&&E(this,Ee,cv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(a(this,Xa)||a(this,Ze)||a(this,vo)||a(this,Ya)||a(this,Ut)||a(this,Qc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),a(this,Qc)||(a(this,Ze)?E(this,Ee,uv).call(this):E(this,Ee,cv).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:s,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(y(this,Ut,s),i&&y(this,Ze,i),y(this,Qc,!1),E(this,Ee,uv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;a(this,vi)!==null&&clearTimeout(a(this,vi)),y(this,vi,setTimeout(()=>{y(this,vi,null),E(this,Ee,j1).call(this)},200))}copyCanvas(t,r,s=!1){t||(t=224);const{width:i,height:o}=a(this,Ze),l=new Is;let c=a(this,Ze),u=i,d=o,h=null;if(r){if(i>r||o>r){const P=Math.min(r/i,r/o);u=Math.floor(i*P),d=Math.floor(o*P)}h=document.createElement("canvas");const p=h.width=Math.ceil(u*l.sx),v=h.height=Math.ceil(d*l.sy);a(this,xr)||(c=E(this,Ee,dv).call(this,p,v));const m=h.getContext("2d");m.filter=this._uiManager.hcmFilter;let x="white",g="#cfcfd8";this._uiManager.hcmFilter!=="none"?g="black":Y3.isDarkMode&&(x="#8f8f9d",g="#42414d");const w=15,A=w*l.sx,C=w*l.sy,T=new OffscreenCanvas(A*2,C*2),k=T.getContext("2d");k.fillStyle=x,k.fillRect(0,0,A*2,C*2),k.fillStyle=g,k.fillRect(0,0,A,C),k.fillRect(A,C,A,C),m.fillStyle=m.createPattern(T,"repeat"),m.fillRect(0,0,p,v),m.drawImage(c,0,0,c.width,c.height,0,0,p,v)}let f=null;if(s){let p,v;if(l.symmetric&&c.width<t&&c.height<t)p=c.width,v=c.height;else if(c=a(this,Ze),i>t||o>t){const g=Math.min(t/i,t/o);p=Math.floor(i*g),v=Math.floor(o*g),a(this,xr)||(c=E(this,Ee,dv).call(this,p,v))}const x=new OffscreenCanvas(p,v).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,p,v),f={width:p,height:v,data:x.getImageData(0,0,p,v).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,r,s){var x;let i=null,o=!1;if(t instanceof X2){const{data:{rect:g,rotation:w,id:A,structParent:C,popupRef:T,richText:k,contentsObj:P,creationDate:R,modificationDate:N},container:D,parent:{page:{pageNumber:M}},canvas:O}=t;let $,I;O?(delete t.canvas,{id:$,bitmap:I}=s.imageManager.getFromCanvas(D.id,O),O.remove()):(o=!0,t._hasNoCanvas=!0);const W=((x=await r._structTree.getAriaAttributes(`${uS}${A}`))==null?void 0:x.get("aria-label"))||"";i=t={annotationType:ie.STAMP,bitmapId:$,bitmap:I,pageIndex:M-1,rect:g.slice(0),rotation:w,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:C,popupRef:T,richText:k,comment:(P==null?void 0:P.str)||null,creationDate:R,modificationDate:N}}const l=await super.deserialize(t,r,s),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;o?(s.addMissingCanvas(t.id,l),y(l,Qc,!0)):h&&s.imageManager.isValidId(h)?(y(l,Ut,h),u&&y(l,Ze,u)):y(l,vo,d),y(l,xr,f);const[v,m]=l.pageDimensions;return l.width=(c[2]-c[0])/v,l.height=(c[3]-c[1])/m,p&&(l.altTextData=p),l._initialData=i,t.comment&&l.setCommentData(t),y(l,Ih,!!i),l}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(t),{bitmapId:a(this,Ut),isSvg:a(this,xr)});if(this.addComment(s),t)return s.bitmapUrl=E(this,Ee,hv).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=E(this,Ee,MN).call(this,s);return c.isSame?null:(c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(r===null)return s;r.stamps||(r.stamps=new Map);const l=a(this,xr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!r.stamps.has(a(this,Ut)))r.stamps.set(a(this,Ut),{area:l,serialized:s}),s.bitmap=E(this,Ee,hv).call(this,!1);else if(a(this,xr)){const c=r.stamps.get(a(this,Ut));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=E(this,Ee,hv).call(this,!1))}return s}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ze=new WeakMap,Ut=new WeakMap,Xa=new WeakMap,vo=new WeakMap,Ya=new WeakMap,Lh=new WeakMap,wo=new WeakMap,Qc=new WeakMap,vi=new WeakMap,xr=new WeakMap,Ih=new WeakMap,Ee=new WeakSet,Gf=function(t,r=!1){if(!t){this.remove();return}y(this,Ze,t.bitmap),r||(y(this,Ut,t.id),y(this,xr,t.isSvg)),t.file&&y(this,Lh,t.file.name),E(this,Ee,uv).call(this)},qf=function(){if(y(this,Xa,null),this._uiManager.enableWaiting(!1),!!a(this,wo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,Ze)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,Ze)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},cv=function(){if(a(this,Ut)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,Ut)).then(s=>E(this,Ee,Gf).call(this,s,!0)).finally(()=>E(this,Ee,qf).call(this));return}if(a(this,vo)){const s=a(this,vo);y(this,vo,null),this._uiManager.enableWaiting(!0),y(this,Xa,this._uiManager.imageManager.getFromUrl(s).then(i=>E(this,Ee,Gf).call(this,i)).finally(()=>E(this,Ee,qf).call(this)));return}if(a(this,Ya)){const s=a(this,Ya);y(this,Ya,null),this._uiManager.enableWaiting(!0),y(this,Xa,this._uiManager.imageManager.getFromFile(s).then(i=>E(this,Ee,Gf).call(this,i)).finally(()=>E(this,Ee,qf).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Yv.join(",");const r=this._uiManager._signal;y(this,Xa,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,Ee,Gf).call(this,i)}s()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:r})}).finally(()=>E(this,Ee,qf).call(this))),t.click()},uv=function(){var u;const{div:t}=this;let{width:r,height:s}=a(this,Ze);const[i,o]=this.pageDimensions,l=.75;if(this.width)r=this.width*i,s=this.height*o;else if(r>l*i||s>l*o){const d=Math.min(l*i/r,l*o/s);r*=d,s*=d}this._uiManager.enableWaiting(!1);const c=y(this,wo,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=r/i,this.height=s/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),E(this,Ee,j1).call(this),a(this,Ih)||(this.parent.addUndoableEditor(this),y(this,Ih,!0)),this._reportTelemetry({action:"inserted_image"}),a(this,Lh)&&this.div.setAttribute("aria-description",a(this,Lh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},dv=function(t,r){const{width:s,height:i}=a(this,Ze);let o=s,l=i,c=a(this,Ze);for(;o>2*t||l>2*r;){const u=o,d=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*r&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(o,l);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,l),c=h.transferToImageBitmap()}return c},j1=function(){const[t,r]=this.parentDimensions,{width:s,height:i}=this,o=new Is,l=Math.ceil(s*t*o.sx),c=Math.ceil(i*r*o.sy),u=a(this,wo);if(!u||u.width===l&&u.height===c)return;u.width=l,u.height=c;const d=a(this,xr)?a(this,Ze):E(this,Ee,dv).call(this,l,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,l,c)},hv=function(t){if(t){if(a(this,xr)){const i=this._uiManager.imageManager.getSvgUrl(a(this,Ut));if(i)return i}const r=document.createElement("canvas");return{width:r.width,height:r.height}=a(this,Ze),r.getContext("2d").drawImage(a(this,Ze),0,0),r.toDataURL()}if(a(this,xr)){const[r,s]=this.pageDimensions,i=Math.round(this.width*r*Oo.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Oo.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(i,o);return l.getContext("2d").drawImage(a(this,Ze),0,0,a(this,Ze).width,a(this,Ze).height,0,0,i,o),l.transferToImageBitmap()}return structuredClone(a(this,Ze))},MN=function(t){var l;const{pageIndex:r,accessibilityData:{altText:s}}=this._initialData,i=t.pageIndex===r,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&o,isSameAltText:o}},z(F1,"_type","stamp"),z(F1,"_editorType",ie.STAMP);var Zc,Oh,Ka,Qa,xo,Xn,Za,Fh,jh,Cs,bo,Ht,Ao,Ja,Bh,ee,el,ze,B1,DN,Ws,z1,$1,fv;const us=class us{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:s,accessibilityManager:i,annotationLayer:o,drawLayer:l,textLayer:c,viewport:u,l10n:d}){S(this,ze);S(this,Zc);S(this,Oh,!1);S(this,Ka,null);S(this,Qa,null);S(this,xo,null);S(this,Xn,new Map);S(this,Za,!1);S(this,Fh,!1);S(this,jh,!1);S(this,Cs,null);S(this,bo,null);S(this,Ht,null);S(this,Ao,null);S(this,Ja,null);S(this,Bh,-1);S(this,ee);const h=[...a(us,el).values()];if(!us._initialized){us._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),y(this,ee,e),this.pageIndex=t,this.div=r,y(this,Zc,i),y(this,Ka,o),this.viewport=u,y(this,Ht,c),this.drawLayer=l,this._structTree=s,a(this,ee).addLayer(this)}get isEmpty(){return a(this,Xn).size===0}get isInvisible(){return this.isEmpty&&a(this,ee).getMode()===ie.NONE}updateToolbar(e){a(this,ee).updateToolbar(e)}updateMode(e=a(this,ee).getMode()){switch(E(this,ze,fv).call(this),e){case ie.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ie.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ie.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ie.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of a(us,el).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=a(this,Ht))==null?void 0:t.div)}setEditingState(e){a(this,ee).setEditingState(e)}addCommands(e){a(this,ee).addCommands(e)}cleanUndoStack(e){a(this,ee).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=a(this,Ka))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;y(this,jh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=a(this,Ja))==null||r.abort(),y(this,Ja,null);const e=new Set;for(const s of a(this,ze,B1))s.enableEditing(),s.show(!0),s.annotationElementId&&(a(this,ee).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));const t=a(this,Ka);if(t)for(const s of t.getEditableAnnotations()){if(s.hide(),a(this,ee).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}y(this,jh,!1),a(this,ee)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(y(this,Fh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),a(this,Ht)&&!a(this,Ja)){y(this,Ja,new AbortController);const s=a(this,ee).combinedSignal(a(this,Ja));a(this,Ht).div.addEventListener("pointerdown",i=>{const{clientX:l,clientY:c,timeStamp:u}=i,d=a(this,Bh);if(u-d>500){y(this,Bh,u);return}y(this,Bh,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const v=new RegExp(`^${kp}[0-9]+$`);for(const x of f)if(v.test(x.id)){p=x.id;break}if(!p)return;const m=a(this,Xn).get(p);(m==null?void 0:m.annotationElementId)===null&&(i.stopPropagation(),i.preventDefault(),m.dblclick(i))},{signal:s,capture:!0})}const e=a(this,Ka);if(e){const s=new Map,i=new Map;for(const l of a(this,ze,B1)){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(a(this,ee).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=i.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=s.get(c),u&&(a(this,ee).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}E(this,ze,fv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const s of a(us,el).values())t.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),y(this,Fh,!1)}getEditableAnnotation(e){var t;return((t=a(this,Ka))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){a(this,ee).getActive()!==e&&a(this,ee).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=a(this,Ht))!=null&&e.div&&!a(this,Ao)){y(this,Ao,new AbortController);const t=a(this,ee).combinedSignal(a(this,Ao));a(this,Ht).div.addEventListener("pointerdown",E(this,ze,DN).bind(this),{signal:t}),a(this,Ht).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=a(this,Ht))!=null&&e.div&&a(this,Ao)&&(a(this,Ao).abort(),y(this,Ao,null),a(this,Ht).div.classList.remove("highlighting"))}enableClick(){if(a(this,Qa))return;y(this,Qa,new AbortController);const e=a(this,ee).combinedSignal(a(this,Qa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=a(this,Qa))==null||e.abort(),y(this,Qa,null)}attach(e){a(this,Xn).set(e.id,e);const{annotationElementId:t}=e;t&&a(this,ee).isDeletedAnnotationElement(t)&&a(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;a(this,Xn).delete(e.id),(t=a(this,Zc))==null||t.removePointerInTextLayer(e.contentDiv),!a(this,Fh)&&e.annotationElementId&&a(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),a(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(a(this,ee).addDeletedAnnotationElement(e.annotationElementId),Ve.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),a(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!a(this,jh)),a(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!a(this,xo)&&(e._focusEventsAllowed=!1,y(this,xo,setTimeout(()=>{y(this,xo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:a(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(r=a(this,Zc))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of a(this,Xn).values())if(t.uid===e)return t;return null}getNextId(){return a(this,ee).getId()}combinedSignal(e){return a(this,ee).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=a(this,ze,Ws))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await a(this,ee).updateMode(e.mode);const{offsetX:r,offsetY:s}=E(this,ze,$1).call(this),i=this.getNextId(),o=E(this,ze,z1).call(this,{parent:this,id:i,x:r,y:s,uiManager:a(this,ee),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=a(us,el).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,a(this,ee)))||null}createAndAddNewEditor(e,t,r={}){const s=this.getNextId(),i=E(this,ze,z1).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:a(this,ee),isCentered:t,...r});return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(E(this,ze,$1).call(this),!0,e)}setSelected(e){a(this,ee).setSelected(e)}toggleSelected(e){a(this,ee).toggleSelected(e)}unselect(e){a(this,ee).unselect(e)}pointerup(e){var s;const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!a(this,Za)||(y(this,Za,!1),(s=a(this,ze,Ws))!=null&&s.isDrawer&&a(this,ze,Ws).supportMultipleDrawings))return;if(!a(this,Oh)){y(this,Oh,!0);return}const r=a(this,ee).getMode();if(r===ie.STAMP||r===ie.SIGNATURE){a(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(a(this,ee).getMode()===ie.HIGHLIGHT&&this.enableTextSelection(),a(this,Za)){y(this,Za,!1);return}const{isMac:t}=Gt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(y(this,Za,!0),(s=a(this,ze,Ws))!=null&&s.isDrawer){this.startDrawingSession(e);return}const r=a(this,ee).getActive();y(this,Oh,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),a(this,Cs)){a(this,ze,Ws).startDrawing(this,a(this,ee),!1,e);return}a(this,ee).setCurrentDrawingSession(this),y(this,Cs,new AbortController);const t=a(this,ee).combinedSignal(a(this,Cs));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(y(this,bo,null),this.commitOrRemove())},{signal:t}),a(this,ze,Ws).startDrawing(this,a(this,ee),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&y(this,bo,t);return}a(this,bo)&&setTimeout(()=>{var t;(t=a(this,bo))==null||t.focus(),y(this,bo,null)},0)}endDrawingSession(e=!1){return a(this,Cs)?(a(this,ee).setCurrentDrawingSession(null),a(this,Cs).abort(),y(this,Cs,null),y(this,bo,null),a(this,ze,Ws).endDrawing(e)):null}findNewParent(e,t,r){const s=a(this,ee).findParent(t,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return a(this,Cs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){a(this,Cs)&&a(this,ze,Ws).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=a(this,ee).getActive())==null?void 0:e.parent)===this&&(a(this,ee).commitOrRemove(),a(this,ee).setActiveEditor(null)),a(this,xo)&&(clearTimeout(a(this,xo)),y(this,xo,null));for(const r of a(this,Xn).values())(t=a(this,Zc))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,a(this,Xn).clear(),a(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,gl(this.div,e);for(const t of a(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){a(this,ee).commitOrRemove(),E(this,ze,fv).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,gl(this.div,{rotation:r}),t!==r)for(const s of a(this,Xn).values())s.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return a(this,ee).viewParameters.realScale}};Zc=new WeakMap,Oh=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,xo=new WeakMap,Xn=new WeakMap,Za=new WeakMap,Fh=new WeakMap,jh=new WeakMap,Cs=new WeakMap,bo=new WeakMap,Ht=new WeakMap,Ao=new WeakMap,Ja=new WeakMap,Bh=new WeakMap,ee=new WeakMap,el=new WeakMap,ze=new WeakSet,B1=function(){return a(this,Xn).size!==0?a(this,Xn).values():a(this,ee).getEditors(this.pageIndex)},DN=function(e){a(this,ee).unselectAll();const{target:t}=e;if(t===a(this,Ht).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&a(this,Ht).div.contains(t)){const{isMac:r}=Gt.platform;if(e.button!==0||e.ctrlKey&&r)return;a(this,ee).showAllEditors("highlight",!0,!0),a(this,Ht).div.classList.add("free"),this.toggleDrawing(),n0.startHighlighting(this,a(this,ee).direction==="ltr",{target:a(this,Ht).div,x:e.x,y:e.y}),a(this,Ht).div.addEventListener("pointerup",()=>{a(this,Ht).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:a(this,ee)._signal}),e.preventDefault()}},Ws=function(){return a(us,el).get(a(this,ee).getMode())},z1=function(e){const t=a(this,ze,Ws);return t?new t.prototype.constructor(e):null},$1=function(){const{x:e,y:t,width:r,height:s}=this.boundingClientRect,i=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+s),u=(i+l)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},fv=function(){for(const e of a(this,Xn).values())e.isEmpty()&&e.remove()},z(us,"_initialized",!1),S(us,el,new Map([x1,R1,F1,n0,O1].map(e=>[e._editorType,e])));let s0=us;var _s,Pn,Jc,yg,C0,LN,Pi,U1,IN,H1;const Rt=class Rt{constructor({pageIndex:e}){S(this,Pi);S(this,_s,null);S(this,Pn,new Map);S(this,Jc,new Map);this.pageIndex=e}setParent(e){if(!a(this,_s)){y(this,_s,e);return}if(a(this,_s)!==e){if(a(this,Pn).size>0)for(const t of a(this,Pn).values())t.remove(),e.append(t);y(this,_s,e)}}static get _svgFactory(){return de(this,"_svgFactory",new Ip)}draw(e,t=!1,r=!1){const s=ht(Rt,yg)._++,i=E(this,Pi,U1).call(this),o=Rt._svgFactory.createElement("defs");i.append(o);const l=Rt._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&a(this,Jc).set(s,l);const u=r?E(this,Pi,IN).call(this,o,c):null,d=Rt._svgFactory.createElement("use");return i.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(i,e),a(this,Pn).set(s,i),{id:s,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=ht(Rt,yg)._++,s=E(this,Pi,U1).call(this),i=Rt._svgFactory.createElement("defs");s.append(i);const o=Rt._svgFactory.createElement("path");i.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=Rt._svgFactory.createElement("mask");i.append(h),c=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Rt._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Rt._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${l}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Rt._svgFactory.createElement("use");s.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return s.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,e),a(this,Pn).set(r,s),r}finalizeDraw(e,t){a(this,Jc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:r,bbox:s,rootClass:i,path:o}=t,l=typeof e=="number"?a(this,Pn).get(e):e;if(l){if(r&&E(this,Pi,H1).call(this,l,r),s&&E(c=Rt,C0,LN).call(c,l,s),i){const{classList:u}=l;for(const[d,h]of Object.entries(i))u.toggle(d,h)}if(o){const d=l.firstChild.firstChild;E(this,Pi,H1).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const r=a(this,Pn).get(e);r&&(a(t,_s).append(r),a(this,Pn).delete(e),a(t,Pn).set(e,r))}remove(e){a(this,Jc).delete(e),a(this,_s)!==null&&(a(this,Pn).get(e).remove(),a(this,Pn).delete(e))}destroy(){y(this,_s,null);for(const e of a(this,Pn).values())e.remove();a(this,Pn).clear(),a(this,Jc).clear()}};_s=new WeakMap,Pn=new WeakMap,Jc=new WeakMap,yg=new WeakMap,C0=new WeakSet,LN=function(e,[t,r,s,i]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*i}%`},Pi=new WeakSet,U1=function(){const e=Rt._svgFactory.create(1,1,!0);return a(this,_s).append(e),e.setAttribute("aria-hidden",!0),e},IN=function(e,t){const r=Rt._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${t}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const i=Rt._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},H1=function(e,t){for(const[r,s]of Object.entries(t))s===null?e.removeAttribute(r):e.setAttribute(r,s)},S(Rt,C0),S(Rt,yg,0);let i0=Rt;globalThis._pdfjsTestingUtils={HighlightOutliner:A1};globalThis.pdfjsLib={AbortException:Io,AnnotationEditorLayer:s0,AnnotationEditorParamsType:ve,AnnotationEditorType:ie,AnnotationEditorUIManager:yl,AnnotationLayer:bS,AnnotationMode:xi,AnnotationType:xt,applyOpacity:DR,build:O2,ColorPicker:Lp,createValidAbsoluteUrl:aS,CSSConstants:MR,DOMSVGFactory:Ip,DrawLayer:i0,FeatureTest:Gt,fetchData:af,findContrastColor:LR,getDocument:gS,getFilenameFromUrl:PR,getPdfFilenameFromUrl:RR,getRGB:lf,getUuid:cS,getXfaPageViewport:NR,GlobalWorkerOptions:Kr,ImageKind:ip,InvalidPDFException:Xv,isDataScheme:Rg,isPdfFile:sw,isValidExplicitDest:f2,MathClamp:vn,noContextMenu:Nr,normalizeUnicode:TR,OPS:Yh,OutputScale:Is,PasswordResponses:CR,PDFDataRangeTransport:yS,PDFDateString:Np,PDFWorker:Kh,PermissionFlag:ER,PixelsPerInch:Oo,RenderingCancelledException:rw,renderRichText:hS,ResponseException:Pp,setLayerDimensions:gl,shadow:de,SignatureExtractor:bi,stopEvent:ot,SupportedImageMimeTypes:Yv,TextLayer:Dp,TouchManager:Mp,updateUrlHash:lS,Util:Q,VerbosityLevel:Tg,version:vS,XfaLayer:dS};const A5=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Io,AnnotationEditorLayer:s0,AnnotationEditorParamsType:ve,AnnotationEditorType:ie,AnnotationEditorUIManager:yl,AnnotationLayer:bS,AnnotationMode:xi,AnnotationType:xt,CSSConstants:MR,ColorPicker:Lp,DOMSVGFactory:Ip,DrawLayer:i0,FeatureTest:Gt,GlobalWorkerOptions:Kr,ImageKind:ip,InvalidPDFException:Xv,MathClamp:vn,OPS:Yh,OutputScale:Is,PDFDataRangeTransport:yS,PDFDateString:Np,PDFWorker:Kh,PasswordResponses:CR,PermissionFlag:ER,PixelsPerInch:Oo,RenderingCancelledException:rw,ResponseException:Pp,SignatureExtractor:bi,SupportedImageMimeTypes:Yv,TextLayer:Dp,TouchManager:Mp,Util:Q,VerbosityLevel:Tg,XfaLayer:dS,applyOpacity:DR,build:O2,createValidAbsoluteUrl:aS,fetchData:af,findContrastColor:LR,getDocument:gS,getFilenameFromUrl:PR,getPdfFilenameFromUrl:RR,getRGB:lf,getUuid:cS,getXfaPageViewport:NR,isDataScheme:Rg,isPdfFile:sw,isValidExplicitDest:f2,noContextMenu:Nr,normalizeUnicode:TR,renderRichText:hS,setLayerDimensions:gl,shadow:de,stopEvent:ot,updateUrlHash:lS,version:vS},Symbol.toStringTag,{value:"Module"}));var s_=Object.prototype.hasOwnProperty;function i_(n,e,t){for(t of n.keys())if(rd(t,e))return t}function rd(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&rd(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=i_(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=i_(e,s),!s)||!rd(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(s_.call(n,t)&&++r&&!s_.call(e,t)||!(t in e)||!rd(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Lg(n){let e=!1;return{promise:new Promise((r,s)=>{n.then(i=>!e&&r(i)).catch(i=>!e&&s(i))}),cancel(){e=!0}}}const S5=["onCopy","onCut","onPaste"],E5=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],C5=["onFocus","onBlur"],_5=["onInput","onInvalid","onReset","onSubmit"],T5=["onLoad","onError"],k5=["onKeyDown","onKeyPress","onKeyUp"],P5=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],R5=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],N5=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],M5=["onSelect"],D5=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],L5=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],I5=["onScroll"],O5=["onWheel"],F5=["onAnimationStart","onAnimationEnd","onAnimationIteration"],j5=["onTransitionEnd"],B5=["onToggle"],z5=["onChange"],$5=[...S5,...E5,...C5,..._5,...T5,...k5,...P5,...R5,...N5,...M5,...D5,...L5,...I5,...O5,...F5,...j5,...z5,...B5];function ON(n,e){const t={};for(const r of $5){const s=n[r];s&&(e?t[r]=i=>s(i,e(r)):t[r]=s)}return t}var U5="Invariant failed";function Be(n,e){if(!n)throw new Error(U5)}var H5=function(){},V5=H5;const xn=q1(V5),FN=_.createContext(null),W5="noopener noreferrer nofollow";class G5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Be(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Be(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||W5,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Be(this.pdfDocument),Be(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Be(Array.isArray(t));const r=t[0];new Promise(s=>{Be(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(i=>{s(i)}).catch(()=>{Be(!1)}):typeof r=="number"?s(r):Be(!1)}).then(s=>{const i=s+1;Be(this.pdfViewer),Be(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:i})})})}goToPage(e){const t=e-1;Be(this.pdfViewer),Be(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function sd({children:n,type:e}){return b.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const o_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function q5(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Qh(){return _.useReducer(q5,{value:void 0,error:void 0})}const aw=typeof window<"u",jN=aw&&window.location.protocol==="file:";function X5(n){return typeof n<"u"}function El(n){return X5(n)&&n!==null}function Y5(n){return typeof n=="string"}function K5(n){return n instanceof ArrayBuffer}function Q5(n){return Be(aw),n instanceof Blob}function V1(n){return Y5(n)&&/^data:/.test(n)}function a_(n){Be(V1(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Z5(){return aw&&window.devicePixelRatio||1}const BN="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function l_(){xn(!jN,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${BN}`)}function J5(){xn(!jN,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${BN}`)}function cu(n){n!=null&&n.cancel&&n.cancel()}function W1(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function ez(n){return n.name==="RenderingCancelledException"}function tz(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:i}=s.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:nz}=A5,rz=(n,e)=>{switch(e){case o_.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case o_.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function c_(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const sz=_.forwardRef(function({children:e,className:t,error:r="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:i,file:o,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF",noData:d="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:v,onPassword:m=rz,onSourceError:x,onSourceSuccess:g,options:w,renderMode:A,rotate:C,scale:T,...k},P){const[R,N]=Qh(),{value:D,error:M}=R,[O,$]=Qh(),{value:I,error:W}=O,j=_.useRef(new G5),B=_.useRef([]),L=_.useRef(void 0),F=_.useRef(void 0);o&&o!==L.current&&c_(o)&&(xn(!rd(o,L.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),L.current=o),w&&w!==F.current&&(xn(!rd(w,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=w);const H=_.useRef({scrollPageIntoView:pe=>{const{dest:Te,pageNumber:tt,pageIndex:nt=tt-1}=pe;if(h){h({dest:Te,pageIndex:nt,pageNumber:tt});return}const js=B.current[nt];if(js){js.scrollIntoView();return}xn(!1,`An internal link leading to page ${tt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});_.useImperativeHandle(P,()=>({linkService:j,pages:B,viewer:H}),[]);function ne(){g&&g()}function V(){M&&(xn(!1,M.toString()),x&&x(M))}function X(){N({type:"RESET"})}_.useEffect(X,[o,N]);const re=_.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return V1(o)?{data:a_(o)}:(l_(),{url:o});if(o instanceof nz)return{range:o};if(K5(o))return{data:o};if(aw&&Q5(o))return{data:await tz(o)};if(Be(typeof o=="object"),Be(c_(o)),"url"in o&&typeof o.url=="string"){if(V1(o.url)){const{url:pe,...Te}=o;return{data:a_(pe),...Te}}l_()}return o},[o]);_.useEffect(()=>{const pe=Lg(re());return pe.promise.then(Te=>{N({type:"RESOLVE",value:Te})}).catch(Te=>{N({type:"REJECT",error:Te})}),()=>{cu(pe)}},[re,N]),_.useEffect(()=>{if(!(typeof D>"u")){if(D===!1){V();return}ne()}},[D]);function me(){I&&(v&&v(I),B.current=new Array(I.numPages),j.current.setDocument(I))}function be(){W&&(xn(!1,W.toString()),f&&f(W))}_.useEffect(function(){$({type:"RESET"})},[$,D]),_.useEffect(function(){if(!D)return;const Te=w?{...D,...w}:D,tt=gS(Te);p&&(tt.onProgress=p),m&&(tt.onPassword=m);const nt=tt,js=nt.promise.then(rs=>{$({type:"RESOLVE",value:rs})}).catch(rs=>{nt.destroyed||$({type:"REJECT",error:rs})});return()=>{js.finally(()=>nt.destroy())}},[w,$,D]),_.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){be();return}me()}},[I]),_.useEffect(function(){j.current.setViewer(H.current),j.current.setExternalLinkRel(s),j.current.setExternalLinkTarget(i)},[s,i]);const te=_.useCallback((pe,Te)=>{B.current[pe]=Te},[]),An=_.useCallback(pe=>{delete B.current[pe]},[]),ut=_.useMemo(()=>({imageResourcesPath:c,linkService:j.current,onItemClick:h,pdf:I,registerPage:te,renderMode:A,rotate:C,scale:T,unregisterPage:An}),[c,h,I,te,A,C,T,An]),we=_.useMemo(()=>ON(k,()=>I),[k,I]);function dt(){function pe(tt){return!!(tt!=null&&tt.pdf)}if(!pe(ut))throw new Error("pdf is undefined");const Te=typeof e=="function"?e(ut):e;return b.jsx(FN.Provider,{value:ut,children:Te})}function an(){return o?I==null?b.jsx(sd,{type:"loading",children:typeof u=="function"?u():u}):I===!1?b.jsx(sd,{type:"error",children:typeof r=="function"?r():r}):dt():b.jsx(sd,{type:"no-data",children:typeof d=="function"?d():d})}return b.jsx("div",{className:nf("react-pdf__Document",t),ref:l,...we,children:an()})});function zN(){return _.useContext(FN)}function $N(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(i){for(var o=0,l=t;o<l.length;o++){var c=l[o];typeof c=="function"?c(i):c&&(c.current=i)}}}const UN=_.createContext(null);function lw(){return _.useContext(UN)}function iz(){const n=zN(),e=lw();Be(e);const t={...n,...e},{imageResourcesPath:r,linkService:s,onGetAnnotationsError:i,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Be(d),Be(u),Be(s);const[v,m]=Qh(),{value:x,error:g}=v,w=_.useRef(null);xn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){x&&o&&o(x)}function C(){g&&(xn(!1,g.toString()),i&&i(g))}_.useEffect(function(){m({type:"RESET"})},[m,u]),_.useEffect(function(){if(!u)return;const N=Lg(u.getAnnotations()),D=N;return N.promise.then(M=>{m({type:"RESOLVE",value:M})}).catch(M=>{m({type:"REJECT",error:M})}),()=>{cu(D)}},[m,u]),_.useEffect(()=>{if(x!==void 0){if(x===!1){C();return}A()}},[x]);function T(){c&&c()}function k(R){xn(!1,`${R}`),l&&l(R)}const P=_.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return _.useEffect(function(){if(!d||!u||!s||!x)return;const{current:N}=w;if(!N)return;const D=P.clone({dontFlip:!0}),M={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:N,l10n:null,linkService:s,page:u,structTreeLayer:null,viewport:D},O={annotations:x,annotationStorage:d.annotationStorage,div:N,imageResourcesPath:r,linkService:s,page:u,renderForms:h,viewport:D};N.innerHTML="";try{new bS(M).render(O),T()}catch($){k($)}return()=>{}},[x,r,s,u,d,h,P]),b.jsx("div",{className:nf("react-pdf__Page__annotations","annotationLayer"),ref:w})}const HN={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},oz=/^H(\d+)$/;function az(n){return n in HN}function cw(n){return"children"in n}function VN(n){return cw(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function lz(n){const e={};if(cw(n)){const{role:t}=n,r=t.match(oz);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(az(t)){const s=HN[t];s&&(e.role=s)}}return e}function WN(n){const e={};if(cw(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),VN(n)){const[t]=n.children;if(t){const r=WN(t);return{...e,...r}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function cz(n){return n?{...lz(n),...WN(n)}:null}function GN({className:n,node:e}){const t=_.useMemo(()=>cz(e),[e]),r=_.useMemo(()=>!cw(e)||VN(e)?null:e.children.map((s,i)=>b.jsx(GN,{node:s},i)),[e]);return b.jsx("span",{className:n,...t,children:r})}function uz(){const n=lw();Be(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,s]=Qh(),{value:i,error:o}=r,{customTextRenderer:l,page:c}=n;function u(){i&&t&&t(i)}function d(){o&&(xn(!1,o.toString()),e&&e(o))}return _.useEffect(function(){s({type:"RESET"})},[s,c]),_.useEffect(function(){if(l||!c)return;const f=Lg(c.getStructTree()),p=f;return f.promise.then(v=>{s({type:"RESOLVE",value:v})}).catch(v=>{s({type:"REJECT",error:v})}),()=>cu(p)},[l,c,s]),_.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}u()}},[i]),i?b.jsx(GN,{className:"react-pdf__Page__structTree structTree",node:i}):null}const u_=xi;function dz(n){const e=lw();Be(e);const t={...e,...n},{_className:r,canvasBackground:s,devicePixelRatio:i=Z5(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Be(c);const v=_.useRef(null);function m(){c&&l&&l(W1(c,f))}function x(C){ez(C)||(xn(!1,C.toString()),o&&o(C))}const g=_.useMemo(()=>c.getViewport({scale:f*i,rotation:h}),[i,c,h,f]),w=_.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);_.useEffect(function(){if(!c)return;c.cleanup();const{current:T}=v;if(!T)return;T.width=g.width,T.height=g.height,T.style.width=`${Math.floor(w.width)}px`,T.style.height=`${Math.floor(w.height)}px`,T.style.visibility="hidden";const k={annotationMode:u?u_.ENABLE_FORMS:u_.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:g};s&&(k.background=s);const P=c.render(k),R=P;return P.promise.then(()=>{T.style.visibility="",m()}).catch(x),()=>cu(R)},[s,c,u,g,w]);const A=_.useCallback(()=>{const{current:C}=v;C&&(C.width=0,C.height=0)},[]);return _.useEffect(()=>A,[A]),b.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:$N(p,v),style:{display:"block",userSelect:"none"},children:d?b.jsx(uz,{}):null})}function hz(n){return"str"in n}function fz(){const n=lw();Be(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:s,onRenderTextLayerSuccess:i,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=n;Be(o);const[h,f]=Qh(),{value:p,error:v}=h,m=_.useRef(null);xn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){p&&r&&r(p)}function g(){v&&(xn(!1,v.toString()),t&&t(v))}_.useEffect(function(){f({type:"RESET"})},[o,f]),_.useEffect(function(){if(!o)return;const R=Lg(o.getTextContent()),N=R;return R.promise.then(D=>{f({type:"RESOLVE",value:D})}).catch(D=>{f({type:"REJECT",error:D})}),()=>cu(N)},[o,f]),_.useEffect(()=>{if(p!==void 0){if(p===!1){g();return}x()}},[p]);const w=_.useCallback(()=>{i&&i()},[i]),A=_.useCallback(P=>{xn(!1,P.toString()),s&&s(P)},[s]);function C(){const P=m.current;P&&P.classList.add("selecting")}function T(){const P=m.current;P&&P.classList.remove("selecting")}const k=_.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return _.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=m;if(!R)return;R.innerHTML="";const N=o.streamTextContent({includeMarkedContent:!0}),D={container:R,textContentSource:N,viewport:k},M=new Dp(D),O=M;return M.render().then(()=>{const $=document.createElement("div");$.className="endOfContent",R.append($);const I=R.querySelectorAll('[role="presentation"]');if(e){let W=0;p.items.forEach((j,B)=>{if(!hz(j))return;const L=I[W];if(!L)return;const F=e({pageIndex:l,pageNumber:c,itemIndex:B,...j});L.innerHTML=F,W+=j.str&&j.hasEOL?2:1})}w()}).catch(A),()=>cu(O)},[e,A,w,o,l,c,p,k]),b.jsx("div",{className:nf("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:C,ref:m})}const d_=1;function pz(n){const t={...zN(),...n},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:i,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:v,loading:m="Loading page",noData:x="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:w,onGetStructTreeError:A,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:R,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:D,onRenderError:M,onRenderSuccess:O,onRenderTextLayerError:$,onRenderTextLayerSuccess:I,pageIndex:W,pageNumber:j,pdf:B,registerPage:L,renderAnnotationLayer:F=!0,renderForms:H=!1,renderMode:ne="canvas",renderTextLayer:V=!0,rotate:X,scale:re=d_,unregisterPage:me,width:be,...te}=t,[An,ut]=Qh(),{value:we,error:dt}=An,an=_.useRef(null);Be(B);const pe=El(j)?j-1:W??null,Te=j??(El(W)?W+1:null),tt=X??(we?we.rotate:null),nt=_.useMemo(()=>{if(!we)return null;let Sn=1;const $o=re??d_;if(be||p){const $s=we.getViewport({scale:1,rotation:tt});be?Sn=be/$s.width:p&&(Sn=p/$s.height)}return $o*Sn},[p,we,tt,re,be]);_.useEffect(function(){return()=>{El(pe)&&s&&me&&me(pe)}},[s,B,pe,me]);function js(){if(R){if(!we||!nt)return;R(W1(we,nt))}if(s&&L){if(!El(pe)||!an.current)return;L(pe,an.current)}}function rs(){dt&&(xn(!1,dt.toString()),P&&P(dt))}_.useEffect(function(){ut({type:"RESET"})},[ut,B,pe]),_.useEffect(function(){if(!B||!Te)return;const $o=Lg(B.getPage(Te)),$s=$o;return $o.promise.then(Uo=>{ut({type:"RESOLVE",value:Uo})}).catch(Uo=>{ut({type:"REJECT",error:Uo})}),()=>cu($s)},[ut,B,Te]),_.useEffect(()=>{if(we!==void 0){if(we===!1){rs();return}js()}},[we,nt]);const Bs=_.useMemo(()=>El(pe)&&Te&&El(tt)&&El(nt)?{_className:r,canvasBackground:i,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:w,onGetStructTreeError:A,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:k,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:D,onRenderError:M,onRenderSuccess:O,onRenderTextLayerError:$,onRenderTextLayerSuccess:I,page:we,pageIndex:pe,pageNumber:Te,renderForms:H,renderTextLayer:V,rotate:tt,scale:nt}:null,[r,i,d,h,g,w,A,C,T,k,N,D,M,O,$,I,we,pe,Te,H,V,tt,nt]),Ig=_.useMemo(()=>ON(te,()=>we&&(nt?W1(we,nt):void 0)),[te,we,nt]),zs=`${pe}@${nt}/${tt}`;function Og(){switch(ne){case"custom":return Be(u),b.jsx(u,{},`${zs}_custom`);case"none":return null;case"canvas":default:return b.jsx(dz,{canvasRef:o},`${zs}_canvas`)}}function Ni(){return V?b.jsx(fz,{},`${zs}_text`):null}function hw(){return F?b.jsx(iz,{},`${zs}_annotations`):null}function fw(){function Sn($s){return!!($s!=null&&$s.page)}if(!Sn(Bs))throw new Error("page is undefined");const $o=typeof l=="function"?l(Bs):l;return b.jsxs(UN.Provider,{value:Bs,children:[Og(),Ni(),hw(),$o]})}function Bn(){return Te?B===null||we===void 0||we===null?b.jsx(sd,{type:"loading",children:typeof m=="function"?m():m}):B===!1||we===!1?b.jsx(sd,{type:"error",children:typeof f=="function"?f():f}):fw():b.jsx(sd,{type:"no-data",children:typeof x=="function"?x():x})}return b.jsx("div",{className:nf(r,c),"data-page-number":Te,ref:$N(v,an),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${nt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ig,children:Bn()})}J5();Kr.workerSrc="pdf.worker.mjs";Kr.workerSrc=`//unpkg.com/pdfjs-dist@${vS}/build/pdf.worker.min.mjs`;const mz=({isOpen:n,onClose:e})=>{const[t,r]=_.useState(0),[s,i]=_.useState(1),[o,l]=_.useState(0),[c,u]=_.useState(0),[d,h]=_.useState(1),[f,p]=_.useState(null),v=_.useRef(null),m=.5,x=2.5,g=.1;if(_.useEffect(()=>{if(!v.current)return;const M=()=>{v.current&&(l(v.current.offsetWidth),u(v.current.clientHeight))};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[n]),!n)return null;const w=({numPages:M})=>{r(M),i(1)},A=M=>{try{const O=M.getViewport({scale:1});p({width:O.width,height:O.height})}catch{p(null)}},C=()=>{i(M=>Math.max(M-1,1))},T=()=>{i(M=>Math.min(M+1,t))},k=()=>h(M=>Math.min(parseFloat((M+g).toFixed(2)),x)),P=()=>h(M=>Math.max(parseFloat((M-g).toFixed(2)),m)),R=()=>h(1),N=M=>(M.preventDefault(),!1),D=M=>{(M.ctrlKey||M.metaKey)&&(M.key==="s"||M.key==="p"||M.key==="c")&&M.preventDefault()};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onContextMenu:N,onKeyDown:D,style:{userSelect:"none"},children:b.jsxs("div",{className:"relative w-full h-full max-w-7xl max-h-[95vh] m-4 bg-background rounded-lg shadow-2xl flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[b.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Book Sample - Generative AI for Business"}),b.jsxs(Lt,{size:"icon",variant:"ghost",onClick:e,className:"hover:bg-muted",children:[b.jsx(qA,{className:"w-5 h-5"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]}),b.jsx("div",{ref:v,className:"flex-1 overflow-auto bg-muted/30 flex items-center justify-center",onContextMenu:N,onWheel:M=>{(M.ctrlKey||M.metaKey)&&(M.preventDefault(),M.deltaY<0?k():M.deltaY>0&&P())},children:b.jsx(sz,{file:"/book/assets/book-sample.pdf",onLoadSuccess:w,loading:b.jsx("div",{className:"p-8 text-center",children:b.jsx("p",{className:"text-muted-foreground",children:"Loading PDF..."})}),error:b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("p",{className:"text-destructive",children:"Failed to load PDF."}),b.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[b.jsx("a",{href:"https://www.amazon.com/dp/B0FWXQCNN9",className:"text-primary hover:underline",children:"Buy the book"})," to read the full content."]})]}),children:b.jsx(pz,{pageNumber:s,onLoadSuccess:A,width:(()=>{if(f&&c){const O=f.width/f.height,I=c*O*d;return Math.max(200,Math.min(I,4e3))}const M=o?Math.min(o-40,1e3):800;return Math.max(200,Math.min(M*d,2e3))})(),renderTextLayer:!1,renderAnnotationLayer:!1})})}),b.jsxs("div",{className:"p-4 border-t border-border flex items-center justify-between bg-muted/30",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs(Lt,{size:"sm",variant:"outline",onClick:C,disabled:s<=1,children:[b.jsx(lO,{className:"w-4 h-4 mr-1"}),"Previous"]}),b.jsxs("span",{className:"text-sm text-muted-foreground px-4",children:["Page ",s," of ",t]}),b.jsxs(Lt,{size:"sm",variant:"outline",onClick:T,disabled:s>=t,children:["Next",b.jsx(cO,{className:"w-4 h-4 ml-1"})]}),b.jsx("div",{className:"mx-4 h-5 w-px bg-border"}),b.jsxs(Lt,{size:"sm",variant:"outline",onClick:P,disabled:d<=m,children:[b.jsx(bO,{className:"w-4 h-4 mr-1"}),"Zoom out"]}),b.jsxs("span",{className:"text-sm text-muted-foreground w-16 text-center",children:[Math.round(d*100),"%"]}),b.jsxs(Lt,{size:"sm",variant:"outline",onClick:k,disabled:d>=x,children:[b.jsx(xO,{className:"w-4 h-4 mr-1"}),"Zoom in"]}),b.jsx(Lt,{size:"sm",variant:"ghost",className:"ml-2",onClick:R,children:"Reset"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Lt,{variant:"outline",onClick:e,children:"Close"}),b.jsx(Lt,{asChild:!0,children:b.jsx("a",{href:new Date<new Date("2025-10-28T00:00:00Z")?"https://www.amazon.com/dp/B0FWXQCNN9":"https://www.amazon.com/dp/B0FX2251DC",target:"_blank",rel:"noopener noreferrer",children:"Buy Now"})})]})]})]})})},gz=()=>{const[n,e]=_.useState(!1),s=new Date<new Date("2025-10-28"),i=o=>{typeof window<"u"&&window.gtag_report_conversion?window.gtag_report_conversion(o):window.open(o,"_blank","noopener,noreferrer")};return b.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-card"}),b.jsx("div",{className:"absolute top-20 right-20 w-96 h-96 bg-primary/20 rounded-full blur-[100px] animate-float"}),b.jsx("div",{className:"absolute bottom-20 left-20 w-80 h-80 bg-secondary/20 rounded-full blur-[100px] animate-float",style:{animationDelay:"1s"}}),b.jsx("div",{className:"container relative z-10 px-4 py-20",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[b.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[b.jsx("div",{className:"inline-block px-4 py-2 rounded-full bg-primary/10 border border-primary/20 backdrop-blur-sm",children:b.jsx("span",{className:"text-sm font-medium text-primary",children:s?"Preorder Available":"New Release"})}),b.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:[b.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Generative AI"}),b.jsx("br",{}),b.jsx("span",{className:"text-foreground",children:"for Business"})]}),b.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground leading-relaxed",children:"Frameworks, Techniques, and Governance"}),b.jsx("p",{className:"text-lg text-muted-foreground max-w-xl",children:s?"Preorder now and get early access to a structured guide for designing, implementing, and governing Generative AI (GenAI) in business.":"Frameworks, techniques, and real cases for implementing Generative AI effectively and responsibly in business."}),b.jsx("div",{className:"space-y-4",children:s?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[b.jsxs(Lt,{size:"lg",className:"group bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-lg px-8 py-6",onClick:()=>i("https://www.amazon.com/dp/B0FWXQCNN9"),children:["Preorder the Book",b.jsx(JE,{className:"ml-2 group-hover:translate-x-1 transition-transform"})]}),b.jsxs(Lt,{size:"sm",variant:"ghost",className:"text-sm px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-muted/50",onClick:()=>e(!0),children:[b.jsx(zv,{className:"mr-2 w-4 h-4"}),"Read Sample"]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Preorder available now:"}),b.jsx("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:b.jsx("button",{onClick:()=>i("https://www.amazon.com/dp/B0FWXQCNN9"),className:"flex items-center gap-2 text-primary hover:text-primary/80 font-medium transition-colors cursor-pointer bg-transparent border-0 p-0",children:" Kindle (Amazon)"})}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[b.jsx("span",{children:" Paperback & Hardcover"}),b.jsx("span",{className:"px-2 py-1 bg-muted text-muted-foreground rounded text-xs",children:"Coming Oct 28, 2025"})]})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[b.jsxs(Lt,{size:"lg",className:"group bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-lg px-8 py-6",onClick:()=>i("https://www.amazon.com/dp/B0FX2251DC"),"aria-label":"Buy the book on Amazon",children:["Buy the Book",b.jsx(JE,{className:"ml-2 group-hover:translate-x-1 transition-transform"})]}),b.jsxs(Lt,{size:"sm",variant:"ghost",className:"text-sm px-4 py-2 text-muted-foreground hover:text-foreground hover:bg-muted/50",onClick:()=>e(!0),children:[b.jsx(zv,{className:"mr-2 w-4 h-4"}),"Read Sample"]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Available now on Amazon:"}),b.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[b.jsx("button",{onClick:()=>i("https://www.amazon.com/dp/B0FX2251DC"),className:"flex items-center gap-2 text-primary hover:text-primary/80 font-medium transition-colors cursor-pointer bg-transparent border-0 p-0","aria-label":"Buy Paperback on Amazon",children:" Paperback"}),b.jsx("span",{className:"text-muted-foreground",children:""}),b.jsx("button",{onClick:()=>i("https://www.amazon.com/dp/B0FX2CZRNV"),className:"flex items-center gap-2 text-primary hover:text-primary/80 font-medium transition-colors cursor-pointer bg-transparent border-0 p-0","aria-label":"Buy Hardcover on Amazon",children:" Hardcover"}),b.jsx("span",{className:"text-muted-foreground",children:""}),b.jsx("button",{onClick:()=>i("https://www.amazon.com/dp/B0FWXQCNN9"),className:"flex items-center gap-2 text-primary hover:text-primary/80 font-medium transition-colors cursor-pointer bg-transparent border-0 p-0","aria-label":"Buy Kindle on Amazon",children:" Kindle"})]})]})]})}),b.jsxs("div",{className:"flex items-center gap-8 pt-4",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-3xl font-bold text-foreground",children:"12"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Chapters"})]}),b.jsx("div",{className:"h-12 w-px bg-border"}),b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-3xl font-bold text-foreground",children:"200+"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Pages"})]}),b.jsx("div",{className:"h-12 w-px bg-border"}),b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-3xl font-bold text-foreground",children:"150+"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Exercises"})]})]})]}),b.jsx("div",{className:"relative flex justify-center lg:justify-end animate-fade-in",style:{animationDelay:"0.2s"},children:b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-secondary opacity-50 blur-3xl group-hover:opacity-70 transition-opacity"}),b.jsx("img",{src:O3,alt:"Generative AI for Business book cover",className:"relative w-full max-w-md rounded-lg shadow-2xl transform group-hover:scale-105 transition-transform duration-500"}),b.jsx("div",{className:"absolute -top-4 -right-4 bg-accent text-accent-foreground px-4 py-2 rounded-full shadow-lg animate-glow-pulse",children:b.jsx("p",{className:"text-sm font-bold",children:"New Release"})})]})})]})}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent"}),b.jsx(mz,{isOpen:n,onClose:()=>e(!1)})]})},Fo=_.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:qt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Fo.displayName="Card";const yz=_.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:qt("flex flex-col space-y-1.5 p-6",n),...e}));yz.displayName="CardHeader";const vz=_.forwardRef(({className:n,...e},t)=>b.jsx("h3",{ref:t,className:qt("text-2xl font-semibold leading-none tracking-tight",n),...e}));vz.displayName="CardTitle";const wz=_.forwardRef(({className:n,...e},t)=>b.jsx("p",{ref:t,className:qt("text-sm text-muted-foreground",n),...e}));wz.displayName="CardDescription";const xz=_.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:qt("p-6 pt-0",n),...e}));xz.displayName="CardContent";const bz=_.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:qt("flex items-center p-6 pt-0",n),...e}));bz.displayName="CardFooter";const Az=()=>{const n=[{icon:zv,title:"What It Covers",items:["Practical frameworks, techniques, and governance models for Generative AI in business","Core principles of prompt engineering, RAG, and agentic systems","Challenges, operations, and governance of GenAI in organizations"]},{icon:yO,title:"Who It's For",items:["Educators designing and teaching Generative AI for Business","Business leaders implementing GenAI solutions across functions","Students and professionals preparing for the AI-driven workplace"]},{icon:gO,title:"What You'll Gain",items:["Gain practical fluency in prompt design, RAG, and agentic systems","Learn to design and evaluate GenAI systems using real business cases","Apply governance and risk-management frameworks for GenAI adoption"]}];return b.jsx("section",{id:"inside-the-book",className:"py-24 px-4 bg-gradient-to-b from-background to-card/30",children:b.jsxs("div",{className:"container max-w-6xl",children:[b.jsxs("div",{className:"text-center mb-16 space-y-4 animate-fade-in-up",children:[b.jsxs("h2",{className:"text-4xl md:text-5xl font-bold",children:[b.jsx("span",{className:"text-foreground",children:"Inside the "}),b.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Book"})]}),b.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"A comprehensive guide to implementing and governing GenAI in business"})]}),b.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 mb-8 md:mb-12",children:n.map((e,t)=>b.jsx(Fo,{className:"p-4 md:p-6 lg:p-8 backdrop-blur-sm bg-card/50 border-primary/20 hover:border-primary/40 transition-all duration-300 hover:scale-105 group animate-fade-in-up",style:{animationDelay:`${.1+t*.1}s`},children:b.jsxs("div",{className:"space-y-4 md:space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[b.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-gradient-to-br from-primary/20 to-secondary/20 group-hover:from-primary/30 group-hover:to-secondary/30 transition-colors flex-shrink-0",children:b.jsx(e.icon,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"})}),b.jsx("h3",{className:"text-lg md:text-xl font-semibold text-foreground",children:e.title})]}),b.jsx("ul",{className:"space-y-2 md:space-y-3",children:e.items.map((r,s)=>b.jsxs("li",{className:"flex items-start gap-2 md:gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),b.jsx("span",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:r})]},s))})]})},t))}),b.jsx("div",{className:"my-8 md:my-12 lg:my-16 animate-fade-in-up",style:{animationDelay:"0.4s"},children:b.jsxs("figure",{className:"text-center",children:[b.jsx("div",{className:"bg-white rounded-lg p-4 md:p-6 lg:p-8 border border-primary/20 shadow-lg",children:b.jsx("img",{src:"./assets/ch1_customize_llm.png",alt:"Model Adaptation Overview showing Data  LLM  Applications workflow",className:"w-full h-auto max-w-lg md:max-w-xl lg:max-w-2xl mx-auto"})}),b.jsx("figcaption",{className:"mt-4 text-xs sm:text-sm italic text-muted-foreground px-2",children:b.jsx("em",{children:"Figure 1. How GenAI systems evolve from pretrained Large Language Models (LLMs) to business applications."})})]})}),b.jsx("div",{className:"text-center",children:b.jsx(Fo,{className:"inline-block p-6 backdrop-blur-sm bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/30 animate-fade-in-up",style:{animationDelay:"0.5s"},children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(bP,{className:"w-5 h-5 text-primary"}),b.jsx("span",{className:"text-foreground font-medium",children:"Still have questions?"}),b.jsx("a",{href:"#faq",className:"text-primary hover:text-primary/80 font-semibold transition-colors",children:"Read the FAQ "})]})})})]})})};var ix="focusScope.autoFocusOnMount",ox="focusScope.autoFocusOnUnmount",h_={bubbles:!1,cancelable:!0},Sz="FocusScope",qN=_.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=n,[l,c]=_.useState(null),u=Ti(s),d=Ti(i),h=_.useRef(null),f=On(e,m=>c(m)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let m=function(A){if(p.paused||!l)return;const C=A.target;l.contains(C)?h.current=C:Qo(h.current,{select:!0})},x=function(A){if(p.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||Qo(h.current,{select:!0}))},g=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&Qo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const w=new MutationObserver(g);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,p.paused]),_.useEffect(()=>{if(l){p_.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(ix,h_);l.addEventListener(ix,u),l.dispatchEvent(g),g.defaultPrevented||(Ez(Pz(XN(l)),{select:!0}),document.activeElement===m&&Qo(l))}return()=>{l.removeEventListener(ix,u),setTimeout(()=>{const g=new CustomEvent(ox,h_);l.addEventListener(ox,d),l.dispatchEvent(g),g.defaultPrevented||Qo(m??document.body,{select:!0}),l.removeEventListener(ox,d),p_.remove(p)},0)}}},[l,u,d,p]);const v=_.useCallback(m=>{if(!t&&!r||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const w=m.currentTarget,[A,C]=Cz(w);A&&C?!m.shiftKey&&g===C?(m.preventDefault(),t&&Qo(A,{select:!0})):m.shiftKey&&g===A&&(m.preventDefault(),t&&Qo(C,{select:!0})):g===w&&m.preventDefault()}},[t,r,p.paused]);return b.jsx(Pt.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});qN.displayName=Sz;function Ez(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Qo(r,{select:e}),document.activeElement!==t)return}function Cz(n){const e=XN(n),t=f_(e,n),r=f_(e.reverse(),n);return[t,r]}function XN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function f_(n,e){for(const t of n)if(!_z(t,{upTo:e}))return t}function _z(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Tz(n){return n instanceof HTMLInputElement&&"select"in n}function Qo(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Tz(n)&&e&&n.select()}}var p_=kz();function kz(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=m_(n,e),n.unshift(e)},remove(e){var t;n=m_(n,e),(t=n[0])==null||t.resume()}}}function m_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Pz(n){return n.filter(e=>e.tagName!=="A")}var ax=0;function Rz(){_.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??g_()),document.body.insertAdjacentElement("beforeend",n[1]??g_()),ax++,()=>{ax===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ax--}},[])}function g_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ai=function(){return Ai=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ai.apply(this,arguments)};function YN(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Nz(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var pv="right-scroll-bar-position",mv="width-before-scroll-bar",Mz="with-scroll-bars-hidden",Dz="--removed-body-scroll-bar-size";function lx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Lz(n,e){var t=_.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var Iz=typeof window<"u"?_.useLayoutEffect:_.useEffect,y_=new WeakMap;function Oz(n,e){var t=Lz(null,function(r){return n.forEach(function(s){return lx(s,r)})});return Iz(function(){var r=y_.get(t);if(r){var s=new Set(r),i=new Set(n),o=t.current;s.forEach(function(l){i.has(l)||lx(l,null)}),i.forEach(function(l){s.has(l)||lx(l,o)})}y_.set(t,n)},[n]),t}function Fz(n){return n}function jz(n,e){e===void 0&&(e=Fz);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var o=e(i,r);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){r=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(i),o=t}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),t={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),t}}}};return s}function Bz(n){n===void 0&&(n={});var e=jz(null);return e.options=Ai({async:!0,ssr:!1},n),e}var KN=function(n){var e=n.sideCar,t=YN(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Ai({},t))};KN.isSideCarExport=!0;function zz(n,e){return n.useMedium(e),KN}var QN=Bz(),cx=function(){},uw=_.forwardRef(function(n,e){var t=_.useRef(null),r=_.useState({onScrollCapture:cx,onWheelCapture:cx,onTouchMoveCapture:cx}),s=r[0],i=r[1],o=n.forwardProps,l=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,h=n.shards,f=n.sideCar,p=n.noRelative,v=n.noIsolation,m=n.inert,x=n.allowPinchZoom,g=n.as,w=g===void 0?"div":g,A=n.gapMode,C=YN(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,k=Oz([t,e]),P=Ai(Ai({},C),s);return _.createElement(_.Fragment,null,d&&_.createElement(T,{sideCar:QN,removeScrollBar:u,shards:h,noRelative:p,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:t,gapMode:A}),o?_.cloneElement(_.Children.only(l),Ai(Ai({},P),{ref:k})):_.createElement(w,Ai({},P,{className:c,ref:k}),l))});uw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uw.classNames={fullWidth:mv,zeroRight:pv};var $z=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uz(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=$z();return e&&n.setAttribute("nonce",e),n}function Hz(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Vz(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Wz=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Uz())&&(Hz(e,t),Vz(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Gz=function(){var n=Wz();return function(e,t){_.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},ZN=function(){var n=Gz(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},qz={left:0,top:0,right:0,gap:0},ux=function(n){return parseInt(n||"",10)||0},Xz=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[ux(t),ux(r),ux(s)]},Yz=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return qz;var e=Xz(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Kz=ZN(),id="data-scroll-locked",Qz=function(n,e,t,r){var s=n.left,i=n.top,o=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Mz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(id,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(pv," .").concat(pv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mv," .").concat(mv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(id,`] {
    `).concat(Dz,": ").concat(l,`px;
  }
`)},v_=function(){var n=parseInt(document.body.getAttribute(id)||"0",10);return isFinite(n)?n:0},Zz=function(){_.useEffect(function(){return document.body.setAttribute(id,(v_()+1).toString()),function(){var n=v_()-1;n<=0?document.body.removeAttribute(id):document.body.setAttribute(id,n.toString())}},[])},Jz=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;Zz();var i=_.useMemo(function(){return Yz(s)},[s]);return _.createElement(Kz,{styles:Qz(i,!e,s,t?"":"!important")})},G1=!1;if(typeof window<"u")try{var my=Object.defineProperty({},"passive",{get:function(){return G1=!0,!0}});window.addEventListener("test",my,my),window.removeEventListener("test",my,my)}catch{G1=!1}var wu=G1?{passive:!1}:!1,e$=function(n){return n.tagName==="TEXTAREA"},JN=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!e$(n)&&t[e]==="visible")},t$=function(n){return JN(n,"overflowY")},n$=function(n){return JN(n,"overflowX")},w_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=eM(n,r);if(s){var i=tM(n,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},r$=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},s$=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},eM=function(n,e){return n==="v"?t$(e):n$(e)},tM=function(n,e){return n==="v"?r$(e):s$(e)},i$=function(n,e){return n==="h"&&e==="rtl"?-1:1},o$=function(n,e,t,r,s){var i=i$(n,window.getComputedStyle(e).direction),o=i*r,l=t.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var p=tM(n,l),v=p[0],m=p[1],x=p[2],g=m-x-i*v;(v||g)&&eM(n,l)&&(h+=g,f+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},gy=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},x_=function(n){return[n.deltaX,n.deltaY]},b_=function(n){return n&&"current"in n?n.current:n},a$=function(n,e){return n[0]===e[0]&&n[1]===e[1]},l$=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},c$=0,xu=[];function u$(n){var e=_.useRef([]),t=_.useRef([0,0]),r=_.useRef(),s=_.useState(c$++)[0],i=_.useState(ZN)[0],o=_.useRef(n);_.useEffect(function(){o.current=n},[n]),_.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Nz([n.lockRef.current],(n.shards||[]).map(b_),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var l=_.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=gy(m),w=t.current,A="deltaX"in m?m.deltaX:w[0]-g[0],C="deltaY"in m?m.deltaY:w[1]-g[1],T,k=m.target,P=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in m&&P==="h"&&k.type==="range")return!1;var R=w_(P,k);if(!R)return!0;if(R?T=P:(T=P==="v"?"h":"v",R=w_(P,k)),!R)return!1;if(!r.current&&"changedTouches"in m&&(A||C)&&(r.current=T),!T)return!0;var N=r.current||T;return o$(N,x,m,N==="h"?A:C,!0)},[]),c=_.useCallback(function(m){var x=m;if(!(!xu.length||xu[xu.length-1]!==i)){var g="deltaY"in x?x_(x):gy(x),w=e.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&a$(T.delta,g)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var A=(o.current.shards||[]).map(b_).filter(Boolean).filter(function(T){return T.contains(x.target)}),C=A.length>0?l(x,A[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),u=_.useCallback(function(m,x,g,w){var A={name:m,delta:x,target:g,should:w,shadowParent:d$(g)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(C){return C!==A})},1)},[]),d=_.useCallback(function(m){t.current=gy(m),r.current=void 0},[]),h=_.useCallback(function(m){u(m.type,x_(m),m.target,l(m,n.lockRef.current))},[]),f=_.useCallback(function(m){u(m.type,gy(m),m.target,l(m,n.lockRef.current))},[]);_.useEffect(function(){return xu.push(i),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,wu),document.addEventListener("touchmove",c,wu),document.addEventListener("touchstart",d,wu),function(){xu=xu.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,wu),document.removeEventListener("touchmove",c,wu),document.removeEventListener("touchstart",d,wu)}},[]);var p=n.removeScrollBar,v=n.inert;return _.createElement(_.Fragment,null,v?_.createElement(i,{styles:l$(s)}):null,p?_.createElement(Jz,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function d$(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const h$=zz(QN,u$);var nM=_.forwardRef(function(n,e){return _.createElement(uw,Ai({},n,{ref:e,sideCar:h$}))});nM.classNames=uw.classNames;var f$=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},bu=new WeakMap,yy=new WeakMap,vy={},dx=0,rM=function(n){return n&&(n.host||rM(n.parentNode))},p$=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=rM(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},m$=function(n,e,t,r){var s=p$(e,Array.isArray(n)?n:[n]);vy[t]||(vy[t]=new WeakMap);var i=vy[t],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),v=p!==null&&p!=="false",m=(bu.get(f)||0)+1,x=(i.get(f)||0)+1;bu.set(f,m),i.set(f,x),o.push(f),m===1&&v&&yy.set(f,!0),x===1&&f.setAttribute(t,"true"),v||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),l.clear(),dx++,function(){o.forEach(function(h){var f=bu.get(h)-1,p=i.get(h)-1;bu.set(h,f),i.set(h,p),f||(yy.has(h)||h.removeAttribute(r),yy.delete(h)),p||h.removeAttribute(t)}),dx--,dx||(bu=new WeakMap,bu=new WeakMap,yy=new WeakMap,vy={})}},g$=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=f$(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),m$(r,s,t,"aria-hidden")):function(){return null}},dw="Dialog",[sM,K$]=Eg(dw),[y$,Fs]=sM(dw),iM=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=n,l=_.useRef(null),c=_.useRef(null),[u,d]=Zk({prop:r,defaultProp:s??!1,onChange:i,caller:dw});return b.jsx(y$,{scope:e,triggerRef:l,contentRef:c,contentId:qw(),titleId:qw(),descriptionId:qw(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:o,children:t})};iM.displayName=dw;var oM="DialogTrigger",aM=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Fs(oM,t),i=On(e,s.triggerRef);return b.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_S(s.open),...r,ref:i,onClick:et(n.onClick,s.onOpenToggle)})});aM.displayName=oM;var ES="DialogPortal",[v$,lM]=sM(ES,{forceMount:void 0}),cM=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=Fs(ES,e);return b.jsx(v$,{scope:e,forceMount:t,children:_.Children.map(r,o=>b.jsx(tf,{present:t||i.open,children:b.jsx(HA,{asChild:!0,container:s,children:o})}))})};cM.displayName=ES;var o0="DialogOverlay",uM=_.forwardRef((n,e)=>{const t=lM(o0,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=Fs(o0,n.__scopeDialog);return i.modal?b.jsx(tf,{present:r||i.open,children:b.jsx(x$,{...s,ref:e})}):null});uM.displayName=o0;var w$=Sp("DialogOverlay.RemoveScroll"),x$=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Fs(o0,t);return b.jsx(nM,{as:w$,allowPinchZoom:!0,shards:[s.contentRef],children:b.jsx(Pt.div,{"data-state":_S(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),uu="DialogContent",dM=_.forwardRef((n,e)=>{const t=lM(uu,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=Fs(uu,n.__scopeDialog);return b.jsx(tf,{present:r||i.open,children:i.modal?b.jsx(b$,{...s,ref:e}):b.jsx(A$,{...s,ref:e})})});dM.displayName=uu;var b$=_.forwardRef((n,e)=>{const t=Fs(uu,n.__scopeDialog),r=_.useRef(null),s=On(e,t.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return g$(i)},[]),b.jsx(hM,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(n.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:et(n.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:et(n.onFocusOutside,i=>i.preventDefault())})}),A$=_.forwardRef((n,e)=>{const t=Fs(uu,n.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return b.jsx(hM,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=n.onCloseAutoFocus)==null||o.call(n,i),i.defaultPrevented||(r.current||(l=t.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=n.onInteractOutside)==null||c.call(n,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=t.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),hM=_.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=n,l=Fs(uu,t),c=_.useRef(null),u=On(e,c);return Rz(),b.jsxs(b.Fragment,{children:[b.jsx(qN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:b.jsx(U0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_S(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(S$,{titleId:l.titleId}),b.jsx(C$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),CS="DialogTitle",fM=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Fs(CS,t);return b.jsx(Pt.h2,{id:s.titleId,...r,ref:e})});fM.displayName=CS;var pM="DialogDescription",mM=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Fs(pM,t);return b.jsx(Pt.p,{id:s.descriptionId,...r,ref:e})});mM.displayName=pM;var gM="DialogClose",yM=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Fs(gM,t);return b.jsx(Pt.button,{type:"button",...r,ref:e,onClick:et(n.onClick,()=>s.onOpenChange(!1))})});yM.displayName=gM;function _S(n){return n?"open":"closed"}var vM="DialogTitleWarning",[Q$,wM]=uI(vM,{contentName:uu,titleName:CS,docsSlug:"dialog"}),S$=({titleId:n})=>{const e=wM(vM),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},E$="DialogDescriptionWarning",C$=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wM(E$).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=n.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},_$=iM,T$=aM,k$=cM,xM=uM,bM=dM,AM=fM,SM=mM,P$=yM;const wy=_$,xy=T$,R$=k$,EM=_.forwardRef(({className:n,...e},t)=>b.jsx(xM,{ref:t,className:qt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));EM.displayName=xM.displayName;const Xf=_.forwardRef(({className:n,children:e,...t},r)=>b.jsxs(R$,{children:[b.jsx(EM,{}),b.jsxs(bM,{ref:r,className:qt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,b.jsxs(P$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[b.jsx(qA,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xf.displayName=bM.displayName;const N$=_.forwardRef(({className:n,...e},t)=>b.jsx(AM,{ref:t,className:qt("text-lg font-semibold leading-none tracking-tight",n),...e}));N$.displayName=AM.displayName;const M$=_.forwardRef(({className:n,...e},t)=>b.jsx(SM,{ref:t,className:qt("text-sm text-muted-foreground",n),...e}));M$.displayName=SM.displayName;const D$=()=>b.jsx("section",{className:"py-24 px-4 bg-gradient-to-b from-background to-card/30",children:b.jsxs("div",{className:"container max-w-6xl",children:[b.jsxs("div",{className:"text-center mb-16 space-y-4 animate-fade-in-up",children:[b.jsxs("h2",{className:"text-4xl md:text-5xl font-bold",children:[b.jsx("span",{className:"text-foreground",children:"Core "}),b.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Concepts"})]}),b.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Essential frameworks and architectures for implementing Generative AI in business"})]}),b.jsx("div",{className:"mb-8 text-center animate-fade-in-up",style:{animationDelay:"0.1s"},children:b.jsx(Fo,{className:"inline-block p-6 backdrop-blur-sm bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/30",children:b.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"These core concepts form the foundation of modern GenAI systems, enabling businesses to build intelligent, context-aware applications that can reason, retrieve information, and take autonomous actions."})})}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[b.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.2s"},children:b.jsxs("figure",{className:"text-center h-full flex flex-col",children:[b.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 lg:p-8 border border-primary/20 shadow-lg mb-4 group cursor-zoom-in hover:shadow-xl transition-shadow duration-300 h-full flex flex-col",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 mb-4",children:[b.jsx(wO,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),b.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground text-center",children:"Prompt Engineering"})]}),b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs(wy,{children:[b.jsx(xy,{asChild:!0,children:b.jsx("img",{src:"./assets/ch3_pe.png",alt:"Prompt Engineering techniques and best practices",className:"w-full h-auto max-w-sm mx-auto group-hover:scale-105 transition-transform duration-300 cursor-pointer"})}),b.jsx(Xf,{className:"max-w-4xl w-full p-0",children:b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:"./assets/ch3_pe.png",alt:"Prompt Engineering techniques and best practices",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:"Figure 2"})]})})]})})]}),b.jsx("figcaption",{className:"text-xs sm:text-sm italic text-muted-foreground px-2",children:b.jsx("em",{children:"Figure 2. Prompt engineering techniques for desired GenAI outputs."})})]})}),b.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:b.jsxs("figure",{className:"text-center h-full flex flex-col",children:[b.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 lg:p-8 border border-primary/20 shadow-lg mb-4 group cursor-zoom-in hover:shadow-xl transition-shadow duration-300 h-full flex flex-col",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 mb-4",children:[b.jsx(vO,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),b.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground text-center",children:"Retrieval-Augmented Generation"})]}),b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs(wy,{children:[b.jsx(xy,{asChild:!0,children:b.jsx("img",{src:"./assets/ch5_pipeline_details.png",alt:"Retrieval-Augmented Generation workflow showing query processing and document retrieval",className:"w-full h-auto max-w-sm mx-auto group-hover:scale-105 transition-transform duration-300 cursor-pointer"})}),b.jsx(Xf,{className:"max-w-4xl w-full p-0",children:b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:"./assets/ch5_pipeline_details.png",alt:"Retrieval-Augmented Generation workflow showing query processing and document retrieval",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:"Figure 3"})]})})]})})]}),b.jsx("figcaption",{className:"text-xs sm:text-sm italic text-muted-foreground px-2",children:b.jsx("em",{children:"Figure 3. RAG connects user queries with private knowledge to improve accuracy."})})]})}),b.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.4s"},children:b.jsxs("figure",{className:"text-center h-full flex flex-col",children:[b.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 lg:p-8 border border-primary/20 shadow-lg mb-4 group cursor-zoom-in hover:shadow-xl transition-shadow duration-300 h-full flex flex-col",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 mb-4",children:[b.jsx(aO,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),b.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground text-center",children:"Agentic Systems"})]}),b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs(wy,{children:[b.jsx(xy,{asChild:!0,children:b.jsx("img",{src:"./assets/ch7_single_agent.png",alt:"Agentic System Loop showing Perception-Action-Reasoning model with LLM Agent",className:"w-full h-auto max-w-sm mx-auto group-hover:scale-105 transition-transform duration-300 cursor-pointer"})}),b.jsx(Xf,{className:"max-w-4xl w-full p-0",children:b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:"./assets/ch7_single_agent.png",alt:"Agentic System Loop showing Perception-Action-Reasoning model with LLM Agent",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:"Figure 4"})]})})]})})]}),b.jsx("figcaption",{className:"text-xs sm:text-sm italic text-muted-foreground px-2",children:b.jsx("em",{children:"Figure 4. How LLM agents perceive, reason, and act through tools and memory."})})]})}),b.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.5s"},children:b.jsxs("figure",{className:"text-center h-full flex flex-col",children:[b.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-6 lg:p-8 border border-primary/20 shadow-lg mb-4 group cursor-zoom-in hover:shadow-xl transition-shadow duration-300 h-full flex flex-col",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 mb-4",children:[b.jsx(mO,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),b.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground text-center",children:"Multi-Agent Workflows"})]}),b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs(wy,{children:[b.jsx(xy,{asChild:!0,children:b.jsx("img",{src:"./assets/ch8_workflow.png",alt:"Multi-agent workflow showing collaborative AI systems",className:"w-full h-auto max-w-sm mx-auto group-hover:scale-105 transition-transform duration-300 cursor-pointer"})}),b.jsx(Xf,{className:"max-w-4xl w-full p-0",children:b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:"./assets/ch8_workflow.png",alt:"Multi-agent workflow showing collaborative AI systems",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:"Figure 5"})]})})]})})]}),b.jsx("figcaption",{className:"text-xs sm:text-sm italic text-muted-foreground px-2",children:b.jsx("em",{children:"Figure 5. Multi-agent workflows enable complex task orchestration."})})]})})]})]})}),L$=()=>{const n=[{quote:"This was a fantastic class, and the professor was incredible. I learned so much coming into this class with very little knowledge of AI, and now feel prepared to expand my understanding.",author:"Graduate Student",role:"Student",company:"University of Cincinnati",category:"Academia"},{quote:"Professor Wei Chen's AI class was an unforgettable experience. His expertise in artificial intelligence and practical approach to teaching made complex ideas feel approachable and engaging.",author:"Graduate Student",role:"Student",company:"UConn MS BAPM",category:"Academia"},{quote:"I did not imagine I would get the opportunity to learn first-hand how to create GenAI models before graduating and open the black box behind its working.",author:"Graduate Student",role:"Student",company:"UConn MS BAPM",category:"Academia"}];return b.jsxs("section",{className:"py-24 px-4 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-border to-transparent"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-primary/5 to-background"}),b.jsxs("div",{className:"container max-w-6xl relative z-10",children:[b.jsxs("div",{className:"text-center mb-16 space-y-4 animate-fade-in-up",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent/10 border border-accent/20 backdrop-blur-sm mb-4",children:[b.jsx(eC,{className:"w-5 h-5 text-accent fill-accent"}),b.jsx("span",{className:"text-sm font-medium text-accent",children:"What Readers Say"})]}),b.jsxs("h2",{className:"text-4xl md:text-5xl font-bold",children:[b.jsx("span",{className:"text-foreground",children:"Trusted by "}),b.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Academia & Industry"})]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h4",{className:"text-lg font-semibold text-muted-foreground mb-6 text-center",children:"Trusted by Faculty from Leading Institutions"}),b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12 bg-white rounded-lg shadow-sm p-6",children:[b.jsx("div",{className:"flex items-center transition-transform duration-300 ease-in-out hover:scale-105",children:b.jsx("img",{src:"/book/assets/uconn.png",alt:"University of Connecticut",className:"w-32 h-auto object-contain filter grayscale opacity-70 transition-all duration-300 ease-in-out hover:grayscale-0 hover:opacity-100"})}),b.jsx("div",{className:"flex items-center transition-transform duration-300 ease-in-out hover:scale-105",children:b.jsx("img",{src:"/book/assets/ucincinnati.png",alt:"University of Cincinnati",className:"w-32 h-auto object-contain filter grayscale opacity-70 transition-all duration-300 ease-in-out hover:grayscale-0 hover:opacity-100"})}),b.jsx("div",{className:"flex items-center transition-transform duration-300 ease-in-out hover:scale-105",children:b.jsx("img",{src:"/book/assets/cuny.png",alt:"City University of New York",className:"w-32 h-auto object-contain filter grayscale opacity-70 transition-all duration-300 ease-in-out hover:grayscale-0 hover:opacity-100"})}),b.jsx("div",{className:"flex items-center transition-transform duration-300 ease-in-out hover:scale-105",children:b.jsx("img",{src:"/book/assets/dalianut.png",alt:"Dalian University of Technology",className:"w-32 h-auto object-contain filter grayscale opacity-70 transition-all duration-300 ease-in-out hover:grayscale-0 hover:opacity-100"})})]})]})]}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:n.map((e,t)=>b.jsx(Fo,{className:"p-6 backdrop-blur-sm bg-card/50 border-primary/20 hover:border-primary/40 transition-all duration-300 hover:scale-105 hover:shadow-lg animate-fade-in-up group",style:{animationDelay:`${.1+t*.1}s`},children:b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"inline-flex p-3 rounded-lg bg-gradient-to-br from-primary/20 to-secondary/20 group-hover:from-primary/30 group-hover:to-secondary/30 transition-colors",children:b.jsx(pO,{className:"w-6 h-6 text-primary"})}),b.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((r,s)=>b.jsx(eC,{className:"w-5 h-5 text-accent fill-accent"},s))}),b.jsxs("p",{className:"text-base text-foreground leading-relaxed italic",children:['"',e.quote,'"']}),b.jsxs("div",{className:"pt-4 border-t border-border",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("p",{className:"font-semibold text-foreground",children:e.author}),b.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.category==="Industry"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:e.category})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:e.role}),b.jsx("p",{className:"text-sm text-primary font-medium",children:e.company})]})]})]})},t))})]})]})},I$=()=>{const n=[{name:"Wei Chen",title:"Associate Professor, University of Connecticut",description:"Academic director of the UConn Digital Frontiers Initiative. Research focuses on the design and governance of generative AI, with expertise in platforms, crowdsourcing, and financial technologies. Published in leading journals including Management Science, Information Systems Research, and MIS Quarterly.",teaching:"He teaches OPIM 5515 Generative AI for Business in graduate programs (MS BAPM, MS FinTech, MBA) at UConn School of Business and frequently speaks to industry partners and conferences on GenAI.",personalUrl:"https://weichen.info",links:[{label:"University Profile",url:"https://www.business.uconn.edu/person/weichen-opim/",color:"secondary"}]},{name:"Liwei Chen",title:"Associate Professor, University of Cincinnati",description:"Research focuses on the empowering roles of IT in healthcare and business contexts, with expertise in digital health technologies and business analytics.",teaching:"She teaches Generative AI for Business to students in the MS Business Analytics, MS Information Systems, and MBA programs, and the Artificial Intelligence in Business Graduate Certificate at the Carl H. Lindner College of Business, University of Cincinnati.",personalUrl:"https://sites.google.com/view/liweichen/home",links:[{label:"University Profile",url:"https://business.uc.edu/faculty-research/obais/faculty/liwei-chen.html",color:"secondary"}]}];return b.jsx("section",{className:"py-24 px-4 bg-gradient-to-b from-card/50 to-background",children:b.jsxs("div",{className:"container max-w-6xl",children:[b.jsxs("div",{className:"text-center mb-16 space-y-4 animate-fade-in-up",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 backdrop-blur-sm mb-4",children:[b.jsx(dO,{className:"w-5 h-5 text-primary"}),b.jsx("span",{className:"text-sm font-medium text-primary",children:"Expert Authors"})]}),b.jsxs("h2",{className:"text-4xl md:text-5xl font-bold",children:[b.jsx("span",{className:"text-foreground",children:"Meet the "}),b.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Authors"})]}),b.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Leading academics with decades of combined experience in AI and business education"})]}),b.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:n.map((e,t)=>b.jsx(Fo,{className:"p-6 backdrop-blur-sm bg-card/50 border-primary/20 hover:border-primary/40 transition-all duration-300 animate-fade-in-up group",style:{animationDelay:`${.1+t*.1}s`},children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"pb-4 border-b border-border",children:[b.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1 group-hover:text-primary transition-colors",children:b.jsx("a",{href:e.personalUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:e.name})}),b.jsx("p",{className:"text-primary font-medium",children:e.title})]}),b.jsx("div",{className:"text-muted-foreground leading-relaxed",children:e.name==="Wei Chen"?b.jsxs("p",{children:["Academic director of the UConn ",b.jsx("a",{href:"https://digitalfrontiers.business.uconn.edu/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 transition-colors",children:"Digital Frontiers Initiative"}),". Research focuses on the design and governance of generative AI, with expertise in platforms, crowdsourcing, and financial technologies. Published in leading journals including ",b.jsx("em",{children:"Management Science"}),", ",b.jsx("em",{children:"Information Systems Research"}),", and ",b.jsx("em",{children:"MIS Quarterly"}),"."]}):b.jsxs("p",{children:["Research focuses on the empowering roles of IT in healthcare and business contexts. Published in leading journals such as ",b.jsx("em",{children:"MIS Quarterly"}),", ",b.jsx("em",{children:"Information Systems Research"}),", ",b.jsx("em",{children:"Journal of the Association for Information Systems"}),", ",b.jsx("em",{children:"European Journal of Information Systems"}),", and ",b.jsx("em",{children:"Journal of Medical Internet Research"}),"."]})}),b.jsx("div",{className:"pt-3",children:b.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:[b.jsx("span",{className:"font-medium text-foreground",children:"Teaching:"})," ",e.teaching]})}),b.jsx("div",{className:"pt-4 border-t border-border",children:b.jsx("div",{className:"flex flex-wrap gap-3",children:e.links.map((r,s)=>b.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-colors ${r.color==="primary"?"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/20":r.color==="secondary"?"text-secondary hover:text-secondary/80 bg-secondary/10 hover:bg-secondary/20":r.color==="accent"?"text-accent hover:text-accent/80 bg-accent/10 hover:bg-accent/20":"text-muted-foreground hover:text-foreground bg-muted/50 hover:bg-muted/80"}`,children:[b.jsx(uO,{className:"w-4 h-4"}),r.label]},s))})})]})},t))}),b.jsx("div",{className:"mt-12 text-center",children:b.jsx(Fo,{className:"inline-block p-6 backdrop-blur-sm bg-card/30 border-accent/30 animate-fade-in-up",style:{animationDelay:"0.3s"},children:b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Published in leading business journals: ",b.jsx("span",{className:"text-foreground font-semibold",children:"Management Science"}),", ",b.jsx("span",{className:"text-foreground font-semibold",children:"MIS Quarterly"}),", ",b.jsx("span",{className:"text-foreground font-semibold",children:"Information Systems Research"})]})})})]})})},O$=()=>{const n=[{question:"Do I need technical background to read this book?",answer:"No! The book is written for business professionals with clear, practical examples and step-by-step frameworks."},{question:"Is this suitable for beginners?",answer:"Absolutely. We start with the basics and build to advanced applications, making it accessible for all levels."},{question:"How quickly can I implement what I learn?",answer:"Basic techniques can be implemented immediately, while complex systems can be deployed within weeks of reading."},{question:"What's the difference between editions?",answer:"New editions are released annually to reflect the latest developments in Generative AI. Current buyers receive free updates to their edition."},{question:"Are there any prerequisites?",answer:"Just a commitment to understanding how GenAI can transform your business. No technical prerequisites required."},{question:"What formats are available?",answer:"Paperback, Hardcover, and Kindle for now. More formats coming soon!"}];return b.jsx("section",{id:"faq",className:"py-24 px-4 bg-gradient-to-b from-card/30 to-background",children:b.jsxs("div",{className:"container max-w-4xl",children:[b.jsxs("div",{className:"text-center mb-16 space-y-4 animate-fade-in-up",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 mb-2",children:[b.jsx(bP,{className:"w-10 h-10 text-primary"}),b.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground",children:"Frequently Asked Questions"})]}),b.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Everything you need to know about the book and your purchase"})]}),b.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map((e,t)=>b.jsx(Fo,{className:"p-6 backdrop-blur-sm bg-card/50 border-border hover:border-primary/40 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${.1+t*.05}s`},children:b.jsxs("div",{className:"space-y-3",children:[b.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e.question}),b.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.answer})]})},t))})]})})},F$=()=>{const n=new Date("2025-10-28"),e=new Date,t=e<n,s=e<new Date("2025-11-04"),i=o=>{typeof window<"u"&&window.gtag_report_conversion?window.gtag_report_conversion(o):window.open(o,"_blank","noopener,noreferrer")};return b.jsxs("section",{className:"py-24 px-4 relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-secondary/10"}),b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 rounded-full blur-[120px]"}),b.jsx("div",{className:"container max-w-4xl relative z-10",children:b.jsx(Fo,{className:"p-8 md:p-12 backdrop-blur-lg bg-card/80 border-primary/30 shadow-2xl animate-fade-in-up",children:b.jsxs("div",{className:"text-center space-y-8",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-4xl md:text-5xl font-bold",children:b.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:t?"Preorder the Book":"Get Your Copy"})}),b.jsx("p",{className:"text-xl text-muted-foreground",children:t?"Get early access to the first structured GenAI textbook for business":"Available now in multiple formats with more coming soon"})]}),b.jsx("div",{className:"space-y-6",children:t?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"w-full max-w-sm p-6 border border-primary/20 rounded-lg bg-primary/5 shadow-sm",children:[b.jsx("h3",{className:"font-semibold text-foreground mb-2",children:" Kindle"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Convenient digital reading; same content as print"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"text-center",children:s?b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-sm text-muted-foreground line-through",children:"$34.95"}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:"$29.95"}),b.jsx("div",{className:"text-xs text-primary font-medium",children:"Launch Week Special!"})]}):b.jsx("span",{className:"text-2xl font-bold text-primary",children:"$29.95"})}),b.jsx(Lt,{size:"sm",className:"w-full bg-primary hover:bg-primary/90",onClick:()=>i("https://www.amazon.com/dp/B0FWXQCNN9"),children:"Preorder Now"})]})]})}),b.jsxs("div",{className:"p-4 border border-muted rounded-lg bg-muted/20 max-w-md mx-auto text-center",children:[b.jsx("h3",{className:"font-semibold text-muted-foreground mb-2",children:" Paperback & Hardcover"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Coming Oct 28, 2025"})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-foreground text-center mb-4",children:"Available Now"}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg bg-primary/5",children:[b.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Paperback"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Standard edition; affordable, high-quality print"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"text-center",children:s?b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-sm text-muted-foreground line-through",children:"$34.95"}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:"$29.95"}),b.jsx("div",{className:"text-xs text-primary font-medium",children:"Launch Week Special!"})]}):b.jsx("span",{className:"text-2xl font-bold text-primary",children:"$34.95"})}),b.jsx(Lt,{size:"sm",className:"w-full bg-primary hover:bg-primary/90",onClick:()=>i("https://www.amazon.com/dp/B0FX2251DC"),"aria-label":"Buy Paperback on Amazon",children:"Buy Now"})]})]}),b.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg bg-primary/5",children:[b.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Hardcover"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Premium institutional edition for libraries, collectors, or display"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"text-center",children:s?b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-sm text-muted-foreground line-through",children:"$59.95"}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:"$54.95"}),b.jsx("div",{className:"text-xs text-primary font-medium",children:"Launch Week Special!"})]}):b.jsx("span",{className:"text-2xl font-bold text-primary",children:"$59.95"})}),b.jsx(Lt,{size:"sm",className:"w-full bg-primary hover:bg-primary/90",onClick:()=>i("https://www.amazon.com/dp/B0FX2CZRNV"),"aria-label":"Buy Hardcover on Amazon",children:"Buy Now"})]})]}),b.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg bg-primary/5",children:[b.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Kindle"}),b.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Convenient digital reading; same content as print"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"text-center",children:s?b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-sm text-muted-foreground line-through",children:"$34.95"}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:"$29.95"}),b.jsx("div",{className:"text-xs text-primary font-medium",children:"Launch Week Special!"})]}):b.jsx("span",{className:"text-2xl font-bold text-primary",children:"$34.95"})}),b.jsx(Lt,{size:"sm",className:"w-full bg-primary hover:bg-primary/90",onClick:()=>i("https://www.amazon.com/dp/B0FWXQCNN9"),"aria-label":"Buy Kindle on Amazon",children:"Buy Now"})]})]})]})]}),b.jsx("div",{className:"p-4 border border-muted rounded-lg bg-muted/20",children:b.jsx("h3",{className:"font-semibold text-muted-foreground mb-2 text-center",children:" Additional Formats Coming Soon"})})]})}),b.jsxs("div",{className:"relative py-8",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-border"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-4 bg-card text-muted-foreground",children:"or"})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[b.jsx(oO,{className:"w-5 h-5 text-primary"}),b.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Stay Updated"})]}),b.jsx("p",{className:"text-muted-foreground mb-6",children:"Get notified about new formats and receive free GenAI resources"}),b.jsx("div",{className:"max-w-2xl mx-auto py-4",children:b.jsx("iframe",{src:"https://embeds.beehiiv.com/794b6821-a119-4557-8f3d-fe37ea2296b4","data-test-id":"beehiiv-embed",width:"100%",height:"180",frameBorder:"0",scrolling:"no",style:{borderRadius:"8px",border:"1px solid rgba(59, 130, 246, 0.2)",margin:"0 0 1em 0",backgroundColor:"rgba(59, 130, 246, 0.05)"}})})]})]})})})]})},j$=()=>b.jsx("footer",{className:"border-t border-border bg-card/30 backdrop-blur-sm",children:b.jsxs("div",{className:"container px-4 py-12",children:[b.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-border to-transparent mb-8"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 mb-8 items-start",children:[b.jsxs("div",{className:"space-y-4 text-center md:text-left",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(zv,{className:"w-6 h-6 text-primary"}),b.jsx("span",{className:"font-bold text-lg text-foreground",children:"GenAI Book"})]}),b.jsx("p",{className:"text-sm text-muted-foreground max-w-sm md:max-w-none mx-auto md:mx-0",children:"Transform your business with practical GenAI frameworks and techniques."})]}),b.jsxs("div",{className:"text-center md:text-left",children:[b.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Connect"}),b.jsxs("div",{className:"flex justify-center md:justify-start gap-2",children:[b.jsx(Lt,{size:"icon",variant:"ghost",className:"hover:bg-primary/10 ring-1 ring-primary/20 hover:ring-primary/40",asChild:!0,children:b.jsx("a",{href:"https://www.linkedin.com/company/genai4business",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:b.jsx(hO,{className:"w-4 h-4"})})}),b.jsx(Lt,{size:"icon",variant:"ghost",className:"hover:bg-primary/10 ring-1 ring-primary/20 hover:ring-primary/40",asChild:!0,children:b.jsx("a",{href:"mailto:publishing@genai4all.org","aria-label":"Email",children:b.jsx(fO,{className:"w-4 h-4"})})})]})]})]}),b.jsx("div",{className:"pt-8 border-t border-border text-center text-sm text-muted-foreground",children:b.jsx("p",{children:" 2025 Generative AI for Business. All rights reserved."})})]})}),B$=()=>b.jsxs("div",{className:"min-h-screen bg-background",children:[b.jsx(L3,{}),b.jsx(gz,{}),b.jsx(Az,{}),b.jsx(D$,{}),b.jsx(L$,{}),b.jsx(I$,{}),b.jsx(O$,{}),b.jsx(F$,{}),b.jsx(j$,{})]}),z$=()=>{const n=SR();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),b.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),b.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),b.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},$$=new GB,U$=()=>b.jsx(XB,{client:$$,children:b.jsxs(AB,{children:[b.jsx(rF,{}),b.jsx(IF,{}),b.jsx(D3,{basename:"/book",children:b.jsxs(R3,{children:[b.jsx(vb,{path:"/",element:b.jsx(B$,{})}),b.jsx(vb,{path:"*",element:b.jsx(z$,{})})]})})]})});Wk(document.getElementById("root")).render(b.jsx(U$,{}));
